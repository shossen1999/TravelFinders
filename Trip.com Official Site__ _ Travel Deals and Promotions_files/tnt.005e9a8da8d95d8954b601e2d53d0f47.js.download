!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define("tnt",["React","ReactDOM"],t):"object"==typeof exports?exports.tnt=t(require("React"),require("ReactDOM")):e.tnt=t(e.React,e.ReactDOM)}(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__37__){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2110)}({0:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},11:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},136:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},1500:function(module,exports,__webpack_require__){(function(process){var factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE__3804__,__WEBPACK_EXTERNAL_MODULE__7196__){return(()=>{var __webpack_modules__={8645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>a,__decorate:()=>s,__param:()=>c,__esDecorate:()=>l,__runInitializers:()=>u,__propKey:()=>p,__setFunctionName:()=>d,__metadata:()=>f,__awaiter:()=>h,__generator:()=>y,__createBinding:()=>m,__exportStar:()=>g,__values:()=>v,__read:()=>_,__spread:()=>w,__spreadArrays:()=>b,__spreadArray:()=>k,__await:()=>C,__asyncGenerator:()=>I,__asyncDelegator:()=>O,__asyncValues:()=>S,__makeTemplateObject:()=>E,__importStar:()=>T,__importDefault:()=>N,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>R,__classPrivateFieldIn:()=>D,__addDisposableResource:()=>L,__disposeResources:()=>j,__rewriteRelativeImportExtension:()=>B,default:()=>U});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t,r,n,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d=!1,f=r.length-1;f>=0;f--){var h={};for(var y in n)h[y]="access"===y?{}:n[y];for(var y in n.access)h.access[y]=n.access[y];h.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var m=(0,r[f])("accessor"===c?{get:p.get,set:p.set}:p[l],h);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(p.get=s),(s=a(m.set))&&(p.set=s),(s=a(m.init))&&i.unshift(s)}else(s=a(m))&&("field"===c?i.unshift(s):p[l]=s)}u&&Object.defineProperty(u,n.name,p),d=!0}function u(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function p(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function y(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var m=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||m(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function k(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function C(e){return this instanceof C?(this.v=e,this):new C(e)}function I(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=i[e](t)).value instanceof C?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function O(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:C(e[n](t)),done:!1}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},x=function(e){return x=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},x(e)};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=x(e),n=0;n<r.length;n++)"default"!==r[n]&&m(t,e,r[n]);return P(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function R(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function D(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var M="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function j(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function B(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,o){return r?t?".jsx":".js":!n||i&&o?n+i+"."+o.toLowerCase()+"js":e}):e}const U={__extends:i,__assign:o,__rest:a,__decorate:s,__param:c,__esDecorate:l,__runInitializers:u,__propKey:p,__setFunctionName:d,__metadata:f,__awaiter:h,__generator:y,__createBinding:m,__exportStar:g,__values:v,__read:_,__spread:w,__spreadArrays:b,__spreadArray:k,__await:C,__asyncGenerator:I,__asyncDelegator:O,__asyncValues:S,__makeTemplateObject:E,__importStar:T,__importDefault:N,__classPrivateFieldGet:A,__classPrivateFieldSet:R,__classPrivateFieldIn:D,__addDisposableResource:L,__disposeResources:j,__rewriteRelativeImportExtension:B}},7760:e=>{"use strict";e.exports={i8:"1.3.12"}},9384:(e,t,r)=>{var n=r(7823);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},5372:(e,t,r)=>{var n=r(2521).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7823:(e,t,r)=>{var n=r(2521).default,i=r(5372);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},2521:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";t.default=function(e){try{var t=Math.random().toString(16).slice(-4);if(e<=4)return t.slice(0,e);for(var n="",i=0;i<e-t.length;i++){var o=Math.ceil(61*Math.random());n+=r[o]}return t+n}catch(e){}}},708:e=>{"use strict";var t={HTML_DATA_ATTRIBUTE_NAME:"data-cargo",H5:"h5",ONLINE:"online",PADS:["ipad","playbook","tablet"],MOBILES:["mobile","iphone","android","phone","wap","opera","opera mini","ucweb","windows ce","symbian","series","webos","sony","blackberry","dopod","nokia","samsung","palmsource","meizu","midp","cldc","motorola"]},r="locale",n="language",i="currency",o="site",a="group",s="contextType",c=function(e){var r={};return(window.document.getElementsByTagName("html")[0].getAttribute(t.HTML_DATA_ATTRIBUTE_NAME)||"").split(",").forEach(function(e){var t=e.split(":");2===t.length&&(r[t[0]]=t[1])}),e?r[e]||"":r},l=function(e,r){if(e&&r){var n=c();n[e]=r,window.document.getElementsByTagName("html")[0].setAttribute(t.HTML_DATA_ATTRIBUTE_NAME,Object.entries(n).map(function(e){return e.join(":")}).join())}},u=function(e){var t="";return e&&(t="; ".concat(window.document.cookie).split("; ".concat(e,"=")).pop().split(";")[0]),t},p=function(e){var r,n=e||c(s);return n?n.toLowerCase()===t.H5:((r=(window.navigator.userAgent||"").toLowerCase())?!t.MOBILES.some(function(e){return-1!==r.indexOf(e)})||t.PADS.some(function(e){return-1!==r.indexOf(e)})||/android/.test(r)&&!/mobile/.test(r)?t.ONLINE:t.H5:t.ONLINE)===t.H5||"m"===window.location.pathname.split("/")[1]},d=function(e){if(/^[a-z]{2}(-|_)[a-z]{2}$/i.test(e)){var t=e.match(/[a-z]{2}/gi);return"".concat(t[0].toLowerCase(),"-").concat(t[1].toUpperCase())}},f={getLocale:function(e){var t=d(c(r));return t||(t=d(window.document.getElementsByTagName("html")[0].getAttribute("lang"))),t||(t=p(e)?d(u("ibu_h5_local")):d(u("ibulocale")||u("ibu_h5_local"))),t||""},setLocale:function(e){var t=d(e);t&&l(r,t)},getLanguage:function(e){var t=c(n);return t||(t=p(e)?u("ibu_h5_lang"):u("ibulanguage")),(t||"").toLowerCase()},setLanguage:function(e){e&&/^([a-z]{2}){1,2}$/i.test(e)&&l(n,e.toLowerCase())},getCurrency:function(e){var t=c(i);return t||(t=p(e)&&u("ibu_h5_curr")||u("cookiePricesDisplayed")),(t||"").toUpperCase()},setCurrency:function(e){e&&/^[a-z]{3}$/i.test(e)&&l(i,e.toUpperCase())},getSite:function(){var e=c(o);return e||(e=u("ibu_h5_site")),(e||"").toUpperCase()},setSite:function(e){e&&/^[a-z]{2}$/i.test(e)&&l(o,e.toUpperCase())},getGroup:function(){var e=c(a);return e||(e=u("ibu_h5_group")),e||""},setGroup:function(e){e&&l(a,e)},getContextType:function(){return p()?t.H5:t.ONLINE},setContextType:function(e){e&&[t.H5,t.ONLINE].includes(e.toLowerCase())&&l(s,e.toLowerCase())}};"undefined"!=typeof window&&(window.cargo=f),e.exports=f},5151:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5633);function i(e){var t={attrs:e.attrs,scene:e.scene,module:e.module,action:"",key:e.key,value:e.value,before:e.before,desc:e.desc,contents:e.contents,jsonData:e.jsonData,rootMessageId:e.rootMessageId};return e.role||(e.role=n.RoleType.sys),e.action?t.action=e.role+"_"+e.action:t.action=e.role,t}t.default={pageInfo:function(e){return{contents:e.contents,action:"sys_pageinfo",attrs:e.attrs,desc:e.desc||"基本信息"}},message:function(e){return i({scene:e})},actionInfo:function(e){return i(e)},error:function(e){var t="Error";return e.errorType&&Object.values(n.ErrorType).includes(e.errorType)&&(t=e.errorType),{category:"km_"+e.pageName+"_"+t,message:e.message,ex:e.ex}}}},7937:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||a(t,e,r)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(5633),u=c(r(5404)),p=c(r(5151)),d=c(r(523)),f=c(r(4800)),h=function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.sender=f.default(t,r)},(t=[{key:"logPageInfo",value:function(e){try{var t=u.default.checkPageInfo(e);if(t)return void d.default.warn("logPageInfo",t);var r=p.default.pageInfo(e);return this.sender.sendDevTrace(r),r}catch(e){if(this.config&&this.config.platform==l.PlatformType.test)return e;d.default.exception("logPageInfo",e)}}},{key:"logMessage",value:function(e){try{var t=u.default.checkMessage(e);if(t)return void d.default.warn("logMessage",t);var r=p.default.message(e);return this.sender.sendDevTrace(r),r}catch(e){if(this.config&&this.config.platform==l.PlatformType.test)return e;d.default.exception("logMessage",e)}}},{key:"logActionInfo",value:function(e){try{var t=u.default.checkActionInfo(e);if(t)return void d.default.warn("logActionInfo",t);var r=p.default.actionInfo(e);return this.sender.sendDevTrace(r),r}catch(e){if(this.config&&this.config.platform==l.PlatformType.test)return e;d.default.exception("logActionInfo",e)}}},{key:"logError",value:function(e){try{var t=u.default.checkError(e);if(t)return void d.default.warn("logError",t);var r=p.default.error(e);return this.sender.sendError(r),this.config.platform!=l.PlatformType.test&&d.default.error("logError",r),r}catch(e){if(this.config&&this.config.platform==l.PlatformType.test)return e;d.default.exception("logError",e)}}}])&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.default=h,s(r(5633),t)},5633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=t.ActionType=t.RoleType=t.PlatformType=void 0,function(e){e.web="web",e.crn="crn",e.taro="taro",e.test="test"}(t.PlatformType||(t.PlatformType={})),function(e){e.usr="usr",e.sys="sys"}(t.RoleType||(t.RoleType={})),function(e){e.click="click",e.change="change",e.show="show"}(t.ActionType||(t.ActionType={})),function(e){e.Network_Fail="Network_Fail",e.Request_Abort="Request_Abort",e.Ack_Fail="Ack_Fail"}(t.ErrorType||(t.ErrorType={}))},523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={exception:function(e,t){"undefined"!=typeof console&&console.error},warn:function(e,t){t||(t="Unknown Exception"),"undefined"!=typeof console&&console.warn},error:function(e,t){console&&console.error}}},4800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5633);t.default=function(e,t){return{sendDevTrace:function(r){!function(e){if(!e)throw Error("Please new DevhubTrace with valid config");if(!Object.values(n.PlatformType).includes(e.platform))throw Error("Please setup platform in Config");if(!e.ubtKey)throw Error("Please setup ubtKey in Config")}(e),e.platform==n.PlatformType.web?function(e,t){var r=JSON.stringify(e);if("undefined"==typeof window)throw Error("window is not defined, please check platform in Config");window.__bfi=window.__bfi||[],window.__bfi.push(["_devTrace",t,r])}(r,e.ubtKey):e.platform==n.PlatformType.crn?function(e,t,r){if(void 0===r||"function"!=typeof r.logDevTrace)throw Error("Log.logDevTrace is not defined, please new DevhubTrace with @ctrip/crn.Log");var n=JSON.stringify(e);r.logDevTrace(t,{data:n})}(r,e.ubtKey,t):e.platform==n.PlatformType.taro&&function(e,t,r){if(void 0===r||"function"!=typeof r.ubtDevTrace)throw Error("this.ubtDevTrace is not defined, please new DevhubTrace with taroBase.ubtDevTrace");var n=JSON.stringify(e);r.ubtDevTrace(t,{data:n})}(r,e.ubtKey,t)},sendError:function(r){!function(e){if(!e)throw Error("Please new DevhubTrace with valid config");if(!Object.values(n.PlatformType).includes(e.platform))throw Error("Please setup platform in Config");if(!e.ubtKey)throw Error("Please setup ubtKey in Config");if(!e.organizationId)throw Error("Please setup organizationId in Config")}(e),e.platform==n.PlatformType.web?function(e,t){if("undefined"==typeof window)throw Error("window is not defined, please check platform in Config");var r="";if(e.ex){var n=e.ex,i=n.stack,o=n.message,a=n.name;r=i||o||a}var s={version:11,organizationId:t,category:e.category,message:e.message,stack:r,appVer:"web"};window.__bfi=window.__bfi||[],window.__bfi.push(["_trackError",s])}(r,e.organizationId||"51"):e.platform==n.PlatformType.crn?function(e,t,r){if(void 0===r||"function"!=typeof r.logError)throw Error("Log.logError is not defined, new DevhubTrace with @ctrip/crn.Log");var n="";if(e.ex){var i=e.ex,o=i.stack,a=i.message,s=i.name;n=o||a||s}r.logError(e.category,e.message,t,{stack:n})}(r,e.organizationId||"51",t):e.platform==n.PlatformType.taro&&function(e,t,r){if(void 0===r||"function"!=typeof r.ubtTrackError)throw Error("this.ubtTrackError is not defined, new DevhubTrace with with taroBase.ubtTrackError");var n="";if(e.ex){var i=e.ex,o=i.stack,a=i.message,s=i.name;n=o||a||s}var c={version:15,organizationId:t,category:e.category,message:e.message,stack:n,appVer:"weixin"};r.ubtTrackError(c)}(r,e.organizationId||"51",t)}}}},5404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5633);t.default={checkPageInfo:function(e){return e?e.contents&&e.contents.length?"":"contents 不能为空！":"log 不能为空！"},checkMessage:function(e){return e?"":"log 不能为空！"},checkActionInfo:function(e){return e?e.action&&!Object.values(n.ActionType).includes(e.action)?"action 枚举类型错误！":e.action&&!(e.value||e.contents&&e.contents.length)?"action 设置后 value 或 contents 不能为空！":e.role&&!Object.values(n.RoleType).includes(e.role)?"role 枚举类型错误！":"":"log 不能为空！"},checkError:function(e){return e?e.pageName?e.message?"":"message 不能为空！":"pageName 不能为空！":"log 不能为空！"}}},8319:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2239);t.default=function(e){var t,r=e.cachePolicy||{},i=r.cacheKey,o=r.update,a=e.serviceCode||"",s=e.serviceOperation||"",c=!1;if(i&&(t=new n.default({key:i,lifeTime:r.cacheExpireTime||3e4}),r.enableCache?c=!0:t.remove()),c)try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"104047",value:1,tag:{serviceCode:a,serviceOperation:s,key:i}}])}catch(e){}return{getCache:function(){var e=t&&t.get();return!(!c||!e||o)&&new Promise(function(t){setTimeout(function(){t(e)},0)})},setCache:function(e){c&&t.set(e)}}}},3354:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var i=r(7872);r(4231);var o=r(4237),a=r(6798),s=r(5168),c=r(2576),l=r(166),u=r(7699),p=r(9329),d=r(5240),f=r(1703),h=r(3461),y=r(8613),m=r(3400),g=r(8319),v=r(4645),_={};Promise.prototype.fetchAbort=function(e){if(void 0===e&&(e=""),this.isAbort=!0,_[e])try{_[e].promise.isAbort=!0,_[e].controller.abort(),_[e]=null}catch(e){}};var w={cid:"",ctok:"",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:"",xsid:"",extension:[]},b={FAT:"https://gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2",UAT:"https://gateway.m.uat.qa.nt.ctripcorp.com/restapi/soa2",PROD:"https://m.ctrip.com/restapi/soa2"},k=function(){function e(e){if(this.timeout=3e4,this.method="POST",this.headers={"content-type":"application/json"},this.checkAuth=!0,this.isReSend=!1,this.clientId="",this.isNoHead=!1,this.ignoreCID=!1,this.needTempCID=!1,this.noCookieOrigin=!1,this.head=null,this._getServiceParam=function(e){var t={},r=e.match(/soa2.*\/(\d+).*\/([^?.]*)(\?|\.)?/);return r&&(t={serviceCode:r[1],serviceOperation:r[2]}),t},Object.assign(this,e||{}),e&&(this.ignoreCID=e.ignoreCID),!this.noCookieOrigin){var t=window.location.origin;t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.headers.cookieOrigin=t}this.initHead()}return e.prototype.initHead=function(){this.head=Object.assign({},w);try{var e=y.default(),t=localStorage.getItem("SOURCEID");t&&(this.head.sid=t),e.extSouceID&&(this.head.xsid=e.extSouceID),e.systemCode&&(this.head.syscode=e.systemCode),(e.internalVersion||e.version)&&(this.head.cver=e.internalVersion||u.default(e.version||""))}catch(e){}},e.prototype.getProtocol=function(){return window.location&&window.location.protocol?"https:"==window.location.protocol?"https":"file:"==window.location.protocol?"file":"http":""},e.prototype.appendSuffix=function(e,t){if(t){var r=t+"-"+(new Date).getTime()+"-"+Math.floor(1e7*Math.random()),n=e.indexOf("?")>-1?"&":"?";e=e+n+"_fxpcqlniredt="+t+"&x-traceID="+r}return e},e.prototype.getClientId=function(){var e=this,t=this.clientId;return t||(t=o.default()),new Promise(function(r,n){if(e.ignoreCID&&r(),t)r(t);else{if(e.needTempCID)return void r("00000000000000000000");if(p.default)return;a.default(function(e){e?r(e):n()})}})},e.prototype._getResponseHead=function(e,t){var r=!!e.ResponseStatus,n=r?e.ResponseStatus:e.head,i=!1,o=!1;if(r&&n){var a=n.Extension;a&&a.length&&f.default(a,function(e){if(e)switch(e.Id){case"sauth":c.default.set(e.Value);break;case"CLOGGING_TRACE_ID":t.set("CLOGGING_TRACE_ID",e.Value)}});var l=n.Ack;try{void 0===l&&(l=n.ack)}catch(e){}if("Failure"===l||1==l){var u=n.Errors;if(u instanceof Array&&u.length>0)for(var p=0,d=void 0;p<u.length;p++)if((d=u[p])&&d.ErrorCode&&("MobileRequestFilterException"===d.ErrorCode||"AccountsMobileRequestFilterException"===d.ErrorCode)){this.checkAuth&&(o=!0,s.default.removeUser());break}}i="Failure"!==l&&1!=l&&"PartialFailure"!==l}else i=!r||n&&0===n.errcode;return o?{overdue:!0}:{success:i}},e.prototype.reWriteAttrBuites=function(e){for(var t in{noCookieOrigin:1,ignoreCID:1,checkAuth:1}){var r=e[t];"checkAuth"!==t?r&&(this[t]=r):void 0===r||r||(this[t]=!1)}},e.prototype.fetch=function(e,t){void 0===t&&(t={});var r=this,o=t.needEncrypt||!1;if(t.useSoa){var a=d.default(window.location.hostname).toUpperCase(),c=b[a]||b.PROD;if(e)e=c+""+e;else{if(!t.serviceCode||!t.serviceOperation)throw new Error("The serviceCodePathUrl or serviceCode/serviceOperation must be filled in useSoa/isUseSOARequestOnly mode");e=c+"/"+t.serviceCode+"/"+t.serviceOperation}}var u=t.serviceCode||this._getServiceParam(e).serviceCode,f=t.serviceOperation||this._getServiceParam(e).serviceOperation,y=t.abortKey||"",w=t.useAbortCatch||!1,k=m.default({url:e,serviceCode:u,serviceOperation:f}),C=g.default(i.__assign({},t,{serviceCode:u,serviceOperation:f})),I=C.getCache();if(I)return I;this.reWriteAttrBuites(t);var O=null,S=new Promise(function(e,n){O=setTimeout(function(){n({status:"timeout"})},t.timeout||r.timeout)}),E=new Promise(function(a,c){var u=function(e){O&&clearTimeout(O),E&&E.isAbort||(k.end({success:!0}),C.setCache(e),a(e))},d=function(n){O&&clearTimeout(O),E&&E.isAbort||(k.end({success:!1,info:[n.message,JSON.stringify(n)].join(",")}),r._onError(n,c,function(){r._reSend(e,t,a,c)}))};r.getClientId().then(function(a){try{var c=t.params||{};c.method=t.method||r.method;var f=Object.assign({},r.head),m=s.default.getUser();if(m)f.auth=m.Auth||m.auth;else if(p.default)try{if(window.name){var g=JSON.parse(window.name);g.versionCode&&g.version&&g.userInfo.data&&(f.auth=g.userInfo.data.Auth||g.userInfo.data.auth,s.default.setUser(JSON.stringify(g.userInfo.data)))}}catch(e){}if(f.cid=a||"",t.extension&&(f.extension=f.extension.concat(t.extension)),"post"===c.method.toLowerCase()){if(c.body=t.body||{},t&&!t.isForm){if(!r.isNoHead&&!t.isNoHead){if("string"==typeof c.body)try{c.body=JSON.parse(c.body)}catch(e){c.body={}}c.body.head=Object.assign(f,c.body.head||{})}c.body=JSON.stringify(c.body)}}else{var b=e.indexOf("?")>-1?"&":"?";e+=b+h.default(t.body||{})}c.headers=Object.assign({},r.headers,t.headers||{}),P=c.body,"undefined"!=typeof FormData&&P instanceof FormData&&delete c.headers["content-type"],(r.noCookieOrigin&&c.headers.cookieOrigin||!/^https?/.test(c.headers.cookieOrigin))&&delete c.headers.cookieOrigin,t.credentials?(c.credentials=t.credentials,c.mode=t.mode):(c.credentials="include",c.mode="cors"),"file://"===c.headers.cookieOrigin&&(delete c.credentials,delete c.mode),p.default&&"file"===r.getProtocol()&&(c.credentials="omit"),e=r.appendSuffix(e,a);var C=t.resType||"json",I=!1;t.response&&(I=!0),o&&(c.headers["x-origin-ct"]=c.headers["content-type"],c.headers["content-type"]="text/plain",c.headers["x-payload-accept"]="camev1",c.headers["x-payload-encoding"]="camev1",c.dataType="text",c.body=v.default.encrypt("object"===n(c.body)?JSON.stringify(c.body):c.body),I=!1,C="text");try{if(window.AbortController&&y){var O=new window.AbortController;c.signal=O.signal,_[y]={controller:O,promise:E}}}catch(e){}var S=fetch(e,c).then(function(e){try{_[y]&&(_[y]=null),k.set("statusCode",e.status),e.headers&&k.set({RootMessageId:e.headers.get("rootmessageid")||"",CLOGGING_TRACE_ID:e.headers.get("clogging_trace_id")||"",serverProtocol:e.headers.get("protocol")||""})}catch(e){}if(e.status>=200&&e.status<300)return I?void u(e):e[C]&&e[C]();var t=new Error(e.statusText);throw t.response=e,t}).catch(function(e){if(_[y]&&(_[y]=null),"aborterror"!==e.name.toLowerCase()){if(!I)throw e;d(e)}else w&&d(e)});return I?S:S.then(function(e){if(_[y]&&(_[y]=null),o){e=v.default.decrypt(e);try{e=JSON.parse(e)}catch(e){}}if("json"===C)if(e){var t=r._getResponseHead(e,k);l.default(t.success,"Undefined")?t.overdue&&d(i.__assign({},e,{nfesOverdue:!0})):t.success?u(e):d(e)}else d(e);else u(e)}).catch(function(e){_[y]&&(_[y]=null),"aborterror"!==e.name.toLowerCase()&&d(e)})}catch(e){d(e)}var P},function(){d(new Error("Get ClientID Failed,Can Not Send Request!"))})});return Promise.race([S,E])},e.prototype._reSend=function(e,t,r,n){this.isReSend=!0,this.fetch(e,t).then(function(e){r(e)}).catch(function(e){n(e)})},e.prototype._onError=function(e,t,r){e&&e.response&&e.response.status,t(e)},e}();t.Z=k},3400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6871),i=r(9329);t.default=function(e){var t;void 0===e&&(e={});var r=Object.assign({success:!1,statusCode:null,RootMessageId:"",CLOGGING_TRACE_ID:"",serverProtocol:"",info:""},e);try{t=n.default.getId(),n.default.sendTime(t)}catch(e){}return r.framework=i.default?"nfes-ctripapp":"nfes-h5",{set:function(e,t){"string"!=typeof e?r=Object.assign(r,e):r[e]=t},end:function(e){void 0===e&&(e={}),r=Object.assign(r,e),n.default.sendTimeEnd(t,r)}}}},6798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(4231);var n=r(3633),i=r(1386),o=r(9767);t.default=function(e,t){var r=n.default("gateway",null,t),a="https://"+r+"/restapi/soa2/10290/createclientid?systemcode=09&createtype=3&contentType=json";t&&"lpt"===t.env&&(a="http://mobile.fx.lpt71.qa.nt.ctripcorp.com/mobile/json/CreateClientID"),fetch(a).then(function(e){return e.json()}).then(function(t){var n=t&&t.ClientID;if(n&&o.default){var a="";a=/\.ctrip\.com/.test(r)?".ctrip.com":/\.trip\.com/.test(r)?".trip.com":".ctripcorp.com",i.default("GUID",n,new Date((new Date).getTime()+93312e6),"/",a),window.localStorage.setItem("GUID",n)}e&&e(n)}).catch(function(){e&&e(null)})}},7699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){void 0===e&&(e="");var t,r=e.split(".")||[];return r[0]&&(t=100*+r[0]),r[1]&&(t+=+r[1]),r[2]?t+="."+[0,0,0].slice(r[2].length).join("")+r[2]:t+=".000",t}},3633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767),i=r(9329),o=r(6295),a=r(5723),s=".qa.nt.ctripcorp.com",c=".uat.ctripqa.com",l=n.default?window.__NEXT_DATA__&&window.__NEXT_DATA__.international?"m.trip.com":"m.ctrip.com":"apigateway.ctripcorp.com",u="accounts.ctrip.com",p={prod:u,uat:"accounts.uat"+s,fat:"accounts.fat466"+s,uatqa:"accounts"+c,baolei:u},d={prod:l,uat:"gateway.m.uat"+s,fat:"gateway.m.fws"+s,uatqa:"gateway.m"+c,baolei:l},f={accounts:p,login:Object.assign({},p),gateway:d,online:Object.assign({},d,{uat:"m.uat"+s,fat:""}),webresource:{prod:"webresource.c-ctrip.com",uat:"webresource.uat"+s,fat:"webresource.fws"+s,baolei:"webresource.c-ctrip.com"}};t.default=function(e,t,r){void 0===e&&(e="gateway");var s="prod";return t?s=(0,a.default)(t):i.default?s=(0,o.default)():n.default&&(s=(0,a.default)(t)),f[e]?(r&&r.env&&(s=r.env.toLowerCase()),f[e][s]):""}},1703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breaker=void 0;var n=r(895),i=Array.prototype.forEach;t.breaker={},t.default=function(e,r,o){if(null!=e)if(i&&e.forEach===i)e.forEach(r,o);else if(e.length===+e.length){for(var a=0,s=e.length;a<s;a++)if(r.call(o,e[a],a,e)===t.breaker)return}else for(var c in e)if((0,n.default)(e,c)&&r.call(o,e[c],c,e)===t.breaker)return}},8613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9329);t.default=function(){if(n.default)try{var e=JSON.parse(window.name||'{"__nfes_mock":true}');return e.__nfes_mock?JSON.parse(window.localStorage.getItem("CINFO")||"{}"):e}catch(e){try{return JSON.parse(window.localStorage.getItem("CINFO")||"{}")}catch(e){return{}}}return{}}},4237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1746),i=r(9767),o=r(9329),a=r(8613);t.default=function(e){var t=null;return!(t=o.default?(0,n.default)("_n_cid",e)||(i.default?window.localStorage.getItem("GUID"):null)||(0,n.default)("GUID",e):(0,n.default)("GUID",e)||(0,n.default)("_n_cid",e))&&o.default&&(t=((0,a.default)()||{}).clientID),!t&&i.default&&(t=window.localStorage.getItem("GUID")),t||i.default||"undefined"==typeof nfesServerData||(t=nfesServerData.clientId||""),t}},1746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767);t.default=function(e,t){var r="";if(!t)if(n.default)t=document.cookie;else{if("undefined"==typeof nfesServerData||!nfesServerData.cookies)return r;t=nfesServerData.cookies||""}for(var i=t.split("; "),o=0,a=void 0,s=void 0;o<i.length;o++)s=(a=i[o]).indexOf("="),a.substr(0,s)===e&&(r=a.substr(s+1));return r}},5723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767);t.default=function(e){return void 0===e&&(e=""),n.default&&!e&&(e=window.location.host),e.match(/^m\.ctrip\.com/i)?"prod":e.match(/\.uat\.qa/i)?"uat":e.match(/\.ui\.|\.dev\.|\.fat/i)||e.match(/\.lpt/i)||e.match(/\.fws/i)||e.match(/^(localhost|172\.16|127\.0|10\.15|10\.32)/i)?"fat":e.match(/(\.|-)uat\.ctripqa\.com/i)?"uatqa":"prod"}},5240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767),i=r(9329),o=r(6295),a=r(5723);t.default=function(e){return e||n.default?i.default?!n.default&&e?(0,a.default)(e):(0,o.default)():e||n.default?(0,a.default)(e):void 0:"undefined"!=typeof nfesServerData&&nfesServerData.env||"prod"}},895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},9767:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof window},9329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isYouth=t.isInMaster=t.isInCtripApp=void 0,t.isInCtripApp=function(e){if(void 0===e&&(e=""),"undefined"==typeof navigator&&!e)return!1;var t=e||navigator.userAgent,r=/(CtripWireless|sml_wireless|gs_wireless|we_wireless|TieyouWireless)/i.test(t),n=/CTRIPPER|_tripPal_CtripWireless/i.test(t);return r&&!n},t.default=(0,t.isInCtripApp)(),t.isInMaster="undefined"!=typeof navigator&&/(Ctrip|Unicom|Pro)_CtripWireless/.test(navigator.userAgent),t.isYouth="undefined"!=typeof navigator&&/Youth_CtripWireless/.test(navigator.userAgent)},6295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767),i=r(9329),o=r(8613);t.default=function(e){return n.default&&(i.default||e)?"0"==(e=e||window.localStorage.getItem("isPreProduction")||(0,o.default)().isPreProduction)?"fat":"2"==e?"uat":"1"==e?"baolei":"prod":"prod"}},3461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(166);t.default=function(e){var t=[];return t.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},function(e,t){if((0,n.default)(t,"Array")){for(var r=0;r<t.length;r++){var i=t[r];e.add(i.name,i.value)}return e}if((0,n.default)(t,"Object")){for(var o in t)i=t[o],e.add(o,i)}}(t,e),t.join("&").replace(/%20/g,"+")}},1386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9767),i=r(166);t.default=function(e,t,r,o,a,s){if(void 0===r&&(r=new Date((new Date).getTime()+93312e6)),void 0===o&&(o="/"),void 0===a&&(a=".ctrip.com"),n.default)try{((0,i.default)(t,"Object")||(0,i.default)(t,"Array"))&&(t=JSON.stringify(t)),document.cookie=e+"="+encodeURIComponent(t)+(r?"; expires="+r.toGMTString():"")+(o?"; path="+o:"")+(a?"; domain="+a:"")+(s?"; secure":"")}catch(e){}}},4645:(e,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==r(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,r){var n;e.exports=(n=n||function(e){var t=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),r={},n=r.lib={},i=n.Base={extend:function(e){var r=t(this);return e&&r.mixIn(e),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new o.init(n,t)}}),a=r.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(n,u);var p=n.splice(0,c);r.sigBytes-=l}return new o.init(p,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(n.Hasher=u.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),r.algo={});return r}(Math),n)},function(e,t,r){e.exports=r(0).enc.Utf8},function(e,t,r){var n,i,o,a,s,c,l,u,p,d,f,h,y,m,g,v,_,w,b;e.exports=(n=r(0),r(7),void(n.lib.Cipher||(i=n,o=i.lib,a=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,l=i.enc,l.Utf8,u=l.Base64,p=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:_}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=i.mode={},h=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),y=f.CBC=function(){var e=h.extend();function t(e,t,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else i=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),m=(i.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],a=0;a<n;a+=4)o.push(i);var c=s.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:m}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),g=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=s.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=s.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:n})}},_=o.SerializableCipher=a.extend({cfg:a.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return g.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(i.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=s.random(8));var i=p.create({keySize:t+r}).compute(e,n),o=s.create(i.words.slice(t),4*r);return i.sigBytes=4*t,g.create({key:i,iv:o,salt:n})}},b=o.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:w}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=_.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,_.decrypt.call(this,e,t,i.key,n)}}))))},function(e,t,r){var n,i,o;e.exports=(o=r(0),i=(n=o).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,r){for(var n=[],o=0,a=0;a<t;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2,c=r[e.charCodeAt(a)]>>>6-a%4*2;n[o>>>2]|=(s|c)<<24-o%4*8,o++}return i.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,r){var n;e.exports=(n=r(0),r(3),r(9),r(7),r(2),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],a=[],s=[],c=[],l=[],u=[],p=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var h=n^n<<1^n<<2^n<<3^n<<4;h=h>>>8^255&h^99,i[r]=h,o[h]=r;var y=e[r],m=e[y],g=e[m],v=257*e[h]^16843008*h;a[r]=v<<24|v>>>8,s[r]=v<<16|v>>>16,c[r]=v<<8|v>>>24,l[r]=v,v=16843009*g^65537*m^257*y^16843008*r,u[h]=v<<24|v>>>8,p[h]=v<<16|v>>>16,d[h]=v<<8|v>>>24,f[h]=v,r?(r=y^e[e[e[g^y]]],n^=e[e[n]]):r=n=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)if(a<r)o[a]=t[a];else{var s=o[a-1];a%r?r>6&&a%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=h[a/r|0]<<24),o[a]=o[a-r]^s}for(var c=this._invKeySchedule=[],l=0;l<n;l++)a=n-l,s=l%4?o[a]:o[a-4],c[l]=l<4||a<=4?s:u[i[s>>>24]]^p[i[s>>>16&255]]^d[i[s>>>8&255]]^f[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,p,d,f,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var c=this._nRounds,l=e[t]^r[0],u=e[t+1]^r[1],p=e[t+2]^r[2],d=e[t+3]^r[3],f=4,h=1;h<c;h++){var y=n[l>>>24]^i[u>>>16&255]^o[p>>>8&255]^a[255&d]^r[f++],m=n[u>>>24]^i[p>>>16&255]^o[d>>>8&255]^a[255&l]^r[f++],g=n[p>>>24]^i[d>>>16&255]^o[l>>>8&255]^a[255&u]^r[f++],v=n[d>>>24]^i[l>>>16&255]^o[u>>>8&255]^a[255&p]^r[f++];l=y,u=m,p=g,d=v}y=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^r[f++],m=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^r[f++],g=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[f++],v=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^r[f++],e[t]=y,e[t+1]=m,e[t+2]=g,e[t+3]=v},keySize:8});e.AES=t._createHelper(y)}(),n.AES)},function(e,t,r){var n,i;e.exports=(i=r(0),r(2),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),i.mode.ECB)},function(e,t,r){var n;e.exports=(n=r(0),r(2),n.pad.Pkcs7)},function(e,t,r){var n,i,o,a,s,c,l,u;e.exports=(u=r(0),r(10),r(11),o=(i=(n=u).lib).Base,a=i.WordArray,c=(s=n.algo).MD5,l=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=a.create(),o=i.words,s=r.keySize,c=r.iterations;o.length<s;){l&&n.update(l);var l=n.update(e).finalize(t);n.reset();for(var u=1;u<c;u++)l=n.finalize(l),n.reset();i.concat(l)}return i.sigBytes=4*s,i}}),n.EvpKDF=function(e,t,r){return l.create(r).compute(e,t)},u.EvpKDF)},function(e,t,r){"use strict";r.r(t);var n=r(4),i=r.n(n),o=r(3),a=r.n(o),s=r(1),c=r.n(s),l=r(5),u=r.n(l),p=r(6),d=r.n(p),f=c.a.parse("YnV0dGVycz3MzRkw");t.default={encrypt:function(e){var t=c.a.parse(e),r=i.a.encrypt(t,f,{mode:u.a,padding:d.a}).ciphertext;return a.a.stringify(r).toString()},decrypt:function(e){return i.a.decrypt(e,f,{mode:u.a,padding:d.a}).toString(c.a)}}},function(e,t,r){var n;e.exports=(n=r(0),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],f=e[t+2],h=e[t+3],y=e[t+4],m=e[t+5],g=e[t+6],v=e[t+7],_=e[t+8],w=e[t+9],b=e[t+10],k=e[t+11],C=e[t+12],I=e[t+13],O=e[t+14],S=e[t+15],E=o[0],P=o[1],x=o[2],T=o[3];E=l(E,P,x,T,a,7,s[0]),T=l(T,E,P,x,c,12,s[1]),x=l(x,T,E,P,f,17,s[2]),P=l(P,x,T,E,h,22,s[3]),E=l(E,P,x,T,y,7,s[4]),T=l(T,E,P,x,m,12,s[5]),x=l(x,T,E,P,g,17,s[6]),P=l(P,x,T,E,v,22,s[7]),E=l(E,P,x,T,_,7,s[8]),T=l(T,E,P,x,w,12,s[9]),x=l(x,T,E,P,b,17,s[10]),P=l(P,x,T,E,k,22,s[11]),E=l(E,P,x,T,C,7,s[12]),T=l(T,E,P,x,I,12,s[13]),x=l(x,T,E,P,O,17,s[14]),E=u(E,P=l(P,x,T,E,S,22,s[15]),x,T,c,5,s[16]),T=u(T,E,P,x,g,9,s[17]),x=u(x,T,E,P,k,14,s[18]),P=u(P,x,T,E,a,20,s[19]),E=u(E,P,x,T,m,5,s[20]),T=u(T,E,P,x,b,9,s[21]),x=u(x,T,E,P,S,14,s[22]),P=u(P,x,T,E,y,20,s[23]),E=u(E,P,x,T,w,5,s[24]),T=u(T,E,P,x,O,9,s[25]),x=u(x,T,E,P,h,14,s[26]),P=u(P,x,T,E,_,20,s[27]),E=u(E,P,x,T,I,5,s[28]),T=u(T,E,P,x,f,9,s[29]),x=u(x,T,E,P,v,14,s[30]),E=p(E,P=u(P,x,T,E,C,20,s[31]),x,T,m,4,s[32]),T=p(T,E,P,x,_,11,s[33]),x=p(x,T,E,P,k,16,s[34]),P=p(P,x,T,E,O,23,s[35]),E=p(E,P,x,T,c,4,s[36]),T=p(T,E,P,x,y,11,s[37]),x=p(x,T,E,P,v,16,s[38]),P=p(P,x,T,E,b,23,s[39]),E=p(E,P,x,T,I,4,s[40]),T=p(T,E,P,x,a,11,s[41]),x=p(x,T,E,P,h,16,s[42]),P=p(P,x,T,E,g,23,s[43]),E=p(E,P,x,T,w,4,s[44]),T=p(T,E,P,x,C,11,s[45]),x=p(x,T,E,P,S,16,s[46]),E=d(E,P=p(P,x,T,E,f,23,s[47]),x,T,a,6,s[48]),T=d(T,E,P,x,v,10,s[49]),x=d(x,T,E,P,O,15,s[50]),P=d(P,x,T,E,m,21,s[51]),E=d(E,P,x,T,C,6,s[52]),T=d(T,E,P,x,h,10,s[53]),x=d(x,T,E,P,b,15,s[54]),P=d(P,x,T,E,c,21,s[55]),E=d(E,P,x,T,_,6,s[56]),T=d(T,E,P,x,S,10,s[57]),x=d(x,T,E,P,g,15,s[58]),P=d(P,x,T,E,I,21,s[59]),E=d(E,P,x,T,y,6,s[60]),T=d(T,E,P,x,k,10,s[61]),x=d(x,T,E,P,f,15,s[62]),P=d(P,x,T,E,w,21,s[63]),o[0]=o[0]+E|0,o[1]=o[1]+P|0,o[2]=o[2]+x|0,o[3]=o[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function u(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function p(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)},function(e,t,r){var n,i,o,a,s,c,l,u;e.exports=(i=(n=u=r(0)).lib,o=i.WordArray,a=i.Hasher,s=n.algo,c=[],l=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var p=(n<<5|n>>>27)+s+c[l];p+=l<20?1518500249+(i&o|~i&a):l<40?1859775393+(i^o^a):l<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=n,n=p}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=a._createHelper(l),n.HmacSHA1=a._createHmacHelper(l),u.SHA1)},function(e,t,r){var n,i,o;e.exports=(i=(n=r(0)).lib.Base,o=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),s=i.words,c=a.words,l=0;l<r;l++)s[l]^=1549556828,c[l]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))}]))},4231:(e,t,r)=>{var n=window.fetch||(window.fetch=r(2045).default||r(2045)),i=navigator.userAgent;/iPhone OS [9_\d]/gi.test(i)&&(n=window.fetch=r(2045).default||r(2045)),e.exports=n},2519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2239);t.default=function(e){var t,r=e.cachePolicy||{},i=r.cacheKey,o=r.update,a=e.serviceCode||"",s=e.serviceOperation||"",c=!1;if(i&&(t=new n.default({key:i,lifeTime:r.cacheExpireTime||3e4}),r.enableCache?c=!0:t.remove()),c)try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"104047",value:1,tag:{serviceCode:a,serviceOperation:s,key:i}}])}catch(e){}return{getCache:function(){var e=t&&t.get();return!(!c||!e||o)&&new Promise(function(t){setTimeout(function(){t(e)},0)})},setCache:function(e){c&&t.set(e)}}}},7343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872);r(4231);var i=r(5482),o=r(3420),a=r(5168),s=r(2576),c=r(9394),l=r(9523),u=r(9282),p=r(3942),d=r(9455),f=r(6128),h=r(1918),y=r(285),m=r(6976),g=r(2519),v=r(3614),_=r(530),w=r(8078),b=r(7703).default,k={};Promise.prototype.fetchAbort=function(e){if(void 0===e&&(e=""),this.isAbort=!0,k[e])try{k[e].promise.isAbort=!0,k[e].controller.abort(),k[e]=null}catch(e){}};var C={cid:"",ctok:"",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:"",xsid:"",extension:[]},I={FAT:"https://gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2",UAT:"https://gateway.m.uat.qa.nt.ctripcorp.com/restapi/soa2",PROD:"https://m.ctrip.com/restapi/soa2"},O=function(e){try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"o_nfes_model_error",value:1,tag:{errmsg:e}}])}catch(e){}},S=function(){function e(e){if(this.timeout=3e4,this.method="POST",this.headers={"content-type":"application/json"},this.checkAuth=!0,this.isReSend=!1,this.clientId="",this.isNoHead=!1,this.ignoreCID=!1,this.needTempCID=!1,this.noCookieOrigin=!1,this.head=null,this.isUseSOARequestOnly=!1,this.bodyMetric=!1,this._getServiceParam=function(e){var t={},r=e.match(/soa2.*\/(\d+).*\/([^?.]*)(\?|\.)?/);return r&&(t={serviceCode:r[1],serviceOperation:r[2]}),t},Object.assign(this,e||{}),e&&(this.ignoreCID=e.ignoreCID),!this.noCookieOrigin){var t=window.location.origin;t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),this.headers.cookieOrigin=t}this.initHead()}return e.prototype.initHead=function(){this.head=Object.assign({},C);try{var e=y.default(),t=localStorage.getItem("SOURCEID");t&&(this.head.sid=t),e.extSouceID&&(this.head.xsid=e.extSouceID),e.systemCode&&(this.head.syscode=e.systemCode),(e.internalVersion||e.version)&&(this.head.cver=e.internalVersion||l.default(e.version||""))}catch(e){}},e.prototype.getProtocol=function(){return window.location&&window.location.protocol?"https:"==window.location.protocol?"https":"file:"==window.location.protocol?"file":"http":""},e.prototype.appendSuffix=function(e,t,r){if(t){var n=t+"-"+(new Date).getTime()+"-"+Math.floor(1e7*Math.random());try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"traceid_for_gateway",value:1,tag:{traceIDForGateway:n}}])}catch(e){}r.set("traceIDForGateway",n);var i=e.indexOf("?")>-1?"&":"?";e=e+i+"_fxpcqlniredt="+t+"&x-traceID="+n}return e},e.prototype.getClientId=function(){var e=this,t=this.clientId;return t||(t=i.default()),new Promise(function(r,n){if(e.ignoreCID&&r(""),!t||_.isInWeChat()&&!w.isInWeChatMiniApp()&&0!==t.toString().indexOf("09")){if(e.needTempCID)return void r("00000000000000000000");if(p.default)return;o.default(function(e){if(e){try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"app_usage_cid",value:1}])}catch(e){}r(e)}else n()})}else r(t)})},e.prototype._getResponseHead=function(e,t){var r=!!e.ResponseStatus,n=r?e.ResponseStatus:e.head,i=!1,o=!1;if(r&&n){var c=n.Extension;c&&c.length&&f.default(c,function(e){if(e)switch(e.Id){case"sauth":s.default.set(e.Value);break;case"CLOGGING_TRACE_ID":t.set("CLOGGING_TRACE_ID",e.Value)}});var l=n.Ack;try{void 0===l&&(l=n.ack)}catch(e){}if("Failure"===l||1==l){var u=n.Errors||n.errors;if(u instanceof Array&&u.length>0)for(var p=0,d=void 0;p<u.length;p++){var h=(d=u[p]||{}).ErrorCode||d.errorCode||"";if("MobileRequestFilterException"===h||"AccountsMobileRequestFilterException"===h||"AccountsAllMobileRequestFilterException"===h){this.checkAuth&&(o=!0,a.default.removeUser());break}}}i="Failure"!==l&&1!=l&&"PartialFailure"!==l}else i=!r||n&&0===n.errcode;return o?{overdue:!0}:{success:i}},e.prototype.reWriteAttrBuites=function(e){for(var t in{noCookieOrigin:1,ignoreCID:1,checkAuth:1}){var r=e[t];"checkAuth"!==t?r&&(this[t]=r):void 0===r||r||(this[t]=!1)}},e.prototype.fetch=function(e,t){void 0===t&&(t={});var r=this;if(t.useSoa=t.useSoa||this.isUseSOARequestOnly,t.useSoa){var i=u.default(window.location.hostname).toUpperCase(),o=I[i]||I.PROD;if(e)e=o+""+e;else{if(!t.serviceCode||!t.serviceOperation)throw new Error("The serviceCodePathUrl or serviceCode/serviceOperation must be filled in useSoa/isUseSOARequestOnly mode");e=o+"/"+t.serviceCode+"/"+t.serviceOperation}}var s=t.serviceCode||this._getServiceParam(e).serviceCode,l=t.serviceOperation||this._getServiceParam(e).serviceOperation,f=t.abortKey||"",y=t.useAbortCatch||!1,v=t.needTripAppAuth||!1,_=t.bodyMetric||this.bodyMetric||!1,w=m.default({url:e,serviceCode:s,serviceOperation:l,pageUrl:window.location.href}),C=g.default(n.__assign({},t,{serviceCode:s,serviceOperation:l})),S=C.getCache();if(S)return S;this.reWriteAttrBuites(t);var E=null,P=new Promise(function(e,n){E=setTimeout(function(){n({status:"timeout"})},t.timeout||r.timeout)}),x=new Promise(function(i,o){var s=function(e){E&&clearTimeout(E),x&&x.isAbort||(w.end({success:!0}),C.setCache(e),i(e))},l=function(n){E&&clearTimeout(E),x&&x.isAbort||(w.end({success:!1,info:[n.message,JSON.stringify(n)].join(",")}),r._onError(n,o,function(){r._reSend(e,t,i,o)}))};r.getClientId().then(function(i){try{var o=t.params||{};o.method=t.method||r.method;var u=Object.assign({},r.head),m=a.default.getUser();if(m)u.auth=m.Auth||m.auth;else if(p.default||d.default&&v)try{if(window.name){var g=JSON.parse(window.name);g.versionCode&&g.version&&g.userInfo.data&&(u.auth=g.userInfo.data.Auth||g.userInfo.data.auth,a.default.setUser(JSON.stringify(g.userInfo.data)))}}catch(e){}if(u.cid=i||"",t.extension&&(u.extension=u.extension.concat(t.extension)),t.isIbuMode&&(u.Locale=b("ibu_h5_local"),u.Language=b("ibu_h5_lang"),u.Currency=b("ibu_h5_curr"),u.UID=b("ibu_h5_uid"),u.ClientID=u.cid),"post"===o.method.toLowerCase()){if(o.body=t.body||{},t&&!t.isForm){if(!r.isNoHead&&!t.isNoHead){if("string"==typeof o.body)try{o.body=JSON.parse(o.body)}catch(e){o.body={}}o.body.head=Object.assign(u,o.body.head||{})}o.body=JSON.stringify(o.body)}}else{var C=e.indexOf("?")>-1?"&":"?";e+=C+h.default(t.body||{})}o.headers=Object.assign(r.headers,t.headers||{}),T=o.body,"undefined"!=typeof FormData&&T instanceof FormData?(delete o.headers["content-type"],_&&w.set("body","form-data")):_&&w.set("body",o.body||""),(r.noCookieOrigin&&o.headers.cookieOrigin||!/^https?/.test(o.headers.cookieOrigin))&&delete o.headers.cookieOrigin,t.credentials?(o.credentials=t.credentials,o.mode=t.mode):(o.credentials="include",o.mode="cors"),"file://"===o.headers.cookieOrigin&&(delete o.credentials,delete o.mode),p.default&&"file"===r.getProtocol()&&(o.credentials="omit"),e=r.appendSuffix(e,i,w);var I=t.resType||"json",S=!1;t.response&&(S=!0);try{if(window.AbortController&&f){var E=new window.AbortController;o.signal=E.signal,k[f]={controller:E,promise:x}}}catch(e){}var P=fetch(e,o).then(function(e){try{k[f]&&(k[f]=null),w.set("statusCode",e.status),e.headers&&w.set({RootMessageId:e.headers.get("rootmessageid")||"",CLOGGING_TRACE_ID:e.headers.get("clogging_trace_id")||"",serverProtocol:e.headers.get("protocol")||""})}catch(e){}if(e.status>=200&&e.status<300)return S?void s(e):e[I]&&e[I]();var t=new Error(e.statusText);throw t.response=e,t}).catch(function(e){if(k[f]&&(k[f]=null),e.name&&"aborterror"===e.name.toLowerCase())y&&l(e);else{if(!S)throw e;l(e)}});return S?P:P.then(function(e){if(k[f]&&(k[f]=null),"json"===I)if(e){var t=r._getResponseHead(e,w);c.default(t.success,"Undefined")?t.overdue&&l(n.__assign({},e,{nfesOverdue:!0})):t.success?s(e):l(e)}else l(e);else s(e)}).catch(function(e){k[f]&&(k[f]=null),O(e&&e.message||"errmsg"),l(e)})}catch(e){O(e&&e.message||"errmsg"),l(e)}var T},function(){var e="Get ClientID Failed,Can Not Send Request!";O(e),l(new Error(e))})});return Promise.race([P,x])},e.prototype._reSend=function(e,t,r,n){this.isReSend=!0,this.fetch(e,t).then(function(e){r(e)}).catch(function(e){n(e)})},e.prototype._onError=function(e,t,r){e&&e.response&&e.response.status,t(e)},e}();t.default=S;var E=v.default(S);t.get=E.get,t.post=E.post},3614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872),i=r(9096),o=function(e){return function(t,r,o){if(r){var a=-1!==t.indexOf("?")?"&":"?";t+=a+i.stringify(r)}return new e({}).fetch(t,n.__assign({},o,{method:"GET"}))}},a=function(e){return function(t,r,i){return"string"!=typeof t&&(i=r,r=t,t=""),new e({}).fetch(t,n.__assign({},i,{method:"POST",body:r}))}};t.default=function(e){return{get:o(e),post:a(e)}}},2264:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7343),i=r(6520),o=r(4557),a=r(3614),s=o.default?n.default:i.default;t.default=s;var c=a.default(s);t.get=c.get,t.post=c.post},6976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6871),i=r(3942);t.default=function(e){var t;void 0===e&&(e={});var r=Object.assign({success:!1,statusCode:null,RootMessageId:"",CLOGGING_TRACE_ID:"",serverProtocol:"",info:"",body:""},e);try{t=n.default.getId(),n.default.sendTime(t)}catch(e){}return r.framework=i.default?"nfes-ctripapp":"nfes-h5",{set:function(e,t){"string"!=typeof e?r=Object.assign(r,e):r[e]=t},end:function(e){void 0===e&&(e={}),r=Object.assign(r,e),n.default.sendTimeEnd(t,r)}}}},9427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t={});var r=Object.assign({success:!1,statusCode:null,RootMessageId:"",CLOGGING_TRACE_ID:"",serverProtocol:"",info:"",startTime:(new Date).getTime(),framework:"nfes-server"},t);return{set:function(e,t){"string"!=typeof e?r=Object.assign(r,e):r[e]=t},end:function(t){void 0===t&&(t={}),(r=Object.assign(r,t)).startTime&&(r.duration=(new Date).getTime()-r.startTime,delete r.startTime,e?(e.fetchPerf=e.fetchPerf?e.fetchPerf:[],e.fetchPerf.push(r)):"undefined"!=typeof perOptCollect&&perOptCollect.push(r))}}}},6520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872);r(4231);var i=r(5482),o=r(5316),a=r(9394),s=r(6128),c=r(1918),l=r(3942),u=r(9057),p=r(9523),d=r(4837),f=r(9427),h=r(9282);Promise.prototype.fetchAbort=function(){this.isAbort=!0};var y={cid:"",ctok:"",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:"",xsid:"",extension:[]},m={FAT:"http://gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2",UAT:"http://gateway.m.uat.qa.nt.ctripcorp.com/restapi/soa2",PROD:"http://apigateway.ctripcorp.com/restapi/soa2"},g=function(){function e(e){var t=this;if(void 0===e&&(e={}),this.timeout=5e3,this.method="POST",this.headers={"content-type":"application/json"},this.checkAuth=!0,this.isReSend=!1,this.clientId="",this.isNoHead=!1,this.req=null,this.res=null,this.ignoreCID=!1,this.noCookieOrigin=!1,this.head=null,this.isUseSOARequestOnly=!1,this._getServiceParam=function(e){var t={},r=e.match(/soa2.*\/(\d+).*\/([^?.]*)(\?|\.)?/);return r&&(t={serviceCode:r[1],serviceOperation:r[2]}),t},this.repost=function(e){if(e&&e.headers)for(var r=0,n=["cookie","x-ctx-externalclientip","true-client-ip","cdn-src-ip","x-forwarded-for","x-real-ip","user-agent"];r<n.length;r++){var i=n[r];e.headers[i]&&(t.headers[i]=e.headers[i])}},Object.assign(this,e||{}),e.req){this.clientId||(this.clientId=e.req.clientId);var r=o.default(e.req);r&&(this.headers["x-forwarded-for"]=r),e.req.headers&&e.req.headers.cookie&&(this.headers.cookie=e.req.headers.cookie)}this.ignoreCID=e.ignoreCID,this.initHead(e)}return e.prototype.initHead=function(e){if(this.head=Object.assign({},y),e&&e.req){var t=e.req.headers["user-agent"],r=u.isAndroid(t),n=d.default(t);l.isInCtripApp(t)&&(l.isYouth?this.head.syscode=r?"36":"16":this.head.syscode=r?"32":"12",this.head.cver=p.default(n.version.toString()||"1.0"))}},e.prototype.appendSuffix=function(e,t){if(t){var r=e.indexOf("?")>-1?"&":"?";e=e+r+"_fxpcqlniredt="+t}return e},e.prototype.replaceUrlInServer=function(e){void 0===e&&(e="");var t=e.match(/^(https?:)?\/\/((sec-)?m\.ctrip\.com)\/restapi\/soa2/);return t&&(t[1]?"http:"!==t[1]&&(e=e.replace(t[1],"http:")):e="http:"+e,t[2]&&(e=e.replace(t[2],"apigateway.ctripcorp.com"))),e},e.prototype.getClientId=function(e){var t=this,r=e&&e.clientId||this.clientId;if(r||(r=i.default()),r&&r.length>20)try{r=""}catch(e){}return new Promise(function(e,n){t.ignoreCID&&e(""),r?e(r):n()})},e.prototype._getResponseHead=function(e,t){var r=!!e.ResponseStatus,n=r?e.ResponseStatus:e.head,i=!1,o=!1;if(r&&n){var a=n.Extension;a&&a.length&&s.default(a,function(e){if(e)switch(e.Id){case"sauth":break;case"CLOGGING_TRACE_ID":t.set("CLOGGING_TRACE_ID",e.Value)}});var c=n.Ack;try{void 0===c&&(c=n.ack)}catch(e){}if("Failure"===c||1==c){var l=n.Errors;if(l instanceof Array&&l.length>0)for(var u=0,p=void 0;u<l.length;u++)if((p=l[u])&&p.ErrorCode&&("MobileRequestFilterException"===p.ErrorCode||"AccountsMobileRequestFilterException"===p.ErrorCode)){this.checkAuth&&(o=!0);break}}i="Failure"!==c&&1!=c&&"PartialFailure"!==c}else i=!r||n&&0===n.errcode;return o?{overdue:!0}:{success:i}},e.prototype.reWriteAttrBuites=function(e){for(var t in{noCookieOrigin:1,ignoreCID:1,checkAuth:1}){var r=e[t];"checkAuth"!==t?r&&(this[t]=r):void 0===r||r||(this[t]=!1)}},e.prototype.fetch=function(e,t){void 0===t&&(t={});var r=this;t.useSoa=t.useSoa||this.isUseSOARequestOnly;var i=t.req||this.req;if(this.repost(i),t.useSoa){var o=function(e){return new Promise(function(t,r){r(new Error(e))})};if(!t.req)return o("The req must be filled in isUseSOARequestOnly mode in serverFetch");var s=h.default(t.req.headers.host).toUpperCase(),l=m[s]||m.PROD;if(e)e=l+""+e;else{if(!t.serviceCode||!t.serviceOperation)return o("The serviceCodePathUrl must be filled in isUseSOARequestOnly mode");e=l+"/"+t.serviceCode+"/"+t.serviceOperation}}var u=f.default(i,{url:e,serviceCode:t.serviceCode||this._getServiceParam(e).serviceCode,serviceOperation:t.serviceOperation||this._getServiceParam(e).serviceOperation,pageUrl:i?i.url:""});this.reWriteAttrBuites(t);var p=null,d=new Promise(function(e,n){p=setTimeout(function(){n({status:"timeout"})},t.timeout||r.timeout)}),y=new Promise(function(o,s){var l=function(e){p&&clearTimeout(p),y&&y.isAbort||(u.end({success:!0}),o(e))},d=function(e){p&&clearTimeout(p),y&&y.isAbort||(u.end({success:!1,info:JSON.stringify(e)}),s(e))};r.getClientId(i).then(function(o){try{var s=t.params||{};s.method=t.method||r.method;var p=Object.assign({},r.head);if(p.cid=o||"",t.extension&&(p.extension=p.extension.concat(t.extension)),"post"===s.method.toLowerCase()){if(s.body=t.body||{},!r.isNoHead&&!t.isNoHead){if("string"==typeof s.body)try{s.body=JSON.parse(s.body)}catch(e){s.body={}}s.body.head=Object.assign(p,s.body.head||{})}s.body=JSON.stringify(s.body)}else{var f=e.indexOf("?")>-1?"&":"?";e+=f+c.default(t.body||{})}s.headers=Object.assign(r.headers,t.headers||{}),i&&(s.headers["User-Agent"]=i.headers&&i.headers["user-agent"]),(r.noCookieOrigin&&s.headers.cookieOrigin||!/^https?/.test(s.headers.cookieOrigin))&&delete s.headers.cookieOrigin,t.credentials?(s.credentials=t.credentials,s.mode=t.mode):(s.credentials="include",s.mode="cors"),"file://"===s.headers.cookieOrigin&&(delete s.credentials,delete s.mode),e=r.replaceUrlInServer(r.appendSuffix(e,o));var h=t.resType||"json",y=!1;t.response&&(y=!0);var m=fetch(e,s).then(function(e){try{if(u.set("statusCode",e.status),e.headers){var t={RootMessageId:e.headers.get("rootmessageid")||"",CLOGGING_TRACE_ID:e.headers.get("clogging_trace_id")||"",serverProtocol:e.headers.get("slb-http-protocol-version")||""};u.set(t)}}catch(e){}if(e.status>=200&&e.status<300)return y?void l(e):e[h]&&e[h]();var r=new Error(e.statusText);throw r.response=e,r}).catch(function(e){if(!y)throw e;d(e)});return y?m:m.then(function(e){if("json"===h)if(e){var t=r._getResponseHead(e,u);a.default(t.success,"Undefined")?t.overdue&&d(n.__assign({},e,{nfesOverdue:!0})):t.success?l(e):d(e)}else d(e);else l(e)}).catch(function(e){d(e)})}catch(e){d(e)}},function(){d(new Error("Get ClientID Failed,Can Not Send Request!"))})});return Promise.race([d,y])},e}();t.default=g},3420:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(4231);var n=r(4559),i=r(4749),o=r(4557);t.default=function(e,t){var r=n.default("gateway",null,t),a="https://"+r+"/restapi/soa2/10290/createclientid?systemcode=09&createtype=3&contentType=json";t&&"lpt"===t.env&&(a="http://mobile.fx.lpt71.qa.nt.ctripcorp.com/mobile/json/CreateClientID"),fetch(a).then(function(e){return e.json()}).then(function(t){var n=t&&t.ClientID;if(n&&o.default){var a="";a=/\.ctrip\.com/.test(r)?".ctrip.com":/\.trip\.com/.test(r)?".trip.com":".ctripcorp.com",i.default("GUID",n,new Date((new Date).getTime()+93312e6),"/",a),window.localStorage.setItem("GUID",n)}e&&e(n)}).catch(function(){e&&e(null)})}},4837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6777),i={MASTER:["Ctrip_CtripWireless","Unicom_CtripWireless","Pro_CtripWireless","com_ctripwireless"],YOUTH:["Youth_CtripWireless"],SML:["sml_wireless"],GS:["gs_wireless"],WE:["we_wireless"],TV:["AndroidTV_CtripWireless"],TY:["Tieyou_TieyouWireless"],DIS:["Discount_CtripWireless"]},o=function(e){(e+="").indexOf(".")<0&&(e+=".0"),e=(e+"").split(".");for(var t=0;t<e.length;t++)e[t]="000".substr(e[t].length)+e[t];return e.join(".")};t.default=function(e){var t,r,a,s,c=e||"";n.default&&!c&&(c=navigator.userAgent);var l=RegExp;for(var u in i)for(var p=0;p<i[u].length;p++)if(new l(i[u][p]+"_([\\d.]+)").test(c)){t="CTRIP",r=u,a=l.$1;break}if(!t){if(/MicroMessenger\/([\d.]+)/.test(c)&&(t="TECENT",r="WEIXIN",a=l.$1),/(qunar[^\\/]+)\/([\d]+)/i.test(c)){var d=c.toLowerCase().match("(^|\\s)(qunar[^\\/]+)\\/([\\d\\.]+)");t="QUNAR",r=d[2],a=d[3]}(/ewandroid\/([\d.]+)/i.test(c)||/ewiphone\/([\d.]+)\/H5Nav_Light/i.test(c))&&(t="YILONG",r="YILONGMASTER",a=l.$1)}return a&&(s=o(a)),{vendor:{toString:function(){return t},is:function(e){return("TV"!==r&&"TY"!==r||"CTRIP"!==e)&&e.toUpperCase()==t}},code:{toString:function(){return r},is:function(e){return e.toUpperCase()==r}},version:{toString:function(){return a},lt:function(e){return s<o(e)},lte:function(e){return s<=o(e)},eq:function(e){return s==o(e)},gte:function(e){return s>=o(e)},gt:function(e){return s>o(e)}}}}},9523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){void 0===e&&(e="");var t,r=e.split(".")||[];return r[0]&&(t=100*+r[0]),r[1]&&(t+=+r[1]),r[2]?t+="."+[0,0,0].slice(r[2].length).join("")+r[2]:t+=".000",t}},4559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557),i=r(3942),o=r(2703),a=r(5925),s=".qa.nt.ctripcorp.com",c=".uat.ctripqa.com",l=n.default?window.__NEXT_DATA__&&window.__NEXT_DATA__.international?"m.trip.com":"m.ctrip.com":"apigateway.ctripcorp.com",u="accounts.ctrip.com",p={prod:u,uat:"accounts.uat"+s,fat:"accounts.fat466"+s,uatqa:"accounts"+c,baolei:u},d={prod:l,uat:"gateway.m.uat"+s,fat:"gateway.m.fws"+s,uatqa:"gateway.m"+c,baolei:l},f={accounts:p,login:Object.assign({},p),gateway:d,online:Object.assign({},d,{uat:"m.uat"+s,fat:""}),webresource:{prod:"webresource.c-ctrip.com",uat:"webresource.uat"+s,fat:"webresource.fws"+s,baolei:"webresource.c-ctrip.com"}};t.default=function(e,t,r){void 0===e&&(e="gateway");var s="prod";return t?s=(0,a.default)(t):i.default?s=(0,o.default)():n.default&&(s=(0,a.default)(t)),f[e]?(r&&r.env&&(s=r.env.toLowerCase()),f[e][s]):""}},6128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breaker=void 0;var n=r(1092),i=Array.prototype.forEach;t.breaker={},t.default=function(e,r,o){if(null!=e)if(i&&e.forEach===i)e.forEach(r,o);else if(e.length===+e.length){for(var a=0,s=e.length;a<s;a++)if(r.call(o,e[a],a,e)===t.breaker)return}else for(var c in e)if((0,n.default)(e,c)&&r.call(o,e[c],c,e)===t.breaker)return}},285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3942);t.default=function(){if(n.default)try{var e=JSON.parse(window.name||'{"__nfes_mock":true}');return e.__nfes_mock?JSON.parse(window.localStorage.getItem("CINFO")||"{}"):e}catch(e){try{return JSON.parse(window.localStorage.getItem("CINFO")||"{}")}catch(e){return{}}}return{}}},5316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9394),i=r(4557);t.default=function(e){var t;if(e&&(t=e.headers["x-forwarded-for"]||e.connection.remoteAddress||e.ip||e.socket.remoteAddress||e.connection.socket.remoteAddress||""),(0,n.default)(t,"Array")&&(t=t[0]),t){var r=t.match(/\d+\.\d+\.\d+\.\d+/);if(r)return r[0]}return i.default||"undefined"==typeof nfesServerData||(t=nfesServerData.clientIp||""),t}},5482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7703),i=r(4557),o=r(3942),a=r(285);t.default=function(e){var t=null;return!(t=o.default?(0,n.default)("_n_cid",e)||(i.default?window.localStorage.getItem("GUID"):null)||(0,n.default)("GUID",e):(0,n.default)("GUID",e)||(0,n.default)("_n_cid",e))&&o.default&&(t=((0,a.default)()||{}).clientID),!t&&i.default&&(t=window.localStorage.getItem("GUID")),t||i.default||"undefined"==typeof nfesServerData||(t=nfesServerData.clientId||""),t}},7703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557);t.default=function(e,t){var r="";if(!t)if(n.default)t=document.cookie;else{if("undefined"==typeof nfesServerData||!nfesServerData.cookies)return r;t=nfesServerData.cookies||""}for(var i=t.split("; "),o=0,a=void 0,s=void 0;o<i.length;o++)s=(a=i[o]).indexOf("="),a.substr(0,s)===e&&(r=a.substr(s+1));return r}},5925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557);t.default=function(e){return void 0===e&&(e=""),n.default&&!e&&(e=window.location.host),e.match(/^m\.ctrip\.com/i)?"prod":e.match(/\.uat\.qa/i)?"uat":e.match(/\.ui\.|\.dev\.|\.fat/i)||e.match(/\.lpt/i)||e.match(/\.fws/i)||e.match(/^(localhost|172\.16|127\.0|10\.15|10\.32)/i)?"fat":e.match(/(\.|-)uat\.ctripqa\.com/i)?"uatqa":"prod"}},9282:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557),i=r(3942),o=r(2703),a=r(5925);t.default=function(e){return e||n.default?i.default?!n.default&&e?(0,a.default)(e):(0,o.default)():e||n.default?(0,a.default)(e):void 0:"undefined"!=typeof nfesServerData&&nfesServerData.env||"prod"}},1092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},9057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAndroid=void 0,t.isAndroid=function(e){return!("undefined"==typeof navigator&&!e)&&/Android/i.test(e||navigator.userAgent)},t.default=(0,t.isAndroid)()},9394:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},6777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557);t.default=n.default||"undefined"!=typeof navigator},4557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof window},3942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isYouth=t.isInMaster=t.isInCtripApp=void 0,t.isInCtripApp=function(e){if(void 0===e&&(e=""),"undefined"==typeof navigator&&!e)return!1;var t=e||navigator.userAgent,r=/(CtripWireless|sml_wireless|gs_wireless|we_wireless|TieyouWireless)/i.test(t),n=/CTRIPPER|_tripPal_CtripWireless/i.test(t);return r&&!n},t.default=(0,t.isInCtripApp)(),t.isInMaster="undefined"!=typeof navigator&&/(Ctrip|Unicom|Pro)_CtripWireless/.test(navigator.userAgent),t.isYouth="undefined"!=typeof navigator&&/Youth_CtripWireless/.test(navigator.userAgent)},9455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInTripApp=void 0,t.isInTripApp=function(e){return void 0===e&&(e=""),!("undefined"==typeof navigator&&!e)&&/IBUCtrip|_Trip.com_/i.test(e||navigator.userAgent)},t.default=(0,t.isInTripApp)()},530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInWeChat=void 0,t.isInWeChat=function(e){return void 0===e&&(e=""),!("undefined"==typeof navigator&&!e)&&/MicroMessenger/i.test(e||navigator.userAgent)},t.default=(0,t.isInWeChat)()},2703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557),i=r(3942),o=r(285);t.default=function(e){return n.default&&(i.default||e)?"0"==(e=e||window.localStorage.getItem("isPreProduction")||(0,o.default)().isPreProduction)?"fat":"2"==e?"uat":"1"==e?"baolei":"prod":"prod"}},8078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInWeChatMiniApp=void 0;var n=r(530);t.isInWeChatMiniApp=function(e){if(void 0===e&&(e=""),"undefined"==typeof navigator&&!e)return!1;var t=e||navigator.userAgent;return(0,n.isInWeChat)(t)&&(t.indexOf("miniprogram")>-1||"undefined"!=typeof window&&"miniprogram"===window.__wxjs_environment)},t.default=(0,t.isInWeChatMiniApp)()},1918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9394);t.default=function(e){var t=[];return t.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},function(e,t){if((0,n.default)(t,"Array")){for(var r=0;r<t.length;r++){var i=t[r];e.add(i.name,i.value)}return e}if((0,n.default)(t,"Object")){for(var o in t)i=t[o],e.add(o,i)}}(t,e),t.join("&").replace(/%20/g,"+")}},4749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4557),i=r(9394);t.default=function(e,t,r,o,a,s){if(void 0===r&&(r=new Date((new Date).getTime()+93312e6)),void 0===o&&(o="/"),void 0===a&&(a=".ctrip.com"),n.default)try{((0,i.default)(t,"Object")||(0,i.default)(t,"Array"))&&(t=JSON.stringify(t)),document.cookie=e+"="+encodeURIComponent(t)+(r?"; expires="+r.toGMTString():"")+(o?"; path="+o:"")+(a?"; domain="+a:"")+(s?"; secure":"")}catch(e){}}},6871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9019),i=r(138),o={doRender:"102169",loadGetInitialProps:"103785",loadScript:"103786",componentDidMount:"103787",doRenderStart:"103812",doRenderEnd:"103813",_serverRender:"104031",_doRenderStart:"103979",_componentDidMount:"103980",_doRenderEnd:"103981"},a={componentDidMount:"113547",doRenderEnd:"113548",serverData:"113538"},s=["doRenderStart","componentDidMount","doRenderEnd"],c={dnsStart:{key:"103982",start:"navigationStart",end:"domainLookupStart"},dns:{key:"103983",start:"domainLookupStart",end:"domainLookupEnd"},tcp:{key:"103984",start:"connectStart",end:"connectEnd"}},l=function(){var e=this;this.performanceData={_componentDidMount:!1,_doRenderStart:!1,_doRenderEnd:!1},this.id=0,this._getPerformanceTiming=function(e){return n.default&&window.performance&&window.performance.timing&&window.performance.timing[e]},this.getId=function(){return e.id++},this.getData=function(t){return e.performanceData[t]},this.setData=function(t,r){return e.performanceData[t]=r,e.performanceData[t]},this.push=function(e){try{n.default&&(window.__bfi||(window.__bfi=[]),window.__bfi.push(e))}catch(e){}},this.sendMetric=function(t){e.push(["_trackMetric",t])},this.sendStart=function(t,r){void 0===r&&(r={}),r.startTime=(new Date).getTime(),e.setData(t,r)},this.sendEnd=function(t){var r=e.getData(t);if(r){var n=(new Date).getTime()-r.startTime;e.sendMetric({name:o[r.target],value:n,tag:r.tag||{}})}},this.sendTime=function(t){e.push(["_time",t])},this.sendTimeEnd=function(t,r){var n=r.url,i=void 0===n?"":n,o=r.success,a=r.statusCode,s=void 0===a?0:a,c=r.framework,l=void 0===c?"":c,u=r.serviceCode,p=void 0===u?"":u,d=r.serviceOperation,f=void 0===d?"":d,h=r.RootMessageId,y=void 0===h?"":h,m=r.CLOGGING_TRACE_ID,g=void 0===m?"":m,v=r.info,_=void 0===v?"":v,w=r.traceIDForGateway,b=void 0===w?"":w,k=r.pageUrl,C={framework:l,url:i,success:!!o,statusCode:s,serviceCode:p,serviceOperation:f,RootMessageId:y,CLOGGING_TRACE_ID:g,info:_,traceIDForGateway:b,pageUrl:void 0===k?"":k};e.push(["_timeEnd",t,{name:"http_request_perf",tag:C}])},this.sendFromCookie=function(){if(!e.getData("_sendFromCookie")){e.setData("_sendFromCookie",!0);try{var t=i.default.get("_pd");if(t){var r=JSON.parse(decodeURIComponent(t)),n=JSON.parse(window.__NEXT_DATA__&&window.__NEXT_DATA__.__pd||"{}"),s={r:"v_103858",s:"v_103911",_d:"v_103975",_p:"v_103976",_o:"v_103977",_s:"v_103978"};Object.keys(s).forEach(function(e){!r[e]&&n[e]&&(r[e]=n[e])});var c={};Object.keys(r).forEach(function(t){if(s[t]&&(c[s[t]]=r[t],"s"===t&&window._beginTime&&e._getPerformanceTiming("requestStart"))){var n=window._beginTime-e._getPerformanceTiming("requestStart")-r[t];n&&(c["v_"+o._serverRender]=n)}}),e.push(["_trace",a.serverData,c])}}catch(e){}}},this.sendServerService=function(){var t=window.__NEXT_DATA__&&window.__NEXT_DATA__.__pd;try{if(t=JSON.parse(t),!Array.isArray(t.fetchPerf))return;for(var r=0;r<t.fetchPerf.length;r++){var n=t.fetchPerf[r],i=n.duration,o=n.url,a=n.success,s=n.statusCode,c={framework:n.framework,url:o,success:!!a,statusCode:s,serviceCode:n.serviceCode,serviceOperation:n.serviceOperation,RootMessageId:n.RootMessageId,CLOGGING_TRACE_ID:n.CLOGGING_TRACE_ID,info:n.info,pageUrl:n.pageUrl||""};e.sendMetric({name:"http_request_perf",value:i,tag:c})}}catch(e){}},this.logSinceNaviagtionStart=function(t,r){if(r&&t&&o[r]&&!e.getData("_"+r)){e.setData("_"+r,t);var n={};if("doRenderEnd"===r){var i=null,l=e._getPerformanceTiming("navigationStart");if(l)i=t-l;else{var u=window._serverStart;u&&(i=t-u)}i&&(n["v_"+o[r]]=i,e.sendMetric({name:o[r],value:i,tag:{url:location.protocol+"//"+location.host+location.pathname}}))}else"componentDidMount"===r&&(e.sendServerService(),Object.keys(c).forEach(function(t){if(!e.getData("_"+t)){e.setData("_"+t,!0);var r=c[t],i=e._getPerformanceTiming(r.start),o=e._getPerformanceTiming(r.end);i&&o&&(n["v_"+r.key]=o-i)}}));if(s.indexOf(r)>-1)try{var p=null,d=s.findIndex(function(e){return e===r});(p=0===d?window._beginTime:e.getData("_"+s[d-1]))&&("doRenderStart"==r?e.sendMetric({name:o["_"+r],value:t-p}):n["v_"+o["_"+r]]=t-p)}catch(e){}a[r]&&e.push(["_trace",a[r],n])}},this.logComponentDidMount=function(t){try{e.logSinceNaviagtionStart(t,"componentDidMount")}catch(e){}}};t.default=new l},138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9009),i=r(4620),o=r(520),a=function(e,t,r,n){var a=Object.assign({},r),s=a.timeout,c=a.expires,l=a.path,u=a.domain,p=a.secure;(0,i.default)(e,t,s||c,l,u,p),n&&(!e&&(0,o.default)(t,"Array")?n.setHeader("Set-Cookie",t):n.setHeader("Set-Cookie",function(e,t,r){var n=e+"="+encodeURIComponent(t),i=r.timeout,o=r.path,a=r.domain,s=r.secure;return i&&(n+="; expires="+i.toGMTString()),n+="; path="+(o||"/"),a&&(n+="; domain="+a),s&&(n+="; secure"),n}(e,t,a)))};t.default={get:function(e,t){var r="";return t&&t.headers&&t.headers.cookie&&(r=t.headers.cookie),(0,n.default)(e,r)},set:a,remove:function(e,t,r){var n=new Date((new Date).getTime()-1),i=Object.assign(t||{},{expires:n,path:"/"});return a(e,"",i,r)}}},9009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9019);t.default=function(e,t){var r="";if(!t)if(n.default)t=document.cookie;else{if("undefined"==typeof nfesServerData||!nfesServerData.cookies)return r;t=nfesServerData.cookies||""}for(var i=t.split("; "),o=0,a=void 0,s=void 0;o<i.length;o++)s=(a=i[o]).indexOf("="),a.substr(0,s)===e&&(r=a.substr(s+1));return r}},520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},9019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof window},4620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9019),i=r(520);t.default=function(e,t,r,o,a,s){if(void 0===r&&(r=new Date((new Date).getTime()+93312e6)),void 0===o&&(o="/"),void 0===a&&(a=".ctrip.com"),n.default)try{((0,i.default)(t,"Object")||(0,i.default)(t,"Array"))&&(t=JSON.stringify(t)),document.cookie=e+"="+encodeURIComponent(t)+(r?"; expires="+r.toGMTString():"")+(o?"; path="+o:"")+(a?"; domain="+a:"")+(s?"; secure":"")}catch(e){}}},2576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2239),i=r(8865),o=function(){function e(){this.proxy=new n.default({key:"AUTHSTORE",lifetime:6048e5})}return e.prototype.get=function(e){if(i.default)return this.proxy.get(e)},e.prototype.set=function(e){i.default&&this.proxy.set({sauth:e})},e.prototype.remove=function(){i.default&&this.proxy.remove()},e}();t.default=new o},877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e={}),Object.assign(this,e)}return e.prototype._getTimeout=function(){var e=864e5;return this.lifeTime&&(e=this.lifeTime),e+=(new Date).getTime(),new Date(e).getTime()},e.prototype._set=function(e){this.proxy&&this.proxy.setItem(this.key,e)},e.prototype._get=function(){return this.proxy&&this.proxy.getItem(this.key)||""},e.prototype._remove=function(){this.proxy&&this.proxy.removeItem(this.key)},e}();t.default=r},7072:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t="TEST_PRIVATE_MODEL";try{window.localStorage.setItem(t,"1"),e=window.localStorage.getItem(t),window.localStorage.removeItem(t)}catch(e){return("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&2===JSON.stringify(window.localStorage).length}return"1"!==e}()},6513:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r={value:e,timeout:t};return JSON.stringify(r)}},2239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872);r(3485);var i=r(6513),o=r(877),a=r(8865),s=r(7796),c=function(){},l=function(e){function t(t){var r=e.call(this,t)||this;return a.default&&(r.proxy=window.localStorage),r.date=new s.default(r._getTimeout()),r}return n.__extends(t,e),t.prototype.set=function(e,t){this._set(i.default(e,this.date.format("Y/m/d H:i:s"))),"function"==typeof t&&t(e)},t.prototype.get=function(e){"function"!=typeof e&&(e=c);var t=this._get(),r=null;try{if(t){var n=(t=JSON.parse(t)).timeout;this.date.parse(n).date>=new Date&&(r=t.value||t.data)}}catch(e){}return r||this.remove(),e(r),r},t.prototype.setAttr=function(e,t){var r=this.get.call(this);try{r&&(r[e]=t)}catch(e){}this._set(i.default(r,this.date.format("Y/m/d H:i:s")))},t.prototype.getAttr=function(e,t){var r;"function"!=typeof t&&(t=c);var n=this.get.call(this);try{n&&(r=n[e])}catch(e){}return t(r),r},t.prototype.remove=function(){this._remove()},t}(o.default);t.default=l},3485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7072),i=r(8865),o=r(7501);try{i.default&&!window.isAlreadyReStorage&&(window.isAlreadyReStorage=!0,function(){if(i.default&&!n.default&&!o.default){if(window.navigator.userAgent.match(/MSIE\s([\d.]+)/)||window.navigator.userAgent.match(/Trident\/[\d](?=[^?]+).*rv:([0-9.].)/))return;var e,t=window.localStorage;e=t.setItem.bind?t.setItem.bind(t):function(e,r){t.setItem.apply(t,[e,r])},window.localStorage.setItem=(r=[function(){var e=window.localStorage;for(var t in e)t.toLowerCase().indexOf("_cache")>=0&&e.removeItem(t)},function(){var e=window.localStorage;for(var t in e)(t.indexOf("BMap_tile")>=0||t.indexOf("_AMap_main")>=0)&&e.removeItem(t)},function(){var e={PAYMENT2_:1,SALESOBJ:1,SALES_OBJECT:1,UNION:1,SALES:1,AUTHSTORE:1,HEADSTORE:1,PAUTH:1,C_CLEAR_OVERDUE:1,SOURCEID:1},t=window.localStorage;for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||t.removeItem(r)}],function(t,n,i){try{e(t,n)}catch(e){if(window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"224619",value:1,tag:{msg:e&&e.name||"",keyName:t}}]),"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name)throw e;var o=Array.prototype.slice.call(i||r);if(0===o.length)return;o.shift()(),window.localStorage.setItem(t,n,o)}})}var r}())}catch(e){}t.default={}},5472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return(e<10?"0"+e:e).toString()},n={Y:function(){return this.getFullYear()},y:function(){return this.getFullYear().toString().slice(2)},M:function(){return r(this.getMonth()+1)},m:function(){return this.getMonth()+1},D:function(){return r(this.getDate())},d:function(){return this.getDate()},H:function(){return r(this.getHours())},h:function(){return this.getHours()},I:function(){return r(this.getMinutes())},i:function(){return this.getMinutes()},S:function(){return r(this.getSeconds())},s:function(){return this.getSeconds()},N:function(){return this.getDay()||7}};t.default=n},8185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2704),i=r(5472),o=/[YyMmDdHhIiSsNWw]/g;t.default=function(e,t){return void 0===t&&(t=new Date),n.default(e,"String")?e.replace(o,function(e){return i.default[e].call(t)}):""}},7796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2704),i=r(8185),o=r(893),a=function(){function e(e){this.date=new Date,n.default(e,"Date")||(e=o.default(e)),this.date=e}return e.prototype.getDate=function(){return this.date},e.prototype.getTime=function(){return this.date.valueOf()},e.prototype.toString=function(){return this.date.toString()},e.prototype.format=function(e,t){return void 0===t&&(t=this.date),i.default(e,t)},e.prototype.diffMonth=function(e,t){void 0===t&&(t=this.date);var r=parseInt(this.format("Y",e),10),n=parseInt(this.format("M",e),10),i=parseInt(this.format("Y",t),10),o=parseInt(this.format("M",t),10);return Math.abs(12*(i-r)+(o-n))},e.prototype.diffDay=function(e,t){void 0===t&&(t=this.date);var r=this.parse(e),n=this.parse(t);r.setHours(0,0,0,0),r=this.convert2UTC(r);var i=60*new Date(r).getHours()*1e3;n.setHours(0,0,0,0);var o=((n=this.convert2UTC(n))-60*new Date(n).getHours()*1e3-r+i)/864e5;return Math.round(Math.abs(o))},e.prototype.convert2UTC=function(e){return e.date.getTime()+6e4*e.date.getTimezoneOffset()},e.prototype.setHours=function(e,t,r,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.date.setHours.call(this.date,e,t,r,n),this},e.prototype.parse=function(t){return new e(o.default(t))},e.prototype.getServerDate=function(){},e}();t.default=a},893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2704);t.default=function(e){if(n.default(e,"Undefined"))return new Date;var t;if(n.default(e,"String")){var r=/^(\d{4})-?(\d{1,2})-?(\d{1,2})/i;e.match(r)&&(e=e.replace(r,"$2/$3/$1"));var i=Date.parse(e);t=new Date(i)}else n.default(e,"Number")?t=new Date(e):n.default(e,"Date")&&(t=e);return t||new Date}},2704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},8865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof window},7501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInIE=void 0,t.isInIE=function(e){if("undefined"==typeof navigator&&!e)return!1;var t=e||navigator.userAgent;return/MSIE/i.test(t)||/Trident/i.test(t)},t.default=(0,t.isInIE)()},5168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2239),i=r(8865),o=function(){function e(){this.proxy=new n.default({key:"USER",lifetime:2592e6})}return e.prototype.getUser=function(e){if(i.default)return this.proxy.get(e)},e.prototype.setUser=function(e){i.default&&this.proxy.set(e)},e.prototype.removeUser=function(){i.default&&this.proxy.remove()},e}();t.default=new o},2045:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=function(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest;for(var o in i.open(t.method||"get",e,!0),t.headers)i.setRequestHeader(o,t.headers[o]);function a(){var e,t=[],r=[],n={},o=i.getAllResponseHeaders();return o&&o.replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(i,o,a){t.push(o=o.toLowerCase()),r.push([o,a]),e=n[o],n[o]=e?e+","+a:a}),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:a,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return r},get:function(e){return n[e.toLowerCase()]},has:function(e){return e.toLowerCase()in n}}}}i.withCredentials="include"==t.credentials,i.onload=function(){r(a())},i.onerror=n,i.send(t.body||null)})},i="function"==typeof fetch?fetch.bind():n;(function(){try{var e=navigator.userAgent;return!(!/iPhone OS [9_\d]/gi.test(e)||"file:"!==location.protocol)}catch(e){return!1}})()&&(i=n);const o=i},9943:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}if("undefined"!=typeof window){var r,n=function(){for(;0<m._err_weixinReady.length;){var e=m._err_weixinReady.shift();e&&"function"==typeof e&&e({err:"load weixin js error"})}},i=function(){for(;0<m._query_weixinReady.length;){var e=m._query_weixinReady.shift();e&&"function"==typeof e&&e(m.weixinShell)}},o=function(e){var t,r,n,i,o;if((i={data:(e=null==e?{}:e).data||{},error:e.error||f,success:e.success||f,beforeSend:e.beforeSend||f,complete:e.complete||f,url:e.url||""}).computedUrl=s(i),0===i.url.length)throw new Error("MissingUrl");return(r=!1)!==i.beforeSend({},i)&&(n=e.callbackName||"callback",e=e.callbackFunc||"jsonp_"+function(){for(var e="";e.length<15;)e+=d().toString(36).slice(2,3);return e}(),t=i.data[n]=e,window[t]=function(e){return window[t]=null,i.success(e,i),i.complete(e,i)},(o=window.document.createElement("script")).src=s(i),o.async=!0,o.onerror=function(e){return i.error({url:o.src,event:e}),i.complete({url:o.src,event:e},i)},o.onload=o.onreadystatechange=function(){var e;if(!(r||"loaded"!==(e=this.readyState)&&"complete"!==e))return r=!0,o?((o.onload=o.onreadystatechange=null)!=(e=o.parentNode)&&e.removeChild(o),o=null):void 0},(n=window.document.getElementsByTagName("head")[0]||window.document.documentElement).insertBefore(o,n.firstChild)),{abort:function(){if(window[t]=function(){return window[t]=null},r=!0,null!=o&&o.parentNode)return o.onload=o.onreadystatechange=null,o.parentNode.removeChild(o),o=null}}},a=function(e,t,r){var n=new XMLHttpRequest,i=null,o=!1,a=(n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json;charset=utf-8"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var e=n.responseText;try{var t=JSON.parse(e);o||(clearTimeout(i),o=!0,r(null,t))}catch(e){o||(clearTimeout(i),o=!0,r(e,null))}}else o||(clearTimeout(i),o=!0,r({message:n.status},null))},t.body.head={cid:"00000000000000000000",ctok:"",cver:"1.0",lang:"01",sid:"8888",syscode:"09",auth:"",xsid:"",extension:[]},t.body||{});t.timeout&&(i=setTimeout(function(){o||(o=!0,r({message:e+"ajax timeout"},null))},t.timeout)),n.send(JSON.stringify(a))},s=function(e){var t=e.url;return(t+=e.url.indexOf("?")<0?"?":"&")+h(e.data)},c=function(e){try{window.__bfi||(window.__bfi=[]),window.__bfi.push(e)}catch(e){}},l=function(e,r){var n,o,s,l,p,d,f,h,y,g,v,_;function w(e){var t,r,n,i=e,o=1;return"function"==typeof arguments[o]&&(t=arguments[o++],"function"==typeof arguments[o])&&(r=arguments[o++]),n="[object Array]"===Object.prototype.toString.call(arguments[o])?arguments[o=0]:arguments,_(function(){for(;o<n.length;o++)if(!!v[n[o]]!=e){i=!e;break}i&&t&&t(),!i&&r&&r(y)}),i}void 0!==r&&(o=e,s=r,l="wx0a4845e45aaf634a",d=(p=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","translateVoice","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard","checkJsApi","miniProgram","launchMiniProgram","openBusinessView","openEnterpriseChat","onSearchBeacons","stopSearchBeacons","startSearchBeacons","consumeAndShareCard","openAddress","updateTimelineShareData","updateAppMessageShareData"]).concat(["getInstallState","launch3rdApp"]),(r=(e=document.querySelector("meta[name=weixinAppId]"))&&e.content)&&(l=r),e=document.querySelector("meta[name=weixinAuthURL]"),f=e&&e.content||"//"+u+"/restapi/soa2/10645/WeChatJSTicket",h={calls:{ready:[],error:[]},applyAll:function(e,t,r){for(var n=0;n<e.length;n++)e[n].apply(t,r)},Array:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=[];if(e instanceof Array)t=e;else for(var r=0;r<e.length;r++)t[r]=e[r];return t}),load:function(e){var t;h.iniready?e&&"function"==typeof e&&e(s):(h.ready=!1,h.loading=!0,t={AppID:l,CurrentURL:window.location.href.replace(/#.*$/,"")},o({url:f,data:t,success:function(r){s.config({beta:!0,debug:!1,appId:t.AppID,timestamp:r.Timestamp||r.timestamp,nonceStr:r.Noncestr||r.nonceStr||r.noncestr,signature:r.Signature||r.signature,jsApiList:d,openTagList:["wx-open-launch-weapp","wx-open-launch-app"]}),h.iniready=!0,e&&"function"==typeof e&&e(s)}}))},available:((_=function(e){v&&e?e():s.checkJsApi({jsApiList:p,success:function(t){v=t.checkResult,e&&e()}})})(),{init:_,some:function(){var e=h.Array(arguments);e.unshift(!1),w.apply(null,e)},all:function(){var e=h.Array(arguments);e.unshift(!0),w.apply(null,e)}}),end:0},y=new Error("unavailable"),s.ready(function(){return h.ready=!0,delete h.error,h.applyAll(h.calls.ready),h.calls.ready=[],g}),s.error(function(e){return h.ready=!1,h.error=new Error(e.errMsg),"config:invalid signature"==h.error?h.load():(h.applyAll(h.calls.error,[h.error]),h.calls.error=[]),g}),(n=g={ready:function(e){return h.ready?e():h.calls.ready.push(e),g},error:function(e){return h.error?e(h.error):h.calls.error.push(e),g},init:function(e){return h.load(e),g},METHOD:{detectDevice:{run:function(e){s.getNetworkType({success:function(t){e({networkType:t.networkType.toUpperCase()})}})},ping:function(e,t){h.available.all(e,t,"getNetworkType")}},scanBarcode:{run:function(e){s.scanQRCode({needResult:1,scanType:["barCode"],success:function(t){setTimeout(function(){e(t.resultStr)},1e3)}})},ping:function(e,t){h.available.all(e,t,"scanQRCode")}},getLocationParallel:{run:function(e,t,r){var n=(new Date).getTime(),i=r.type||"gcj02",o=r.altitude||!1,a=r.forceLocate||!1;if(s._locationCacheObj&&n-s._locationCacheObj.timeSpan<2e3&&i==s._locationCacheObj.locationType&&o==s._locationCacheObj.locationAltitude)s._locationCacheObj.res?(s._locationCacheObj.resObj.success?((l=s._locationCacheObj.resObj).success.res.scope=r.scope,e(l.success.res)):s._locationCacheObj.resObj.fail?((l=s._locationCacheObj.resObj).fail.res.scope=r.scope,t(l.fail.res,"error")):((l=s._locationCacheObj.resObj).cancel.res.scope=r.scope,t(l.cancel.res,"cancel")),l.complete?l.complete.res.scope=r.scope:l.complete={res:{scope:r.scope}},r.complete&&r.complete(l.complete&&l.complete.res,"complete")):(s._locationCacheArr||(s._locationCacheArr=[]),s._locationCacheArr.push({scope:r.scope,onsuccess:e,onerror:t,oncancel:r.cancel,oncomplete:r.complete}));else{s._locationCacheObj={res:null,locationType:i,locationAltitude:o,timeSpan:n,resObj:{success:null,error:null,cancel:null,complete:null}};var l="";try{c(["_trackMetric",{name:"202424",value:1,tag:{}}]),l=(l=localStorage.getItem("nfes_weixin_cancel"))&&JSON.parse(l)}catch(n){}n=Date.now(),!l||!l.endTime||a||l&&l.endTime&&l.endTime<n?s.getLocation({type:i,altitude:o,success:function(t){try{localStorage.setItem("nfes_weixin_cancel","")}catch(t){}if(s._locationCacheObj.resObj.success={res:t,funcType:"success"},s._locationCacheObj.res={res:t,funcType:"success"},s._locationCacheArr&&0<s._locationCacheArr.length){for(var n=0;n<s._locationCacheArr.length;n++)t.scope=s._locationCacheArr[n].scope,s._locationCacheArr[n].onsuccess(t);s._locationCacheArr=[]}t.scope=r.scope,e&&e(t)},fail:function(e){c(["_trackMetric",{name:"202191",value:1,tag:{}}]);try{localStorage.setItem("nfes_weixin_cancel","")}catch(e){}if(s._locationCacheObj.resObj.fail={res:e,funcType:"fail"},s._locationCacheObj.res={res:e,funcType:"fail"},s._locationCacheArr&&0<s._locationCacheArr.length){for(var n=0;n<s._locationCacheArr.length;n++)e.scope=s._locationCacheArr[n].scope,s._locationCacheArr[n].onerror&&s._locationCacheArr[n].onerror(e,"fail");s._locationCacheArr=[]}e.scope=r.scope,t&&t(e,"fail")},cancel:function(e){c(["_trackMetric",{name:"202181",value:1,tag:{}}]);try{var t=Date.now()+1728e5;localStorage.setItem("nfes_weixin_cancel",JSON.stringify({cancel:1,endTime:t}))}catch(e){}if(s._locationCacheObj.resObj.cancel={res:e,funcType:"cancel"},s._locationCacheObj.res={res:e,funcType:"cancel"},s._locationCacheArr&&0<s._locationCacheArr.length){for(var n=0;n<s._locationCacheArr.length;n++)e.scope=s._locationCacheArr[n].scope,s._locationCacheArr[n].oncancel&&s._locationCacheArr[n].oncancel(e,"cancel");s._locationCacheArr=[]}e.scope=r.scope,r.cancel&&r.cancel(e,"cancel")},complete:function(e){if(s._locationCacheObj.resObj.complete={res:e,funcType:"complete"},s._locationCacheObj.res={res:e,funcType:"complete"},s._locationCacheArr&&0<s._locationCacheArr.length){for(var t=0;t<s._locationCacheArr.length;t++)e.scope=s._locationCacheArr[t].scope,s._locationCacheArr[t].oncomplete&&s._locationCacheArr[t].oncomplete(e,"complete");s._locationCacheArr=[]}e.scope=r.scope,r.complete&&r.complete(e,"complete")}}):((a={}).scope=r.scope,r.cancel&&r.cancel(a,"cancel"),r.complete&&r.complete(a,"complete"))}},ping:function(e,t){h.available.all(e,t,"getLocation")}},scanQrcode:{run:function(e){s.scanQRCode({needResult:1,scanType:["qrCode"],success:function(t){setTimeout(function(){e(t.resultStr)},1e3)}})},ping:function(e,t){h.available.all(e,t,"scanQRCode")}},share:{run:function(e,t,r){function n(){t(new Error("canceled"))}function i(e,t,r){function n(t){return function(){e({methodType:t})}}s.onMenuShareTimeline({title:r.title,link:r.href,imgUrl:r.icon,success:n("shareTimeline"),cancel:t}),s.onMenuShareAppMessage({title:r.title,desc:r.desc,link:r.href,imgUrl:r.icon,type:r.type,dataUrl:r.src,success:n("shareApp"),cancel:t}),s.onMenuShareQQ({title:r.title,desc:r.desc,link:r.href,imgUrl:r.icon,success:n("shareQQ"),cancel:t}),s.onMenuShareWeibo({title:r.title,desc:r.desc,link:r.href,imgUrl:r.icon,success:n("shareWeibo"),cancel:t})}r.channel?a("https://"+u+"/restapi/bbz/domainservice/replaceDomain",{body:{url:r.href,channel:r.channel},timeout:r.timeout||3e3},function(t,o){t||(r.href=o.response&&o.response.data||r.href),i(e,n,r)}):i(e,n,r)},ping:function(e,t){h.available.some(e,t,"onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo")}},setShareInfo:{run:function(e,t,r){function n(){t(new Error("canceled"))}function i(e,t,r){function n(){return function(){o.push("true"),1<o.length&&(o.indexOf("false")<0?e:t)()}}function i(){return function(){o.push("false"),1<o.length&&t()}}var o=[];s.updateAppMessageShareData({title:r.title,desc:r.desc,link:r.href,imgUrl:r.icon,success:n(),cancel:i()}),s.updateTimelineShareData({title:r.title,link:r.href,imgUrl:r.icon,success:n(),cancel:i()})}r.channel?a("https://"+u+"/restapi/bbz/domainservice/replaceDomain",{body:{url:r.href,channel:r.channel},timeout:r.timeout||3e3},function(t,o){t||(r.href=o.response&&o.response.data||r.href),i(e,n,r)}):i(e,n,r)},ping:function(e,t){h.available.some(e,t,"onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo")}},uploadimage:{run:function(e,t,r){s.chooseImage({success:function(n){var i=n.localIds,o=0,a=i.length;"0"==i.length||r.imgNumCheck&&"function"==typeof r.imgNumCheck&&!r.imgNumCheck(a)||setTimeout(function(){!function e(t,r){s.uploadImage({localId:i[o],success:function(n){t({res:n,localid:i[o]}),++o<a&&setTimeout(function(){e(t,r)},100)},fail:function(e){r(e)}})}(e,t)},100)}})},ping:function(e,t){h.available.some(e,t,"chooseImage","previewImage","uploadImage")}},weiXinGlobal:{run:function(e,t){try{e(s)}catch(e){t(e)}},ping:function(e,t){h.available.all(e,t,"chooseImage")}},goLogin:{run:function(e,t,r){var n=r.data;r=void 0===(r=r.cmpIsNavigate)||r,n="/cwx/component/cwebview/cwebview?data="+JSON.stringify(n),r?s.miniProgram&&s.miniProgram.navigateTo({url:n}):s.miniProgram&&s.miniProgram.redirectTo({url:n})}},goPayment:{run:function(e,r,n){var i=n.tokenData,o=n.extendData,a=n.oid||"",c=n.bustype||"";i=i?encodeURIComponent("object"==t(i)?JSON.stringify(i):i):"",o=o?encodeURIComponent("object"==t(o)?JSON.stringify(o):o):"",n=n.sign||"",s.miniProgram&&s.miniProgram.navigateTo({url:"/pages/pay/directpay/index?oid="+a+"&bustype="+c+"&token="+i+"&extend="+o+"&sign="+n})}},goPayment2:{run:function(e,t,r){var n="/pages/pay/directpay/index?orderId="+(n=r.orderId||"")+"&busType="+(r.busType||"")+"&payToken="+(r.payToken||"")+"&requestId="+(r.requestId||"");(r=r.authToken||"")&&(n+="&authToken="+r),s.miniProgram&&s.miniProgram.navigateTo({url:n})}},getLocationInfo:{run:function(e,t,r){var n=!1,i=null,o="",l=r.forceLocate||!1;try{c(["_trackMetric",{name:"202424",value:1,tag:{}}]),o=(o=localStorage.getItem("nfes_weixin_cancel"))&&JSON.parse(o)}catch(r){}var p=Date.now();!o||!o.endTime||l||o&&o.endTime&&o.endTime<p?(r.timeout&&(i=setTimeout(function(){n||(n=!0,t({message:"weixin locate timeout"}))},r.timeout)),s.getLocation({type:r.coordType||"gcj02",success:function(o){try{localStorage.setItem("nfes_weixin_cancel","")}catch(e){}r&&r.onlyLocate?(clearTimeout(i),n||(n=!0,e({coordType:{longitude:o.longitude,latitude:o.latitude,speed:o.speed,accuracy:o.accuracy}}))):a("https://"+u+"/restapi/soa2/12378/json/lBS",{body:{Longitude:o.longitude,Latitude:o.latitude,CountryName:r.country,ProvinceName:r.province,L1CityName:r.city,L2CityName:r.district,isNeedCityID:!0,type:1,coordType:r.coordType||"GCJ02",TownName:"",Language:r.language||"zh-CN",Source:r.channel}},function(r,a){if(r)clearTimeout(i),n||(n=!0,t(r));else{if(r=a,a&&a.ctripPOIInfo){for(var s=a.ctripPOIInfo.cityIDList||[],c=0;c<s.length;c++)s[c].CityID=s[c].cityID,s[c].CityName=s[c].cityName;r={CityLongitude:o.longitude,CityLatitude:o.latitude,coordType:{longitude:o.longitude,latitude:o.latitude,speed:o.speed,accuracy:o.accuracy},CountryName:a.ctripPOIInfo.country,ProvinceName:a.ctripPOIInfo.province,CityEntities:s,LBSType:a.ctripPOIInfo.lbsType,DistrictId:a.ctripPOIInfo.districtID,gsCurrentCity:a.gsCurrentCity,htlCurrentCity:a.htlCurrentCity},a.pOIInfo&&(r.address=a.pOIInfo.detailAddress||"",r.pois=a.pOIInfo.poiList||[]),r._originData=a}clearTimeout(i),n||(n=!0,e(r))}})},cancel:function(e){c(["_trackMetric",{name:"202181",value:1,tag:{}}]);try{var r=Date.now()+1728e5;localStorage.setItem("nfes_weixin_cancel",JSON.stringify({cancel:1,endTime:r}))}catch(e){}t({message:"Locate Cancel"})},fail:function(e){c(["_trackMetric",{name:"202191",value:1,tag:{}}]);try{localStorage.setItem("nfes_weixin_cancel","")}catch(e){}n||(clearTimeout(i),n=!0,t(e))}})):t({message:"Locate Cancel"})}}}}).ready(function(){m.weixinShell=function(e){var r=["detectDevice","scanBarcode","scanQrcode",{name:"share",pre:function(){return arguments},post:function(e){return e},fail:function(e){}},"uploadimage","getLocationParallel","weiXinGlobal","goLogin","goPayment","goPayment2","getLocationInfo","setShareInfo"];function n(r,n,i){"object"==t(i[0])?(s=i[0],o=i[1],a=i[2]):(o=i[0],"object"==t(i[1])?(s=i[1],a=i[2]):(a=i[1],s=i[2]));var o,a,s,c=function(e){function t(e,t){i=t,r(n=e)}function r(e){e==n&&(e=a[e])&&e.apply(null,i)}var n,i,o=this,a={};return o.done=function(e){return a[1]=e,r(1),this},o.fail=function(e){return a[0]=e,r(0),this},o.resolve=function(){return t.call(null,1,arguments),o},o.reject=function(){return t.call(null,0,arguments),o},e&&(e.done=o.done,e.fail=o.fail),o}(i={});return"function"==typeof(r=(r=e[r])&&r[n])&&r.apply(null,[function(e){o&&o(e),c.resolve(e)},function(e){a&&a(e),c.reject(e)},s]),i}for(var i={},o=0,a=r.length;o<a;o++){var s=r[o];i[(s="string"==typeof s?{name:s}:s).name]=function(e){function t(){var t=e.pre?e.pre.apply(null,arguments):arguments;return n(e.name,"run",t)}return t.ping=function(){return n(e.name,"ping",arguments)},t}(s)}return i}(n.METHOD),i()}).error(function(){i()}).init())},u=window.location&&window.location.hostname&&/\.trip.com/i.test(window.location.hostname)||window.__internationalNFES||window.__NEXT_DATA__&&window.__NEXT_DATA__.international?"m.trip.com":"m.ctrip.com",p=window.encodeURIComponent,d=Math.random,f=function(){},h=function(e){var t,r;return function(){var n=[];for(t in e)r=e[t],n.push(p(t)+"="+p(r));return n}().join("&")},y=!1;m={_query_weixinReady:[],_err_weixinReady:[],weixinReady:function(e,t,r){m.weixinShell?e(m.weixinShell):(m._query_weixinReady.push(e),"function"==typeof t&&m._err_weixinReady.push(t),y&&n())}},/MicroMessenger\/([\d.]+)/.test(window.navigator.userAgent)&&("undefined"!=typeof requirejs?requirejs.specified("cShell")?requirejs(["cShell"],function(e){m.weixinShell=e}):requirejs(["//res.wx.qq.com/open/js/jweixin-1.6.0.js"],function(e){l(o,e)}):((r=document.createElement("script")).type="text/javascript",r.charset="utf-8",r.src="//res.wx.qq.com/open/js/jweixin-1.6.0.js",r.onload=function(){"undefined"!=typeof wx?l(o,wx):(y=!0,n())},r.onerror=function(){y=!0,n()},document.head.appendChild(r)))}else var m={_query_weixinReady:[],weixinReady:function(){return null},weixinShell:null};e.exports=m},3295:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(7009),i="alert",o=r(4767),a=null;const s={show:function(e){if(!1===e.isPublic&&a)a(e);else{var t=e.name||i,r=n.Z.get(t).assistComponent.props;r.mainBtn=!1!==e.mainBtn,r.mainBtn&&(r.mainBtnIndex=2===e.btnOK.length?1:0),r.tips=e.tips,r.imgUrl=e.imgUrl,r.name=e.name,r.title=e.title,r.isPublic=!1!==e.isPublic,r.content=e.content,r.btnOK=e.btnOK,r.btnCallBack=e.btnCallBack,r.maskClose=e.maskClose||!1,r.onClose=e.onClose,r.visiable=e.visiable||!0,n.Z.change(t),(0,o.E)()}},hide:function(e){var t=e||i;n.Z.get(t).assistComponent.props.visiable=!1,n.Z.change(t),(0,o.V)()},isShow:function(e){return n.Z.get(e||i).assistComponent.props.visiable}}},2397:(e,t,r)=>{"use strict";r.d(t,{LN:()=>n,$Z:()=>i});var n={};function i(e){n[e]&&n[e].show()}},2370:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>c,XF:()=>s});var n=null,i=null,o=null,a=null;r(1375),r(4e3);var s=function(e){return o?o(e):n?n(e):e},c=function(e,t,r,n,o){if(a)return a(t,e,r,n,o);i?i(t,e,r,n,o):e.setState(t)}},5098:(e,t,r)=>{"use strict";var n;r.d(t,{o:()=>n}),function(e){e.initial="initial",e.doing="doing",e.done="done",e.failed="failed"}(n||(n={}))},3965:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ge:()=>ge,p:()=>AntiCrawler});var _interface__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5098),_http_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9723),_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4e3),_enviroment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1375),_enviroment_tools_user_agent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4135),__extends=(_extendStatics=function(e,t){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},_extendStatics(e,t)},function(e,t){function r(){this.constructor=e}_extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_extendStatics,__assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)},__spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},_a=(0,_enviroment__WEBPACK_IMPORTED_MODULE_3__.Fs)(),cid=_a.cid,_b=_a.pageInfo,pageInfo=void 0===_b?{}:_b,platform=_a.platform,ge=function(e,t){void 0===t&&(t="");var r=e.split("."),n=r[0],i=r[1],o=t.split("."),a=o[0],s=o[1];return~~n>=~~a&&~~i>=~~s},BaseAntiCrawler=function(){function e(){}return e.prototype.init=function(){},e.prototype.generateCrawlerKey=function(e){},e.prototype.crawlerHandler=function(){var t=this;return e.status===_interface__WEBPACK_IMPORTED_MODULE_0__.o.initial?this.init():e.status===_interface__WEBPACK_IMPORTED_MODULE_0__.o.doing?e.pendingFn.then(function(e){return new Promise(!0===e?function(e){t.generateCrawlerKey(e)}:function(e){e(!1)})}):e.status===_interface__WEBPACK_IMPORTED_MODULE_0__.o.done?new Promise(function(e){t.generateCrawlerKey(e)}):new Promise(function(e){e(!1)})},e.prototype.getFingerPrintKey=function(){return""},e.prototype.getCrawlerKey=function(){return""},e.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.initial,e}(),OtherAntiCrawler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(BaseAntiCrawler),RNAntiCrawler=function(e){function t(r){var n=r.Bridge,i=e.call(this)||this;return i.crnSecrectKey="",n&&(t.Bridge=n),i}return __extends(t,e),t.prototype.init=function(){if(BaseAntiCrawler.status===_interface__WEBPACK_IMPORTED_MODULE_0__.o.initial)return BaseAntiCrawler.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.doing,BaseAntiCrawler.pendingFn=new Promise(function(e,r){"function"!=typeof t.Bridge.callNativeWithCallback?e(!1):t.Bridge.callNativeWithCallback("Business","initGlobalHotel",null,function(r){t.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.done,e(!0)})}),BaseAntiCrawler.pendingFn},t.getSignString=function(){var e=(0,_enviroment__WEBPACK_IMPORTED_MODULE_3__.Fs)(),t=e.cid,r=e.appInternalVersion,n=e.OS;return JSON.stringify(t+"&"+r+"&"+n)},t.prototype.generateCrawlerKey=function(e){var r=this;"function"!=typeof t.Bridge.callNativeWithCallback?e(!1):t.Bridge.callNativeWithCallback("Business","getSignClientKey",{request_value:t.getSignString()},function(t,n){r.crnSecrectKey=n.result,e(!0)})},t.prototype.getCrawlerKey=function(){return this.crnSecrectKey},t}(BaseAntiCrawler),WebAntiCrawler=function(_super){function WebAntiCrawler(){var e=_super.call(this)||this;e.crawlerKey=null;var t=(0,_enviroment_tools_user_agent__WEBPACK_IMPORTED_MODULE_4__.ud)(),r=(0,_enviroment_tools_user_agent__WEBPACK_IMPORTED_MODULE_4__.Rl)();return t!==_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.Sd.none&&!1===WebAntiCrawler.isPushMini&&(WebAntiCrawler.isPushMini=!0,WebAntiCrawler.head.syscode="30",WebAntiCrawler.head.extension.push({name:"MiniType",value:t},{name:"AppId",value:r})),(0,_enviroment__WEBPACK_IMPORTED_MODULE_3__.Fs)().platform===_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.Jv.H5&&!1===WebAntiCrawler.isPushH5&&(WebAntiCrawler.isPushH5=!0,WebAntiCrawler.head.extension.push({name:"H5",value:"H5"})),e}return __extends(WebAntiCrawler,_super),WebAntiCrawler.prototype.setWindowVariables=function(){this.crawlerKey=window.__ttdAntiCrawlerKey=null,window[WebAntiCrawler.callback]=function(e){this.crawlerKey=window.__ttdAntiCrawlerKey="function"==typeof e?e():e}},WebAntiCrawler.prototype.init=function(){if(this.setWindowVariables(),BaseAntiCrawler.status===_interface__WEBPACK_IMPORTED_MODULE_0__.o.initial)return BaseAntiCrawler.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.doing,BaseAntiCrawler.pendingFn=new Promise(function(e,t){(0,_http_index__WEBPACK_IMPORTED_MODULE_1__.dJ)({actionUrl:WebAntiCrawler.fingerPrintKeyApi,request:{head:WebAntiCrawler.head},success:function(t){var r=t.link;if(!r)return BaseAntiCrawler.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.failed,void e(!1);var n=document.createElement("script");n.src=r,document.head.appendChild(n);var i=setInterval(function(){void 0!==window.Kar98k&&(clearInterval(i),WebAntiCrawler.fingerPrintKey=window.Kar98k.hoteluuidkeys,BaseAntiCrawler.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.done,e(!0))},16);setTimeout(function(){clearInterval(i),e(!1)},5e3)},fail:function(){BaseAntiCrawler.status=_interface__WEBPACK_IMPORTED_MODULE_0__.o.failed,e(!1)}})}),BaseAntiCrawler.pendingFn},WebAntiCrawler.prototype.generateCrawlerKey=function(resolve){this.setWindowVariables(),(0,_http_index__WEBPACK_IMPORTED_MODULE_1__.dJ)({actionUrl:WebAntiCrawler.crawlerKeyApi+"?"+Date.now()+1e6*Math.random(),request:{head:__assign(__assign({},WebAntiCrawler.head),{extension:__spreadArrays(WebAntiCrawler.head.extension,[{name:"fingerprintKeys",value:WebAntiCrawler.fingerPrintKey}])}),callBack:""+WebAntiCrawler.callback},success:function success(res){var scripts=res&&res.data&&res.data.script;try{scripts&&eval(scripts),resolve(!0)}catch(e){resolve(!1)}},fail:function(){resolve(!1)}})},WebAntiCrawler.prototype.getFingerPrintKey=function(){return WebAntiCrawler.fingerPrintKey},WebAntiCrawler.prototype.getCrawlerKey=function(){return"undefined"!=typeof window?window.__ttdAntiCrawlerKey:this.crawlerKey},WebAntiCrawler.fingerPrintKeyApi="12530/sdtSource",WebAntiCrawler.crawlerKeyApi="12530/crawlerScripting",WebAntiCrawler.callback="__ttdAntiCrawlerCb",WebAntiCrawler.isPushH5=!1,WebAntiCrawler.isPushMini=!1,WebAntiCrawler.head={cid:cid||pageInfo.clientcode,syscode:platform===_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.Jv.RN?"12":platform==_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.Jv.Online?"999":"09",extension:[]},WebAntiCrawler}(BaseAntiCrawler),AntiCrawler=function(){function e(e){this.antiCrawler=new OtherAntiCrawler;var t=(0,_enviroment__WEBPACK_IMPORTED_MODULE_3__.Fs)(),r=t.OS,n=t.platform,i=t.app_version,o=t.channel,a=(e||{}).Bridge;n!==_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.Jv.H5||o!==_enviroment_interface__WEBPACK_IMPORTED_MODULE_2__.CE.ctrip||(0,_enviroment__WEBPACK_IMPORTED_MODULE_3__.sk)()?"android"===r&&ge(i,"8.28.0")&&(this.antiCrawler=new RNAntiCrawler({Bridge:a})):this.antiCrawler=new WebAntiCrawler,this.antiCrawler.init()}return e.setWhiteList=function(t){e.whiteList||(e.whiteList=t)},e.getWhiteList=function(){return e.whiteList},e.prototype.init=function(){return this.antiCrawler.init()},e.prototype.antiCrawlerhandler=function(){return this.antiCrawler.crawlerHandler()},e.prototype.getFingerPrintKey=function(){return this.antiCrawler.getFingerPrintKey()},e.prototype.getCrawlerKey=function(){return this.antiCrawler.getCrawlerKey()},e.whiteList=null,e}()},1501:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n,i,o=r(3804),a=r.n(o),s=r(9933),c=r(8862),l=r(1375),u=r(4e3),p=r(810),d=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});!function(e){e.all="all",e.state="state",e.props="props"}(i||(i={}));var f=function(e){function t(t){var r=e.call(this,t)||this;return r.IBUShark=function(e,t,r,n){return(0,c.Z)(e,t,r,n)},r.renderCount=2,r.isCtrip=(0,l.By)().channel===u.CE.ctrip,r.isTrip=(0,l.By)().channel===u.CE.trip,r.onWindowResize&&(r.onWindowResize=r.onWindowResize.bind(r),s.B.register("resize",function(e){(0,l.Fs)().width=window.screen.width,r.onWindowResize(e)})),(0,l.Fs)().isNativeMini&&(r.state={}),r}return d(t,e),t.prototype.shouldComponentUpdate=function(e,t,r){var n=!0;return(n=this.compareType!=i.state&&this.compare(e,this.props,"props"))||(n=this.compare(t,this.state)),n||(n=this.compare(r,this.context)),n&&this.computerRender(),n},t.prototype.computerRender=function(){this.renderCount++},t.prototype.miniCompare=function(e,t,r){var n=!0,i=function(e){var t=e.split("style"),r=["wxConst"].includes(e);return 2===t.length&&(r=r||!isNaN(Number(t[1]))),r},o=null==e,a=o?[]:Object.keys(e).filter(function(e){return!i(e)}),s=null==t,c=s?[]:Object.keys(t).filter(function(e){return!i(e)});if(o&&s)n=!1;else if(o||s||a.length!=c.length)n=!0;else try{var l=a.map(function(t){return e[t]}),u=a.map(function(e){return t[e]});n=!(JSON.stringify(l)==JSON.stringify(u))}catch(e){n=!0}return n},t.prototype.compare=function(e,t,r){if((0,l.Fs)().isNativeMini)return this.miniCompare(e,t,r);var n=!0;if(null==e&&null==t||e.Page&&"props"===r)n=!1;else if(null==e||null==t||Object.keys(e).length!=Object.keys(t).length)n=!0;else try{if(n=!0,"props"===r){var i=this.refFilter;n=!(JSON.stringify(e,function(e,t){return t&&("function"==typeof t||i&&"ref"==e)?"":t})==JSON.stringify(t,function(e,t){return t&&("function"==typeof t||i&&"ref"==e)?"":t}))}else n=!(JSON.stringify(e)==JSON.stringify(t))}catch(e){n=!0}return n},t}(a().Component);const h=f;(0,l.By)().platform===u.Jv.RN&&(f.contextType=p.DY)},7009:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n={},i=null,o=null,a=[];const s={add:function(e,t,r){n[e]={component:t,assistComponent:r}},destroy:function(e){delete n[e]},get:function(e){return e?n[e]:n},change:function(e,t){t&&Object.assign(n[e].assistComponent,t),a.indexOf(e)>-1?o.setState({assistComponent:t}):(i.setState({}),i.onSetPopLayer&&i.onSetPopLayer({assistComponent:n}))},register:function(e){i=e},registerInner:function(e,t){o=e,a=t||[]}}},5504:(e,t,r)=>{"use strict";r.d(t,{t:()=>d});var n=r(1375),i=r(5230);const o=function(e,t){if((0,n.sk)())return null;var r=null;if(t){var i=JSON.parse(localStorage.getItem(t)||"{}")[e];i&&i.reg>=Date.now()&&(r=i.val)}else r=localStorage.getItem(e);return r},a=function(e,t,r,o,a){if(void 0===r&&(r=1440),(0,n.sk)())return null;var s=JSON.parse(localStorage.getItem(o)||"{}"),c=new Date;c.setMinutes(c.getMinutes()+r),a?(s[e]={reg:c.getTime(),val:t},localStorage.setItem(o,JSON.stringify(s))):(t.timeout=(0,i.t)(c,"/"),localStorage.setItem(e,JSON.stringify(t)))},s=function(e,t){if((0,n.sk)())return null;var r=JSON.parse(localStorage.getItem(t)||"{}");delete r[e],localStorage.setItem(t,JSON.stringify(r))};var c=r(2061),l=r(6236),u=null,p=r(4135),d={module:"ottd",get:function(e,t,r,i,a,s,d){if(void 0===t&&(t=!1),void 0===r&&(r={}),void 0===a&&(a=!0),void 0===s&&(s=!1),r=r||{},u)return u.get(e,d||this.module,i);if("undefined"!=typeof document&&document.cookie||r.cookies){if(s){if(window.CtripStorage&&window.CtripStorage.app_storage_get){var f=this.module;window.CtripStorage.app_storage_get(e,f,function(e){var t;try{t=JSON.parse(e)}catch(r){t=e}if(t.value){var r=t.value;"string"==typeof r&&(r=JSON.parse(r)),i&&i(r)}else i&&i(t)})}return}var h=r.cookies?r.cookies[e]:o(e,a?this.module:null)||c.Z.get(e);return null==h&&null==r.cookies&&(h=l.Z.get(e)),null!=h&&t&&"string"==typeof h&&(h=JSON.parse(h)),i&&i(h),h}(0,n.sk)()||!document.cookie||(0,p.r1)()||(0,p.C0)()&&wx.getStorage({key:e,success:function(e){return i&&i(e.data),e.data}})},set:function(e,t,r,i,o,s){if(void 0===o&&(o=!0),void 0===s&&(s=!1),u)return u.set(e,t,i||this.module,r);if("undefined"!=typeof document&&document.cookie)if(s){if(window.CtripStorage&&window.CtripStorage.app_storage_save){var l=i||this.module;window.CtripStorage.app_storage_save(e,t,l)}}else 0===r?c.Z.set(e,t):this.module&&a(e,t,r,i||this.module,o);else{if((0,n.sk)()||(0,p.r1)())return;(0,p.C0)()&&wx.setStorageSync(e,t)}},clear:function(e,t){if(u)return u.clear(e,this.module);"undefined"!=typeof document&&document.cookie?0===t?c.Z.clear(e):s(e,this.module):(0,n.sk)()||(0,p.r1)()||(0,p.C0)()&&wx.setStorageSync(e,null)},register:function(e){void 0===e&&(e="ottd"),this.module=e}}},6236:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(1375);const i={get:function(e){if(!(0,n.sk)()){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?decodeURIComponent(t[2]):null}},set:function(e,t,r,i){if(!(0,n.sk)()){var o=new Date;r||(r=1),o.setTime(o.getTime()+24*r*60*60*1e3);var a="expires="+o.toUTCString(),s="domain="+i;document.cookie=e+"="+t+";"+a+";"+s+";path=/"}}}},2061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(1375);const i={get:function(e){return(0,n.sk)()?null:sessionStorage.getItem(e)},set:function(e,t){if((0,n.sk)())return null;t="string"==typeof t?t:JSON.stringify(t),sessionStorage.setItem(e,t)},clear:function(e){if((0,n.sk)())return null;sessionStorage.removeItem(e)}}},4713:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var n=r(1375),i=r(3804),o=r.n(i),a={domain:"ottd-smart",windowDomain:"smart",getDomain:function(e){return e=e||{},(0,n.sk)()?e[this.domain]:window[this.windowDomain]},getGlobal:function(e){return void 0!==r.g?r.g[e]:""},init:function(e){(0,n.sk)()?e[this.domain]||(e[this.domain]={}):"undefined"==typeof window||window[this.windowDomain]||(window[this.windowDomain]={})},set:function(e,t,r){var n=this.getDomain(e);"string"==typeof r?(this.init(e),n[t]=r):Object.assign(n,r)},get:function(e,t){if("string"==typeof t){var r="";r=t.indexOf("$")>-1?t.replace("$",""):"$"+t,this.init(e);var n=this.getDomain(e);return n[t]||n[r]||this.getGlobal(t)||this.getGlobal(r)}return""},context:{},createContext:function(e,t){return this.context[e]=o().createContext(t||null),this.context[e]},getContext:function(e){return this.context[e]||o().createContext(null)}}},1375:(e,t,r)=>{"use strict";r.d(t,{N_:()=>te,gx:()=>Q,Db:()=>ee,Fs:()=>Z,sk:()=>re,By:()=>X,HQ:()=>J.H});var n=r(4e3),i=function(){function e(){this._system=function(){},this._getNetState=function(){},this._getHeader=function(){}}return e.prototype.system=function(){return this._system},e.prototype.getNetState=function(){return this._getNetState()},e.prototype.getHeader=function(){return this._getHeader()},e.prototype.init=function(e,t,r){Object.assign(this._system,e),this._getNetState=t,this._getHeader=r},e}(),o=new i;o.init.bind(o);var a=o.system.bind(o),s=o.getNetState.bind(o),c=o.getHeader.bind(o),l=r(5504),u=n.aQ.unknown;const p=function(e,t){var r=n.aQ.DEV;switch(e){case n.Jv.H5:case n.Jv.Online:var i=location.origin||location.host;-1!==i.indexOf("trip")&&(r=-1!==i.indexOf("dev")?n.aQ.DEV:-1!==i.indexOf("fat")||-1!==i.indexOf("fws")?n.aQ.FAT:-1!==i.indexOf("uat")?n.aQ.UAT:n.aQ.PROD);break;case n.Jv.Node:var o=(process.env.ottd_smart_env||"").toString().toLowerCase();return"dev"===o?n.aQ.DEV:"fat"===o||"fws"===o?n.aQ.FAT:"uat"===o?n.aQ.UAT:n.aQ.PROD;case n.Jv.Hybrid:var s=l.t.get("CINFO",!0);if(s&&s.env)switch(s.env.toUpperCase()){case"PROD":default:return n.aQ.PROD;case"UAT":return n.aQ.UAT;case"FAT":return n.aQ.FAT;case"DEV":return n.aQ.DEV}return n.aQ.PROD;case n.Jv.RN:r=a().enviroment}return r};var d=r(4713);const f=function(e,t){var r=n.CE.ctrip;switch(e){case n.Jv.H5:case n.Jv.Online:location.href.indexOf("ctrip=true")>-1?r=n.CE.ctrip:(location.href.indexOf("trip=true")>-1||-1===(location.origin||location.host).indexOf(".ctrip"))&&(r=n.CE.trip);break;case n.Jv.Node:return"ctrip"===d.r.get(t,"channel").toString().toLowerCase()?n.CE.ctrip:n.CE.trip;case n.Jv.Hybrid:r=n.CE.ctrip;break;case n.Jv.RN:r=a().channel}return r};var h=r(4135),y=(0,h.fP)();const m=function(){var e=n.Jv.RN;if("undefined"!=typeof document){var t=location.href;e=0===t.indexOf("http")?!y||t.indexOf("//m.")>-1||t.indexOf("/m/")>-1||t.indexOf("wap.")>-1||t.indexOf("/html5/")>-1||t.indexOf("//gs.")>-1?n.Jv.H5:n.Jv.Online:n.Jv.Hybrid}else re()&&(e=n.Jv.Node);return e};var g=function(e){return d.r.get(e,"nodePlatform")},v=n.H5.unknown;const _=function(){if("undefined"!=typeof document&&window.clientInformation&&window.clientInformation.connection){var e=window.clientInformation.connection;switch(e.effectiveType){case"4g":return 0===e.rtt?n.H5.offline:n.H5["4G"];case"3g":return n.H5["3G"];case"2g":return n.H5["2G"];default:return n.H5.unknown}}else{var t=window.CtripUtil&&window.CtripUtil.app_check_network_status;t&&t(function(e){!function(e){switch(e){case"2G":v=n.H5["2G"];break;case"3G":v=n.H5["3G"];break;case"WIFI":case"4G":v=n.H5["4G"];break;case"None":v=n.H5.offline;break;default:v=n.H5.unknown}}(e.networkType)})}return v};var w=r(708),b=r.n(w);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var C,I=function(){return I=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I.apply(this,arguments)},O=function(){var e=window&&window.navigator&&window.navigator.userAgent||"";return/Ctrip_CtripWireless|Trip\.com_CtripWireless/.test(e)},S={page:"",hybrid:"",prevpage:"",sid:"",pvid:"",clientcode:"",vid:""};"undefined"!=typeof window&&void 0!==window.CtripUBT&&"function"==typeof window.CtripUBT.getCurrentPageInfo?window.CtripUBT.getCurrentPageInfo(function(e){S=Object.assign(S,I({},e)),"function"==typeof C&&C()}):"function"==typeof C&&C();var E={isDoingGetUnion:!0},P=function(e){if("undefined"==typeof window)return!1;if(void 0!==E.isDoingGetUnion){var t=function(t){"string"==typeof t&&(t=JSON.parse(t)),E=t,e&&e(t)};O()&&"undefined"!=typeof CtripUtil&&"function"==typeof CtripUtil.app_init_member_H5_info?CtripUtil.app_init_member_H5_info(function(e){t(e)}):(window.__union_api||(window.__union_api=[]),window.__union_api.push({apiName:"getClick",callback:function(e){t(e)}}))}};P();var x=function(e){var t=l.t.get("_bfa",!1,e);if(null==t)return null!=(t=l.t.get("CTRIP_UBT_M",!0,e))?t.vid:"";var r=t.split(".");return r.length>2?r[1]+"."+r[2]:""},T=function(e){return l.t.get("GUID",!1,e)},N=function(e){var t=l.t.get("Union",!1,e),r={sid:"",aid:"",ouid:""};if(!t)return r;for(var n=t.split("&"),i={},o=0;o<n.length;o++)if(n[o]){var a=n[o].indexOf("="),s=n[o].substr(0,a),c=n[o].substr(a+1,n[o].length);i[s]=c}for(var u in i)for(var p=["allianceid","aid","sid","ouid"],d=0;d<p.length;d++){var f=p[d];u.toLowerCase()==f&&(r[f]=i[u])}return r.allianceid&&(r.aid=r.allianceid,delete r.allianceid),r},A=function(e){var t=(l.t.get("ibu_h5_local",!1,e)||"").split("-"),r=(l.t.get("ibulocale",!1,e)||"").split(/-|_/),i=(X().channel===n.CE.ctrip?"zh-CN":X().platform===n.Jv.H5?t[1]&&t[0]+"-"+t[1].toUpperCase():r[1]&&r[0]+"-"+r[1].toUpperCase())||"";try{i||"undefined"==typeof window||(i=window.smart.query.locale||"")}catch(e){}return i.replace("_","-")},R=function(e){var t=(X().channel===n.CE.ctrip?"CNY":X().platform===n.Jv.H5?l.t.get("ibu_h5_curr",!1,e):l.t.get("cookiePricesDisplayed",!1,e))||"";try{t||"undefined"==typeof window||(t=window.smart.query.currency||"USD")}catch(e){}return t.toUpperCase()},D=function(){return D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D.apply(this,arguments)};const L=function(){function e(e){this.$req=e}return Object.defineProperty(e.prototype,"vid",{get:function(){var e=l.t.get("_bfa",!1,this.$req);if(null==e)return null!=(e=l.t.get("CTRIP_UBT_M",!0,this.$req))?e.vid:"";var t=e.split(".");return t.length>2?t[1]+"."+t[2]:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"union",{get:function(){var e=l.t.get("Union",!1,this.$req),t={sid:"",aid:"",ouid:""};if(!e)return t;for(var r={},n=0,i=e.split("&");n<i.length;n++)r[(a=(o=i[n]).split("="))[0]]=a[1];for(var o in r)for(var a,s=0,c=a=["allianceid","aid","sid","ouid"];s<c.length;s++){var u=c[s];o.toLowerCase()==u&&(t[u]=r[o])}return t.allianceid&&(t.aid=t.allianceid,delete t.allianceid),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){return d.r.get(this.$req,"language")&&d.r.get(this.$req,"language").replace("_","-")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currency",{get:function(){return d.r.get(this.$req,"currency")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return(0,J.H)(this.$req).href},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"referrer",{get:function(){return this.$req.headers.referer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userAgent",{get:function(){return this.$req.headers["user-agent"]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cookie",{get:function(){return this.$req.headers.cookie},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return{height:0,width:0}},enumerable:!1,configurable:!0}),e.prototype.getValue=function(){return this.$req["node-header"]||(this.$req["node-header"]={isOpenBff:d.r.get(this.$req,"isOpenBff"),vid:this.vid,awakenUnion:{},union:this.union,language:this.language,currency:this.currency,url:this.url,referrer:this.referrer,userAgent:this.userAgent,cookie:this.cookie,width:this.width,height:this.height,offset:this.offset,traceId:d.r.get(this.$req,"traceId"),isMiniProgram:(0,h.C0)(this.$req)}),this.$req["node-header"]},e}();var M=function(e){return!(e||!re())&&{platform:n.Jv.Node,channel:r.g.channel,nodePlatform:r.g.platform,enviroment:r.g.env}},j=function(e){if((!e||!e.state||!e.state.header)&&re())return!1;if(!re())return!1;var t=e.state.header,r=t.platform;return D(D({},t),{nodePlatform:r,platform:n.Jv.Bff})};const B={defaultH5ClientID:"CLIENT_ID",token:"5d3015dbdd56e9002273bddd-6183ad8df6595c4f",mockPlatform:"app",marsUrl:"",getMarsUrl:function(e){return this.marsUrl||(this.marsUrl="http://mars.ibu.ctripcorp.com/mid/"+e+"/token-"+this.token+"/platform-"+this.mockPlatform+"/"),this.marsUrl}};var U=function(){function e(){this._system={},this._getNetState=function(){},this._getHeader=function(){},this._getSystem=function(){}}return e.prototype.system=function(){return this._system},e.prototype.getNetState=function(){return this._getNetState()},e.prototype.getHeader=function(){return this._getHeader()},e.prototype.getSystem=function(){return this._getSystem()},e.prototype.init=function(e,t,r,n){Object.assign(this._system,e),this._getNetState=t,this._getHeader=r,this._getSystem=n},e}(),H=new U;H.init.bind(H);var F=H.system.bind(H),K=H.getNetState.bind(H),W=H.getHeader.bind(H),q=r(4517),J=r(853),$=r(8531),G=function(){return G=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},V=(0,$.W)().isNativeMini,z=null,Y=null,Q=function(){return V?K():z.platform===n.Jv.RN?s():_()},Z=function(e,t){if(V)return W();var r=M(e),i=j(e);if(!1!==r)return G({},r);if(!1!==i)return i;t&&(Y=null);var o=null,a=m();if(a===n.Jv.Node&&!e)return{};if(m()!==n.Jv.Node&&null!=Y&&Y.vid)return Y;var s=X(e);s.platform===n.Jv.RN?o=c():s.platform===n.Jv.Node?o=new L(e).getValue():(o=function(e){var t;return void 0!==("undefined"==typeof window?"undefined":k(window))&&window.smart&&void 0!==window.smart.isOpenBff&&(t=window.smart.isOpenBff),{pageInfo:S,isOpenBff:t,cid:T(e),vid:x(e),union:N(e),awakenUnion:E,url:e?e.protocol+"://"+e.headers.host+e.originalUrl:X().platform==n.Jv.Hybrid?location.hash:location.href,referrer:e?e.headers.referer:document.referrer,language:re()?A():b().getLocale(),currency:re()?R():b().getCurrency(),userAgent:e?e.headers["user-agent"]:navigator.userAgent,cookie:e?e.headers.cookie:document.cookie,isMiniProgram:(0,h.C0)(),isInMini:"none"!==(0,h.ud)(),width:e?0:window.screen.width,height:e?0:window.innerHeight,traceId:d.r.get(e,"traceId"),offset:{height:e?0:document.body.clientHeight||document.documentElement.clientHeight,width:e?0:document.body.clientWidth||document.documentElement.clientWidth},isBot:(0,h.Q0)(),isInApp:O()}}(e),P(function(e){o.awakenUnion=e}));var l=a==n.Jv.RN?(0,h.C0)()?"30":"12":"09";return Object.assign(o,s,{log_version:q.Z.getVer(),syscode:l}),a!==n.Jv.Node&&(z=s,Y=o),o},X=function(e){if(V)return F();var t=M(e),r=j(e);if(!1!==t)return G({},t);if(!1!==r)return r;var i=m(),o=z;return i!==n.Jv.Node&&null!=o&&o.enviroment||(o={platform:i,enviroment:p(i),nodePlatform:g(e),channel:f(i,e)}),o.platform===n.Jv.Hybrid&&o.enviroment===n.aQ.unknown&&(o.enviroment=u),i!==n.Jv.Node&&(z=o),o},ee=function(e){if(e&&e.indexOf("ttd/bff/qconfig")>-1)return""+te().replace("ttd/bff/graphql","");var t=X();switch(B.getMarsUrl(Z().cid),t.enviroment){case n.aQ.DEV:case n.aQ.FAT:return t.platform===n.Jv.Node||t.platform===n.Jv.RN?"http://gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2/":t.platform===n.Jv.Hybrid?"https://m.fat.ctripqa.com/restapi/soa2/":t.channel===n.CE.ctrip?window.location.protocol+"//gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2/":window.location.protocol+"//"+(t.enviroment===n.aQ.DEV?"www.fat1.qa.nt.tripqate.com":window.location.host)+"/restapi/soa2/";case n.aQ.UAT:return t.platform===n.Jv.Node||t.platform===n.Jv.RN?"https://gateway.m.uat.qa.nt.ctripcorp.com/restapi/soa2/":"https://m.uat.ctripqa.com/restapi/soa2/";default:return t.platform===n.Jv.Node?"https://apigateway.ctripcorp.com/restapi/soa2/":t.channel===n.CE.trip?"https://m.trip.com/restapi/soa2/":"https://m.ctrip.com/restapi/soa2/"}},te=function(){var e=X();switch(e.enviroment){case n.aQ.DEV:case n.aQ.FAT:return"https://www.fat1.qa.nt.ctripcorp.com/ttd/bff/graphql";case n.aQ.UAT:return"https://www.uat.qa.nt.ctripcorp.com/ttd/bff/graphql";default:return e.platform===n.Jv.Node?"https://apigateway.ctripcorp.com/restapi/soa2/":e.channel===n.CE.trip?"https://m.trip.com/restapi/ttd/bff/graphql":"https://m.ctrip.com/restapi/ttd/bff/graphql"}},re=function(){return void 0!==process&&"undefined"==typeof window}},4e3:(e,t,r)=>{"use strict";var n,i,o,a,s,c;r.d(t,{aQ:()=>n,Jv:()=>i,CE:()=>o,H5:()=>a,Sd:()=>s,Zd:()=>c}),function(e){e.PROD="PROD",e.FAT="FAT",e.FWS="FWS",e.UAT="UAT",e.DEV="DEV",e.BATTLE="BATTLE",e.unknown="unknown"}(n||(n={})),function(e){e.H5="H5",e.Online="Online",e.Hybrid="Hybrid",e.RN="RN",e.Node="Node",e.Bff="Bff",e.MINI="mini"}(i||(i={})),function(e){e.ctrip="ctrip",e.trip="trip"}(o||(o={})),function(e){e["2G"]="2G",e["3G"]="3G",e["4G"]="4G",e.offline="offline",e.unknown="unknown"}(a||(a={})),function(e){e.wechat="WAP/WECHATAPP",e.qq="WAP/QQAPP",e.toutiao="WAP/TOUTIAOAPP",e.baidu="WAP/BAIDUAPP",e.alipay="WAP/ALIPAYAPP",e.quick="WAP/QUICKQPP",e.alipay_hk="WAP/ALIPAY_HK",e.none="none"}(s||(s={})),function(e){e.wechat="wx0e6ed4f51db9d078",e.qq="1109981246",e.toutiao="ttaf70d9cd305a16cb",e.baidu="11048657",e.alipay="2017081708237081",e.quick="",e.none=""}(c||(c={}))},853:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(4713),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=function(e){var t=(e.split("?")[1]||"").split("&")||[],r={};return t.map(function(e){var t=e.split("=");try{r[t[0]]=a(decodeURIComponent(t[1]))}catch(e){}return e}),i({},r)},a=function(e){return e.replace(/<\/script/gi,"&lt/script")},s=function(e){var t=e||location,r=t.hostname,s=t.protocol,c={hostname:r,pathname:t.path,protocol:s};if(e){var l=(e.headers&&e.headers.host||"").split(":").reverse()[0],u=s+"://"+r+(l?":"+l:""),p=u+e.originalUrl,d={},f=e.query;return Object.keys(f||{}).forEach(function(e){"string"==typeof f[e]?d[e]=a(f[e]):Array.isArray(f[e])&&f[e].length&&(d[e]=f[e][0])}),i(i({},c),{origin:u,href:p,port:l,regexParam:e.params,query:d,body:e.body})}return i(i({},c),{href:location.href,origin:location.origin,port:location.port,regexParam:n.r.get(null,"query"),query:o(location.search),body:{}})}},4135:(e,t,r)=>{"use strict";r.d(t,{fP:()=>a,C0:()=>c,r1:()=>p,$r:()=>d,K$:()=>f,ud:()=>h,Rl:()=>y,Q0:()=>m,ho:()=>g});var n=r(1375),i=r(4e3),o=null;function a(){if("undefined"!=typeof document&&"undefined"!=typeof window){var e=window.navigator&&window.navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!e.match(/(iPad)(.*OS\s([\d_]+))?/)&&e.match(/(iPhone\sOS)\s([\d_]+)/),i=1<e.indexOf("Windows Phone");return!(t||r||n||i)}}function s(e){return e?/MicroMessenger/i.test(e.headers["user-agent"]):"undefined"!=typeof window&&/MicroMessenger/i.test(window.navigator.userAgent)}function c(e){return e?s(e)&&/miniProgram/i.test(e.headers["user-agent"]):"undefined"!=typeof window&&s()&&("miniprogram"===window.__wxjs_environment||/miniProgram/i.test(window.navigator.userAgent))}function l(e){return(0,n.sk)()&&e?e.headers["user-agent"]:"undefined"!=typeof navigator?navigator.userAgent:""}function u(e){return/ QQ\//i.test(l(e))}function p(e){var t=l(e),r=/quickapp/i.test(t),n=/(hap|OPPO\/Hybrid)\/\d/i.test(t)&&!(t.indexOf("quickapp")>-1);return r||n}function d(e){if((0,n.sk)()){var t=l(e);return/quickapp/i.test(t)}return p(e)&&window.cmpBridge&&window.cmpBridge.isNewQuickapp()}function f(e){return"undefined"!=typeof document&&-1!==document.cookie.indexOf("alipay_hk")}function h(e){return function(e){return e&&(0,n.sk)()?u(e)&&/miniProgram/i.test(l(e)):u(e)&&("miniprogram"===window.__qqjs_environment||/miniProgram/i.test(l(e)))}(e)?i.Sd.qq:function(e){return/ToutiaoMicroApp/i.test(l(e))}(e)?i.Sd.toutiao:function(e){var t=l(e);return(0,n.sk)()?/swan/i.test(t)||/baidumap_IPHO/i.test(t)||/baiduboxapp/i.test(t):/swan\//.test(t)||/^webswan-/.test(window.name)}(e)?i.Sd.baidu:function(e){var t=l(e);return/AlipayClient/i.test(t)&&/MiniProgram/i.test(t)}(e)?i.Sd.alipay:c(e)?i.Sd.wechat:p(e)?i.Sd.quick:f()?i.Sd.alipay_hk:i.Sd.none}function y(e){var t=h(e);return null!==o?o:o=t===i.Sd.qq?i.Zd.qq:t===i.Sd.toutiao?i.Zd.toutiao:t===i.Sd.baidu?i.Zd.baidu:t===i.Sd.alipay?i.Zd.alipay:t===i.Sd.wechat?i.Zd.wechat:i.Zd.none}function m(){return!!new RegExp("^.*("+["\\+https:\\/\\/developers.google.com\\/\\+\\/web\\/snippet\\/","ad\\smonitoring","adsbot","apex","applebot","archive.org_bot","baiduspider","bingbot","chromeheadless","cloudflare","cloudinary","crawler","curl","discordbot","duckduckbot","embedly","exabot","facebookexternalhit","facebot","flipboard","google","googlebot","gsa-crawler","gurujibot","guzzlehttp","heritrix","ia_archiver","insights","linkedinbot","ltx71","mediapartners","msnbot","odklbot","phantom\\.js","phantomjs","pingdom","pinterest","python","rtlnieuws","skypeuripreview","slackbot","slurp","spbot","telegrambot","test\\scertificate","testing","tiabot","tumblr ","twitterbot","vkshare","web\\sscraper","wget","yandexbot","whatsapp","orangebot","smtbot","qwantify","mj12bot","ahrefsbot","seznambot","panscient.com","duckduckgo-favicons-bot","uptimerobot","semrushbot"].join("|")+").*$").exec(navigator.userAgent.toLowerCase())}function g(){return"undefined"!=typeof document&&"undefined"!=typeof window&&!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},9933:(e,t,r)=>{"use strict";r.d(t,{B:()=>a}),r(2370);var n,i=r(1375),o=(r(4e3),null);!function(e){e.right="right",e.left="left",e.up="up",e.down="down"}(n||(n={}));var a={register:function(e,t,r){void 0===e&&(e="resize"),r?r.addEventListener(e,t):o?o.register(e,t):"Online"!=(0,i.By)().platform&&"H5"!=(0,i.By)().platform&&"Hybrid"!=(0,i.By)().platform||window.addEventListener(e,t)},destroy:function(e,t,r){void 0===e&&(e="resize"),r?r.removeEventListener(e,t):o?o.destroy(e,t):"Online"!=(0,i.By)().platform&&"H5"!=(0,i.By)().platform&&"Hybrid"!=(0,i.By)().platform||window.removeEventListener(e,t)},send:function(e,t){o&&o.send(e,t)}}},4767:(e,t,r)=>{"use strict";r.d(t,{V:()=>a,E:()=>o});var n=null,i=null,o=function(){if(n)return n()},a=function(){if(i)return i()}},9723:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>C});var n=r(3965),i=r(4649),o=r(4e3),a=r(1375),s=r(4145),c=r(449),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=function(e,t){var r={};if(e)r={apiName:[""+e.actionUrl],aliaName:e.aliaName};else{var n=[];t.list.map(function(e,t){n.push(e.actionUrl)}),r={apiName:n,aliaName:t.aliaName}}return r=l({query:"{     TTDCombineBff(id: 1) {      Data  ,ResponseStatus } }"},r),{bffParams:r}},p=function(e){var t={},r=(0,a.N_)();r=r+(r.indexOf("?")>-1?"&":"?")+"operationName="+e.aliaName,e.list.map(function(e,r){t=l({},e.request)});var n=l(l({},e),{list:[],pageId:e.pageId,isNotOpenErrorPage:!!e.isNotOpenErrorPage});return{request:t,requestOtherList:n}},d=function(e){var t,r=(0,a.N_)();r=r+(r.indexOf("?")>-1?"&":"?")+"operationName="+e.bffParams.aliaName;var n=l(l({params:l({head:(0,a.Fs)()},e.request)},e.bffParams),{header:(0,a.Fs)()}),i=e.requestOtherList||null;return i||(i=e),t=l(l({},i),{request:n}),l(l({},t),{actionUrl:r})},f=function(e,t){return!!((0,a.Fs)().isOpenBff&&e&&e.aliaName||t&&t.aliaName)},h=function(e,t){if(e&&e.aliaName){var r=u(e,t);e=d(l(l({},e),r))}else if(t&&t.aliaName){r=u(null,t);var n=p(t);e=d(l(l({},n),r)),t=null}return{request:e,requestList:t}},y=r(4375),m=r(7684),g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},v=[],_={title:"bff ",type:y.d.error,tags:{}},w=function(e,t,r,n){var i=function(e){var t;e.extension||(e.extension=[]);var r=[{name:"crawlerKey",value:n.crawlerKey},{name:"fingerprintKeys",value:n.fingerPrintKey}];return(0,a.Fs)().platform===o.Jv.H5&&r.push({name:"H5",value:"H5"}),(t=e.extension).push.apply(t,r),JSON.parse(JSON.stringify(e.extension))},s=function(e){var t;e.extension||(e.extension=[]);var r=n.crawlerKey;return n.fingerPrintKey,(t=e.extension).push.apply(t,[{name:"crnSecrectKey",value:r},{name:"platformType",value:(0,a.Fs)().OS},{name:"timestamp",value:Date.now().toString()}]),JSON.parse(JSON.stringify(e.extension))},c=(0,a.Fs)().platform;if(r>-1&&t){if(t.list&&t.list[r]){var l=JSON.parse(JSON.stringify(t.list[r].request.head||{})),u=c===o.Jv.RN?s(l):i(l);t.list[r].request.head=g(g({},l),{extension:u})}}else{l=e.request&&e.request.head||{};var p=c===o.Jv.RN?s(l):i(l);e.request.head.extension=p}return[e,t]},b=function(e,t,r,i,o){var a,c,l=o.isNeedCrawlerKey,u=o.index;return!1===l?s.ZP.next(e,t,r,i):Promise.all((a=u,c=function(e){return new Promise(function(t){var r=new n.p({});r.antiCrawlerhandler().then(function(n){t([n,r.getCrawlerKey(),r.getFingerPrintKey(),e])})})},-1===a?(new n.p({}),[c(-1)]):a.map(function(e){return c(e)}))).then(function(n){for(var o,a,c=0;c<n.length;c++){var l=n[c],u=l[0],p=l[1],d=l[2],f=l[3];if(!1===u)return s.ZP.next(e,t,r,i);var h=w(t=o||t,r=a||r,f,{crawlerKey:p,fingerPrintKey:d});o=h[0],a=h[1]}return s.ZP.next(e,o,a,i)}).catch(function(e){})},k=function(e,t,r,n,o,s,c){var l=function(){v.length>0&&(v.forEach(function(e){var t=e.params,r=t.request,n=t.requestList,i=t.isLog;if(f(e.request,e.requestList)){var o=h(r,n);e.func((0,a.Fs)(),o.request,o.requestList,i)}else e.func((0,a.Fs)(),r,n,i)}),v=[])};switch(e){case i.r.useNewWayWithCache:var u=h(n,o);t(r,u.request,u.requestList,s),l();break;case i.r.useOldWayWithCache:t(r,n,o,s),l();break;case i.r.useOldWay:var p=(0,m.Jj)(n,o),d=p.isFinish,y=p.cacheData,g=p.newRequestList;d?n&&n.success?n.success(y):o&&o.success&&o.success(y):(g&&(o=g),b(r,n,o,s,c));break;case i.r.useNewWay:var _=h(n,o);t(r,_.request,_.requestList,s);case i.r.waitingForQconfig:}},C=function(e,t,r){var l;if(!(0,a.sk)()){var u=(l=function(e,t){var r=n.p.getWhiteList(),i=(0,a.Fs)(),s=i.platform,c=i.channel,l=i.app_version,u=i.OS,p=!1,d=-1;if(e&&e.actionUrl&&e.actionUrl.indexOf("16879")>-1||!r||0===r.length||s===o.Jv.Online||c===o.CE.trip||s===o.Jv.RN&&("android"!==u||!(0,n.ge)(l,"8.28.0")))return{isNeedCrawlerKey:p,index:d};var f=function(e){for(var t=e.actionUrl.replace("/json",""),n=!1,i=0,o=r.length;i<o;i++){var a=r[i];if(s===a.platform&&c===a.channel&&t.indexOf(a.apiName)>-1){n=!0;break}}return n};if(null===e)for(var h=t.list,y=0,m=h.length;y<m;y++){var g;g=f(h[y]),p=p||g,!0===g&&(-1!==d?d.push(y):d=[y])}else p=f(e);return{isNeedCrawlerKey:p,index:d}}(e,t),l.isNeedCrawlerKey),p=l.index,d=(0,a.Fs)();if(d.pageId=e&&e.pageId||t&&t.pageId||c.S1.pageId,d.netState=(0,a.gx)(),d.isNativeMini){var f=function(e,t){if(t||!e)return!1;for(var r=0;r<e.list.length;r++)if(e.list[r].actionUrl.indexOf("getProductShelf")>-1)return r;return!1}(t,r);if(!1===f)return s.ZP.next(d,e,t,r);(void 0).then(function(n){return n&&t.list[f].request.head.extension.push({name:"crawlerKey",value:n}),s.ZP.next(d,e,t,r)}).catch(function(n){return s.ZP.next(d,e,t,r)})}var h=function(e,t,r,n){s.ZP.next(e,t,r,n)};return new Promise(function(n,o){!function(e,t){return!(e&&(-1!==e.actionUrl.indexOf("16879")||-1!==e.actionUrl.indexOf("17073")))&&(e&&e.aliaName||t&&t.aliaName)}(e,t)?n(i.r.useOldWay):void 0===(0,a.Fs)().isOpenBff?function(e,t){return e?!0===e.isFirstScreen:!!t&&t.list.findIndex(function(e){return!0===e.isFirstScreen})>-1}(e,t)?function(e,t){s.ZP.next(e,{request:{KeyList:["ottd_getway_config"]},actionUrl:"12446/QConfig",success:function(e){var r=e&&e.Data&&e.Data.AppSettingList;if(r&&r.length>0){var n=r[0].Value||"";n=JSON.parse(n)||{},t(!!n&&"on"===n.bffSwitch)}else t(!1)},fail:function(){(0,c.cM)(g(g({},_),{title:"bff "})),t(!1)}},null,!1)}(d,function(e){(0,a.Fs)().isOpenBff=e,n(!0===e?i.r.useNewWayWithCache:i.r.useOldWayWithCache)}):(v.push({func:h,params:{Header:d,request:e,requestList:t,isLog:r}}),n(i.r.waitingForQconfig)):!0===(0,a.Fs)().isOpenBff?n(i.r.useNewWay):n(i.r.useOldWay)}).then(function(n){k(n,h,d,e,t,r,{isNeedCrawlerKey:u,index:p})}).catch(function(n){var o=g(g({},_),{title:"bff ",tags:{stack:n&&n.stack,message:n}});(0,c.cM)(o),k(i.r.useOldWayWithCache,h,d,e,t,r,{isNeedCrawlerKey:u,index:p})})}}},4649:(e,t,r)=>{"use strict";var n,i;r.d(t,{o:()=>n,r:()=>i}),function(e){e.pending="pending",e.failed="failed",e.success="success"}(n||(n={})),function(e){e.useOldWay="useOldWay",e.waitingForQconfig="waitingForQconfig",e.useNewWay="useNewWay",e.useNewWayWithCache="useNewWayWithCache",e.useOldWayWithCache="useOldWayWithCache"}(i||(i={}))},4145:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>ce,_5:()=>Q});var n=r(3804),i=r.n(n),o=r(4e3),a=r(449),s=r(4649),c=r(4375),l=r(1375),u=null,p=r(4617),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},f=function(){var e=p.Z;(0,l.By)().platform===o.Jv.RN&&(e=u);var t={bizType:"ttd",content:"",isShowCancel:!1,needMask:!0,isCtrip:!1};return(0,l.By)().channel==o.CE.ctrip&&Object.assign(t,{content:" ",isCtrip:!0}),{Loading:e,defaultProps:t}}(),h=f.Loading,y=f.defaultProps;const m=function(e){if((0,l.By)().channel!=o.CE.trip){var t=d({defaultProps:y},e||{});h&&h.show(t)}},g=function(){(0,l.By)().channel!=o.CE.trip&&h&&h.hide()};var v,_=r(8862),w=r(7009),b="errorpage",k=r(4767),C=r(1501);!function(e){e.loadError="loadError",e.networkError="networkError",e.noSearchResult="noSearchResult"}(v||(v={}));var I,O=r(2397),S=(I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},I(e,t)},function(e,t){function r(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});const E=function(e){function t(t){var r=e.call(this,t)||this;return r.getImgSrc=function(){var e=r.props.errorType,t="https://webresource.c-ctrip.com/ares2/activity/ottd-pic-service/1.0.27/default/";return r.isTrip?r.getTripImgSrc(e,t+"trip/"):r.getCtripImgSrc(e,t+"ctrip/")},r.show=function(){r.setState({visible:!0})},r.hide=function(){r.setState({visible:!1})},t.keys&&(O.LN[t.keys]=r),r.isTrip=(0,l.By)().channel===o.CE.trip,r.state={visible:!1},r}return S(t,e),t.prototype.componentWillReceiveProps=function(e){var t=e.visible;e.visible!==this.props.visible&&this.setState({visible:t})},t.prototype.getCtripImgSrc=function(e,t){var r="";switch(e){case v.noSearchResult:r="https://pic.c-ctrip.com/platform/h5/component/empty-state/empty-result.png";break;case v.loadError:r=t+"loaderror.png";break;case v.networkError:r=t+"networkerror.png";break;default:r=t+"loaderror.png"}return r},t.prototype.getTripImgSrc=function(e,t){var r="";switch(e){case v.noSearchResult:r=t+"searchNoResults.png";break;case v.loadError:r=t+"failtoload.png";break;case v.networkError:r=t+"nonetwork.png";break;default:r=t+"failtoload.png"}return r},t.prototype.tipsTxt=function(e){var t=this.props.tipsTxt;if(t)return t;var r=this.IBUShark("key.v.page.error.loaderror"," ， ");switch(e){case v.loadError:r=this.IBUShark("key.v.page.error.loaderror"," ， ");break;case v.networkError:r=this.IBUShark("key.v.page.error.networkisawful"," ， ")}return r},t}(C.Z);var P=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.fclass,r=e.errorType,n=e.onButtonClick,o=e.buttonTxt,a=e.visible,s=this.IBUShark("key.v.page.error.retry"," "),c=this.getImgSrc(),l=this.tipsTxt(r||v.loadError);return(this.state.visible||!!a)&&i().createElement("div",{className:"error_wrap "+t},i().createElement("div",{className:"container"},i().createElement("img",{className:"error_img",src:c}),i().createElement("div",{className:"error_text_box"},l),n&&i().createElement("div",{className:"refresh_btn",onClick:function(){n()}},o||s)))},t}(E);const T=x;var N=null;const A=function(e){setTimeout(function(){N()},0),e.child=T,e.props||(e.props=w.Z.get(b).assistComponent.props);var t=e.props.name||b;e.props.visible?(w.Z.get(t).assistComponent.props.visible=!1,w.Z.get(t).assistComponent.props.hideInstant=!0,w.Z.change(t),setTimeout(function(){e.props.visible=!0,w.Z.change(t,e)},0)):(e.props.visible=!0,w.Z.change(t,e))},R=function(e,t){w.Z.get(t||b).assistComponent.props.visible=!1,w.Z.get(t||b).assistComponent.props.hideInstant=!!e,w.Z.change(t||b),(0,k.V)()};var D=function(){function e(e,t,r){this.fn=e,this.id=t,this.status=r}return e.prototype.setSuccess=function(){this.status=s.o.success},e.prototype.setFailed=function(){this.status=s.o.failed},e.prototype.setPending=function(){this.status=s.o.pending},e}(),L=function(){function e(){this.isShowErrorPage=!1,this.stack=[]}return e.prototype.clear=function(){this.stack=[]},e.prototype.deleteByIndex=function(e){this.stack.splice(e,1)},e.prototype.deleteById=function(e){var t=this.stack.findIndex(function(t){return t.id===e});this.stack[t]instanceof D&&(this.stack[t].setSuccess(),this.deleteByIndex(t))},e.prototype.findItemById=function(e){var t=this.stack.findIndex(function(t){return t.id===e});return this.stack[t]||new D(function(){},"any",s.o.failed)},e.prototype.deleteAll=function(){this.stack=[]},e.prototype.append=function(e){e instanceof D&&this.stack.push(e)},e.prototype.dispatch=function(){var e=this;this.stack.forEach(function(t,r){t.status===s.o.failed?t.fn():t.status===s.o.success&&e.deleteByIndex(r)})},e.prototype.setIsShowErrorPage=function(e){this.isShowErrorPage=e},e.prototype.showErrorPage=function(e){this.isShowErrorPage||(this.setIsShowErrorPage(!0),e())},e}(),M=r(7684),j=r(85),B=null,U=function(){function e(){this.traceId=null}return e.getInstacne=function(){return e.singleInstance||(e.singleInstance=new e),e.singleInstance},e.prototype.getTraceId=function(){return(0,l.sk)()||this.traceId||this.getTraceIdByUrl()?this.traceId:this.generateTraceid()},e.prototype.generateTraceid=function(){return this.traceId=Date.now()+"_"+Math.floor(1e4*Math.random()),this.traceId},e.prototype.getTraceIdByUrl=function(){return(0,l.By)().platform===o.Jv.RN?this.traceId=this.getRnTraceId():this.traceId=this.getWebTraceId(),this.traceId},e.prototype.getRnTraceId=function(){var e=a.S1.url||"";return(e=e.match(/bookingtransactionid=[\d_]+/)||[""])[0].replace("bookingtransactionid=","")},e.prototype.getWebTraceId=function(){if("undefined"!=typeof window){var e=void 0;if(window.smart&&window.smart.bookingtransactionid&&(e=window.smart.bookingtransactionid),!e){var t=(0,l.HQ)().query;e=(void 0===t?{}:t).bookingtransactionid}return e}return""},e.singleInstance=null,e}(),H=r(4135),F=r(3354),K=function(){return K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},K.apply(this,arguments)},W=new F.Z,q=r(3834),J=r(3295);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var G,V=function(){return V=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},V.apply(this,arguments)},z=U.getInstacne(),Y={},Q=function(e){Y=e},Z=function(e){var t=e&&e.data;return V(V({rawData:t},e),t)},X=0,ee=0,te=new L,re=(0,l.By)().channel===o.CE.ctrip,ne=["-1009","-11111","90002","-1","-100","-9005"],ie=function(e,t){var r,n=!1;if(!e||!e.length||e.length!==t)return n;for(var i=0;i<e.length;i++){if(!ne.includes(null===(r=e[i])||void 0===r?void 0:r.code)&&""!==e[i]){n=!1;break}n=!0}return n},oe=(0,q.Ds)(function(){J.Z.show({content:(0,_.Z)("key.v.page.error.networkisawful"," "),btnCallBack:[function(){}],onClose:function(){},btnOK:[(0,_.Z)("key.v.page.productdetail.alertbtn"," ")]})},2e3),ae=function(e){throw oe(),(0,a.fU)({key:"ttd_network_error",id:231304,responseList:e},"devtrace"),new Error((0,_.Z)("key.v.page.error.networkisawful"," "))},se=function(){function e(){this.dic={}}return e.next=function(t,r,n,i){return this.instance||(this.instance=new e),e.detectLogRequest(t,r,n,i)},e.isUseNewControlErrorPage=function(e){return re&&e&&e.isCtripOpen},e.detectLogRequest=function(t,r,n,i){return null!==r&&e.isLogRequest(r)?this.instance.next(t,r,n,i):e.handleRequestCache(t,r,n,i)},e.isLogRequest=function(e){return-1!==e.actionUrl.indexOf("/16879/")||-1!==e.actionUrl.indexOf("/17073/")},e.handleRequestCache=function(t,r,n,i){var o=this,a=X++,c=function(){return o.instance.next(V(V({},t),{randomId:a}),r,n,i)},l=e.cacheRequest[a]=function(){c()};if(e.isUseNewControlErrorPage(n)){var u=new D(l,a,s.o.pending);te.append(u)}c()},e.attachXTraceId=function(e){void 0===e&&(e="");var t=(0,l.Fs)().cid+"-"+Date.now()+"-"+Math.floor(1e5*Math.random()),r=e.indexOf("?")>-1,n=e.endsWith("?"),i=e.endsWith("&");try{window.__bfi||(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"traceid_for_gateway",value:1,tag:{traceIDForGateway:t}}])}catch(e){}return n||i?e+"x-traceID="+t:r?e+"&x-traceID="+t:r?e:e+"?x-traceID="+t},e.prototype.next=function(e,t,r,n){var i=this,o=!1;null!=t?(t.logGroupIndex=ee++,t.loading&&(o=!0),this.nextPair(e,t,n,r)):(r.logGroupIndex=ee++,r.loading&&(o=!0),r.count=0,r.failCount=0,r.resonse=[],r.list.map(function(t,o){i.nextPair(e,V({logGroupIndex:r.logGroupIndex,pageId:r.pageId,isNotOpenErrorPage:!!r.isNotOpenErrorPage,count:o},t),n,r)})),o&&(G&&clearTimeout(G),G=setTimeout(function(){m()},100))},e.prototype.nextPair=function(e,t,r,n){var i=t.actionUrl;t.apiUrl=i,i=i.indexOf("http://")>-1||i.indexOf("https://")>-1?i:(0,l.Db)(i)+i,Object.assign(t,{actionUrl:i}),this.dic[t.actionUrl]&&(clearTimeout(this.dic[t.actionUrl][1]),this.dic[t.actionUrl][0].abort());var o=this.send(e,t,r,n);if(!0!==r){var s=(0,a.WY)(t);this.dic[t.actionUrl]=[o,this.setOverTime(t,e.randomId,n),s]}},e.prototype.setOverTime=function(e,t,r){var n=this;return setTimeout(function(){(e.isOpen||r&&r.isOpen)&&(te.findItemById(t).setFailed(),te.showErrorPage(n.handleErrorPage.bind(n,t,r.isCtripOpen))),n.dic[e.actionUrl][0].abort()},15e3)},e.prototype.onFinish=function(e,t){var r=t?t.loading:e.loading;if(r&&g(),r&&(g(),clearTimeout(G)),this.dic[e.actionUrl]){for(var n in this.dic)if(this.dic.hasOwnProperty(n)){var i=this.dic[n];clearTimeout(i[1])}delete this.dic[e.actionUrl]}},e.prototype.onSuccess=function(t,r,n,i,o){(0,l.Fs)().isNativeMini&&(t=Z(t));var s={};if(s=null==n?r&&r.getTagFunction?r.getTagFunction(t):{}:n&&n.getTagFunction?n.getTagFunction(t):{},!0!==i&&this.dic[r.actionUrl]){var u={token:this.dic[r.actionUrl][2],response:t,type:c.d.info};s.resErrCode&&(u.errorCode=-1,u.message=s.errmsg),a.v4.push((0,a.p)(u,s,{isComponent:!0}),r.logGroupIndex)}if(null==n){if((0,M.vt)(r,n,t),r.aliaName&&!(0,l.Fs)().isOpenBff){var p=Y[r.aliaName],d={ResponseStatus:t.ResponseStatus,data:p([V({},t)])};r.success&&r.success(d)}else r.success&&r.success(t);!i&&a.v4&&a.v4.trigger(r.logGroupIndex)}else if(n.count++,n.resonse[r.count]=t,n.count===n.list.length){0==n.failCount&&e.isUseNewControlErrorPage(n)&&te.deleteById(o);var f=(0,M.vt)(r,n,t);f&&(n=f),n.aliaName&&!(0,l.Fs)().isOpenBff?(p=Y[n.aliaName],d={ResponseStatus:t.ResponseStatus,data:p(V({},n.resonse))},n.success&&n.success(d)):n.success&&n.success(n.resonse),!i&&a.v4&&a.v4.trigger(n.logGroupIndex)}this.onFinish(r,n)},e.prototype.handleErrorPage=function(t,r){re&&!r||A({props:{errorType:"networkError",buttonShowFlag:!0,fstyle:{container:{flex:1,backgroundColor:"#FFF",top:0,right:0,left:0,zIndex:100,position:"absolute",height:"100%"}},onButtonClick:function(){re&&r?(te.dispatch(),te.setIsShowErrorPage(!1)):e.cacheRequest[t](),R()}}})},e.prototype.onFail=function(e,t,r,n,i,s){if((0,l.Fs)().isNativeMini&&(t=Z(t)),n){if(n.count++,n.failCount++,n.resonse[r.count]=[e,t],n.count===n.list.length){if((0,l.Fs)().platform===o.Jv.RN&&ie(n.errorList,n.list.length)&&!n.isHideErrorConfirm)return void ae(n.errorList);if("0"==n.resonse[0][0])return;n.success&&n.success(n.resonse)}}else{if((0,l.Fs)().platform===o.Jv.RN&&ie(r.errorList,1)&&!r.isHideErrorConfirm)return void ae(r.errorList);r.fail&&r.fail(e,t)}!0!==i&&this.dic[r.actionUrl]&&(0,a.p)({token:this.dic[r.actionUrl][2],response:t,type:c.d.error,errorCode:e},{},{isComponent:!0}),this.onFinish(r,n)},e.prototype.onMiniSend=function(e,t,n,a){var s=this,c=e.isOpenBff;t.actionUrl.includes("getCrossRecommendProduct")&&(((t.request||{}).head||{}).syscode="09"),t.actionUrl.indexOf("bff/qconfig")>-1?t.actionUrl="https://m.ctrip.com/restapi/ttd/bff/qconfig":t.actionUrl=t.actionUrl.replace("://m.ctrip.com","://sec-m.ctrip.com"),n&&(e.platform=o.Jv.MINI);var l={url:t.actionUrl,data:t.request,header:e,method:t.method||"POST",dataType:"json",success:function(e){try{var r=e,i=r;c&&i.extensions&&i.extensions.SoaResponseStatus&&(r={ResponseStatus:i.extensions.SoaResponseStatus.ResponseStatus,data:i.data.TTDCombineBff.Data}),r.ResponseStatus&&"Error"===r.ResponseStatus.Ack?s.onFail(r.ResponseStatus.Errors[0].ErrorCode,r,t,a,n):s.onSuccess(r,t,a,n)}catch(e){}},fail:function(e){s.onFail(e.status.toString(),null,t,a,n)}};n&&(l.data={body:l.data,head:e});var u=r.g&&r.g.cwx&&r.g.cwx.cwx;return u&&(l.header.cookie+="cticket="+u.user.auth+";"),i().api.request(l)},e.prototype.send=function(t,r,n,i){var a=this;if(!n&&r&&r.request){r.request.head||(r.request.head={});var s=r.request.head.extension||[],c=s.filter(function(e){return"bookingTransactionId"===e.name});c&&0===c.length&&(s.push({name:"bookingTransactionId",value:z.getTraceId()}),r.request.head.extension=s)}if((0,H.ud)()===o.Sd.alipay&&(n&&function(e){var t=e.request||[];return!!(t.filter&&(t=t.filter(function(e){return!0===e.needCrypt})).length>0)}(r)&&(r.needCrypt=!0),r.needCrypt)){var u=function(e,t,r,n,i){var o=t.request,a=t.actionUrl;r&&(o={body:o});var s=W.fetch(a,{needEncrypt:!0,body:K({head:e},o)});return s.then(function(e){e.ResponseStatus&&"Error"===e.ResponseStatus.Ack?i.onFail(e.ResponseStatus.Errors[0].ErrorCode,e,t,n,r):i.onSuccess(e,t,n,r)}).catch(function(e){var o="";"string"==typeof e?o=e:e&&e.message&&(o=e.message),i.onFail(o,null,t,n,r)}),{abort:function(){s.fetchAbort()}}}(t,r,n,i,this);return u}if((0,l.Fs)().platform===o.Jv.RN&&!n&&-1===r.actionUrl.indexOf("getcurrentcity"))return B(t,r,n,i,this);if(!(0,l.Fs)().isNativeMini){n||(r.actionUrl=e.attachXTraceId(r.actionUrl));var p=new XMLHttpRequest,d=t.isOpenBff,f={};return p.open(r.method||"POST",r.actionUrl,!0),p.setRequestHeader("Content-Type","application/json;charset=UTF-8"),p.setRequestHeader("Accept","application/json"),p.setRequestHeader("locale",(0,l.Fs)().language||""),p.setRequestHeader("currency",(0,l.Fs)().currency||""),p.withCredentials=!0,r.requestHeader&&"object"==$(r.requestHeader)&&Object.keys(r.requestHeader).forEach(function(e){p.setRequestHeader(e,r.requestHeader[e])}),f=e.isLogRequest(r)?{body:r.request}:r.request,"GET"===r.method?p.send():p.send(JSON.stringify(V({head:t},f))),p.onerror=function(){e.isUseNewControlErrorPage(i)?(te.findItemById(t.randomId).setFailed(),te.showErrorPage(a.handleErrorPage.bind(a,t.randomId,i.isCtripOpen))):!r.isNotOpenErrorPage&&!e.isLogRequest(r)&&a.handleErrorPage(t.randomId)},p.onreadystatechange=function(){if(4===p.readyState)if(200===p.status)try{!re&&p.responseText&&(r.checkDomainRes=(0,j.E)(r.actionUrl,p.responseText));var e=JSON.parse(p.responseText),o=e;d&&o.extensions&&o.extensions.SoaResponseStatus&&(e={ResponseStatus:o.extensions.SoaResponseStatus.ResponseStatus,data:o.data.TTDCombineBff.Data}),e.ResponseStatus&&"Error"===e.ResponseStatus.Ack?a.onFail(e.ResponseStatus.Errors[0].ErrorCode,e,r,i,n,t.randomId):a.onSuccess(e,r,i,n,t.randomId)}catch(e){}else a.onFail(p.status.toString(),{msg:p.responseText},r,i,n,t.randomId)},p}this.onMiniSend(t,r,n,i)},e.cacheRequest={},e}();const ce=se},7684:(e,t,r)=>{"use strict";r.d(t,{vt:()=>l,Jj:()=>p});var n=r(7525),i=r(4375),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},a={},s=function(e,t){a[e]=JSON.parse(JSON.stringify(t))},c=function(e,t){if(e){var r=a[e]?a[e]:null;return t&&r&&(0,n.yZ)(o(o({},t),{startTime:Date.now()}),{token:"",type:i.d.info,response:r,message:""+e}),JSON.parse(JSON.stringify(r))}return a},l=function(e,t,r){if(null==t){if(e.cacheKey&&u(e.cacheKey)){var n=u(e.cacheKey);s(n,r)}return r}var i=t.resonse||[];(t.list||[]).map(function(e,t){e.cacheKey&&i[t]&&s(e.cacheKey,i[t])});var a=i;if(t.partCacheData&&t.partCacheData.length){var c=t.partCacheData,l=0,p=0;c.map(function(e){if(!e){var t=a[p];p++,c[l]=t}l++}),t.resonse=c}return o({},t)},u=function(e){if("string"==typeof e)return e;if("function"==typeof e){var t=e();if("string"==typeof e)return t}return null},p=function(e,t){var r,n=!1,i=null,a=[],s=0;if(null==t)return e.cacheKey&&u(e.cacheKey)&&(n=!!(i=c(u(e.cacheKey),e))),{isFinish:n,cachedata:i};var l=null,p=void 0===(r=t.list)?[]:r;return p&&p.length&&(l=new Array(p.length).fill(null),p.map(function(e,t){e.cacheKey&&c(e.cacheKey)?(l[t]=c(e.cacheKey,e),s++):a.push(o({},e))})),{isFinish:!!s&&t.length===s,newRequestList:s?o(o({},t),{list:a,partCacheData:l}):t,cacheData:s&&t.length===s?l:null}}},449:(e,t,r)=>{"use strict";r.d(t,{S1:()=>_,cM:()=>k,bh:()=>I,WY:()=>w,p:()=>b,v4:()=>p,fU:()=>C});var n=r(4375),i=r(7525),o=r(9723),a=r(1375),s=r(4e3),c=[],l=function(e){return(0,a.Fs)().platform!==s.Jv.H5&&(0,a.Fs)().platform!==s.Jv.Hybrid&&(0,a.Fs)().platform!==s.Jv.Online||(0,a.Fs)().enviroment!==s.aQ.PROD||(0,a.Fs)().channel===s.CE.ctrip&&(e="https://sec-m.ctrip.com/restapi/soa2/16879/sendlog"),e},u=function(){function e(){this.logSendMap=new Map,this.currentLogIndex=0,this.logSendMap.set(this.currentLogIndex,[])}return e.prototype.push=function(e,t){var r=this.logSendMap.get(t);r||(r=[]),r.push(e),this.logSendMap.set(t,r)},e.prototype.sendlog=function(e,t){var r=this,n=this.logSendMap.get(e);!n||n&&n.length<=0?this.logSendMap.delete(e):(0,o.dJ)({request:n,actionUrl:l("16879/sendlog"),success:function(t){r.logSendMap.delete(e)},fail:function(){t?r.logSendMap.delete(e):r.sendlog(e,1)}},null,!0)},e.prototype.trigger=function(e){this.sendlog(e)},e}(),p=new u,d=function(e,t,r){return function(){r&&e&&e.tags?e.tags.isCacheLog=!0:r&&t&&t.tags&&(t.tags.isCacheLog=!0);var i=e||t;i.type=i.type||n.d.info,~~i.pageId||(i.pageId=_.pageId);var a=l(_.sendURL);(0,o.dJ)({request:i,actionUrl:a,success:function(e){}},null,!0)}},f=null;const h=function(e,t){var r,n=e||t;n&&n.tags&&n.tags.message&&(n.tags.message=(r=n.tags.message)?r instanceof Error?JSON.stringify({message:r.message,stack:r.stack}):r instanceof Object?JSON.stringify(r):void 0:""),function(e,t){if(_.sendURL){var r=d(e,t),n=(0,a.Fs)();if(n.enviroment===s.aQ.PROD&&n.platform!==s.Jv.RN&&!n.vid)return void c.push(r);clearTimeout(f),f=null,r(),function(e){e.length>0&&(e.forEach(function(e){"function"==typeof e&&e()}),e.length=0)}(c)}else r=d(e,t,!0),c.push(r),f||(f=setTimeout(function(){c.length=0,clearTimeout(f),f=null},2e3))}(e,t)};var y=function(e){k({title:" ",time:Math.ceil(e),type:n.d.info,tags:{demeter:"domReady"}})};if("undefined"!=typeof document){var m=document.addEventListener?{type:"addEventListener",ready:"DOMContentLoaded"}:{type:"attachEvent",ready:"onreadystatechange"};"undefined"!=typeof performance?"complete"===document.readyState||"interactive"===document.readyState?setTimeout(function(){y(performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart)}):document[m.type](m.ready,function(){y(performance.now())},!1):k({title:"performance ",content:" ",type:n.d.warning}),window[m.type]("error",function(e){e&&e.message&&k({title:" ",type:n.d.error,tags:{message:e||" ",demeter:"jsError"}})},!0),window[m.type]("unhandledrejection",function(e){k({title:" ",type:n.d.error,tags:{message:(e||window.event)&&(e||window.event).reason||" ",demeter:"jsError"}})})}var g=r(9858),v=r(4517),_={sendPVFlag:!1},w=function(e){return(0,i.WY)(e)},b=function(e,t,r){return(0,i.p)(e,t,r)},k=function(e,t){e&&(e.timeLine=(new Date).getTime()),t&&(t.timeLine=(new Date).getTime()),_.sendPVFlag||(h({title:"PV",type:n.d.info,timeLine:(new Date).getTime(),tags:{demeter:"pv"}}),_.sendPVFlag=!0),h(e,t)},C=function(e,t){(0,g.J)(e,t)},I=v.Z},4375:(e,t,r)=>{"use strict";var n;r.d(t,{d:()=>n}),function(e){e.info="info",e.warning="warning",e.error="error",e.fatal="fatal"}(n||(n={}))},7525:(e,t,r)=>{"use strict";r.d(t,{WY:()=>u,p:()=>p,yZ:()=>d});var n=r(4375),i=r(449),o=r(1375),a=r(4e3),s={},c=0,l=Date.now(),u=function(e){if((0,o.By)().platform===a.Jv.Node)return"";e.startTime=Date.now();var t=Math.ceil(1e5*Math.random()).toString();return s[t]=e,t},p=function(e,t,r){if((0,o.By)().platform!==a.Jv.Node){var i=s[e.token];if(delete s[e.token],void 0===i)return{title:"network_log ",content:" ",type:n.d.error};var c=e.req;return delete e.req,null==c&&!0===i.isFirstScreen&&y(i,e),f(i,e,t,r)}},d=function(e,t){f(e,t,null,{title:" _ "})},f=function(e,t,r,o){var a=o||{},s=a.isComponent,c=a.title,l=void 0===c?"":c;if(!(e.actionUrl.indexOf("12530/json/crawlerScripting")>-1)){var u=Object.assign({demeter:"networkLog"},r||{}),p={title:l||" ",actionUrl:e.actionUrl,apiUrl:e.apiUrl,checkDomainRes:!1!==e.checkDomainRes,pageId:e.pageId||i.S1.pageId,errorCode:t.errorCode,message:t.message,request:JSON.stringify(e.request||{}),response:JSON.stringify(t.response||{}),type:null!=t.errorCode?n.d.error:n.d.info,time:Math.ceil(Date.now()-e.startTime),tags:u};return e.needCrypt&&(p.needCrypt=!0),s||(0,i.cM)(p),p}},h=function(e){return setTimeout(function(){(0,i.cM)({title:" ",time:e,type:n.d.info,tags:{demeter:"firstScreen"}})},1e3)},y=function(e,t){var r=(0,o.By)();clearTimeout(c),r.platform!==a.Jv.RN?"undefined"!=typeof performance?c=h(Math.ceil(performance.now())):(0,i.cM)({title:"performance ",content:" ",type:n.d.warning}):c=h(Math.ceil(Date.now()-e.startTime||l))}},9858:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(1375),i=null,o=r(8531),a=r(7956),s=r.n(a),c=function(e,t){var r;if(void 0===t&&(t="tracelog"),(0,n.Fs)().isNativeMini)(0,(0,o.W)().ubt)(e.key,e);else if(e){if(delete e.cookie,null!=i)return i(e,t);if(!(0,n.sk)()){if("pv"==t)return;var c=(r=function(e){return/-\d+|\d+-|_\d+|\d+_/.test(e.key)?["vac_logcode_change_to_trace_key",JSON.stringify({event_value:e.key||e,event_bu:"act",data:JSON.stringify(e)})]:[e.key,JSON.stringify(e)]}(e),r[0]),l=r[1];if("__devtracelog"===t){try{s().send({type:a.UBT_TYPE.DEV_TRACE,key:c,data:l},window.__bfi_pvId)}catch(e){}return}try{s().send({type:a.UBT_TYPE.TRACE,key:c,data:l},window.__bfi_pvId)}catch(e){}}}}},4517:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={ver:"2025-03-04 21:26:23",getVer:function(){return this.ver},setVer:function(e){return this.ver||(this.ver=e),this.ver}}},3706:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={AUD:2,BRL:2,CAD:2,CHF:2,CNY:2,EUR:2,GBP:2,HKD:2,IDR:0,INR:2,JPY:0,KRW:0,MYR:2,NZD:2,PHP:2,PLN:2,SGD:2,RUB:2,TRY:2,THB:2,USD:2,TWD:0,VND:0,SEK:0,BHD:3,ILS:2,JOD:3,KWD:3,OMR:3,QAR:2}},85:(e,t,r)=>{"use strict";r.d(t,{N:()=>p,E:()=>u});var n=r(449),i=r(3834),o=r(4e3),a=(0,r(1375).By)().channel===o.CE.ctrip,s={"webresource.english.c-ctrip.com":"webresource.tripcdn.com","pic.english.c-ctrip.com":"pic.tripcdn.com","dimg01.c-ctrip.com":"ak-d.tripcdn.com","dimg02.c-ctrip.com":"ak-d.tripcdn.com","dimg03.c-ctrip.com":"ak-d.tripcdn.com","dimg04.c-ctrip.com":"ak-d.tripcdn.com","dimg05.c-ctrip.com":"ak-d.tripcdn.com","dimg06.c-ctrip.com":"ak-d.tripcdn.com","dimg07.c-ctrip.com":"ak-d.tripcdn.com","dimg08.c-ctrip.com":"ak-d.tripcdn.com","dimg09.c-ctrip.com":"ak-d.tripcdn.com","dimg10.c-ctrip.com":"ak-d.tripcdn.com","dimg11.c-ctrip.com":"ak-d.tripcdn.com","dimg12.c-ctrip.com":"ak-d.tripcdn.com","dimg13.c-ctrip.com":"ak-d.tripcdn.com","dimg14.c-ctrip.com":"ak-d.tripcdn.com","dimg15.c-ctrip.com":"ak-d.tripcdn.com","dimg16.c-ctrip.com":"ak-d.tripcdn.com","dimg17.c-ctrip.com":"ak-d.tripcdn.com","dimg18.c-ctrip.com":"ak-d.tripcdn.com","dimg19.c-ctrip.com":"ak-d.tripcdn.com","dimg20.c-ctrip.com":"ak-d.tripcdn.com","images4.c-ctrip.com":"ak-d.tripcdn.com","images5.c-ctrip.com":"ak-d.tripcdn.com","images6.c-ctrip.com":"ak-d.tripcdn.com","images7.c-ctrip.com":"ak-d.tripcdn.com","images8.c-ctrip.com":"ak-d.tripcdn.com","image.kztpms.com":"ak-d.tripcdn.com","s.c-ctrip.com":"ubt.tripcdn.com"},c=new RegExp(/\/\/([\.\w-]+ctrip\.com)/g),l=new RegExp(/ottd-pic-service\/([0-9\.]+)\//),u=function(e,t){return!c.test(t)},p=function(e){return void 0===e&&(e=""),a?e:(l.test(e)&&(d.add(e),e=e.replace(/ottd-pic-service\/([0-9\.]+)\//,"ottd-pic-service/1.0.35/").replace("webresource.c-ctrip.com","webresource.tripcdn.com").replace("pic.c-ctrip.com","pic.tripcdn.com")),e=e.replace(/\/\/([\.\w-]+)\//g,function(t,r){return r?s[r]?(d.add(e),h(),"//"+s[r]+"/"):r.indexOf("ctrip")>-1?(f.add(e),h(),t):t:t}))},d=new Set,f=new Set,h=(0,i.Ds)(function(){d.size>10&&(0,n.cM)({title:"Trip ",type:"warning",tags:{message:{msg:Array.from(d)}}}),d=new Set,f.size>10&&(0,n.cM)({title:"Trip ",type:"error",tags:{message:{msg:Array.from(f)}}}),f=new Set},3e3)},8531:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n={isNativeMini:!1,user:{auth:!0},component:{calendar:function(e,t){}},createAntiSpiderRequest:null},i={},o=function(){if(n&&!1===n.isNativeMini)return{isNativeMini:!1};var e="prd";try{e=i.env.toLowerCase()}catch(e){}var t=n.getCurrentPage();return{isNativeMini:!0,cid:n.clientID,vid:i.vid,union:n.mkt.getUnion(),url:i.url,userAgent:i.userAgent,cwx_navigateBackMiniProgram:n.cwx_navigateBackMiniProgram,cwx_navigateToMiniProgram:n.cwx_navigateToMiniProgram,pageId:t&&(t.pageid||t.pageId)||"",ubt:t&&t.ubtTrace&&t.ubtTrace,locate:n.locate,navigateTo:n.navigateTo,component:n.component,auth:n.user.auth,createAntiSpiderRequest:n.createAntiSpiderRequest,env:e}}},810:(e,t,r)=>{"use strict";r.d(t,{DY:()=>n});var n={},i=r(1375),o=r(4e3);(0,i.By)().channel,o.CE.trip},5230:(e,t,r)=>{"use strict";r.d(t,{t:()=>n}),r(1375);var n=function(e,t){void 0===t&&(t="-");var r=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return i(e,t)+" "+(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)},i=function(e,t){var r,n,i;if(void 0===t&&(t="-"),"string"==typeof e){var o=e.split("-");r=parseInt(o[0],10),n=parseInt(o[1],10),i=parseInt(o[2],10)}else{var a=new Date(e);r=a.getFullYear(),n=a.getMonth()+1,i=a.getDate()}return r+t+(n<10?"0"+n:n)+t+(i<10?"0"+i:i)}},3834:(e,t,r)=>{"use strict";function n(e,t){var r;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;clearTimeout(r),r=setTimeout(function(){e.apply(o,n)},t)}}r.d(t,{Ds:()=>n})},8862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(7376),i=r.n(n),o=r(1375),a=r(4e3),s=null,c=function(e,t,r,n){return void 0===e&&(e=""),(e=e.split("")).splice(t,r,n),e=e.join("")},l=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]),t=t||[];for(var r=0;r<t.length;r++){var n=e.indexOf("$("+r+")");if(n>-1)e=c(e,n,3+r.toString().length,t[r]);else{var i=e.indexOf("%"+(r+1)+"$s");i>-1&&(e=c(e,i,3+(r+1).toString().length,t[r]))}}return e},u={},p=r(4713);const d=function(e,t,r,n,c){if((0,o.By)(c).channel===a.CE.trip&&c)return c.getShark?c.getShark(e,t,r,n):c.shark.get(e);if(u&&u[e])return u[e];var d=(0,o.By)(c),f=d.channel,h=d.platform;if(f===a.CE.ctrip)return t;if(s)return s(e,r,n)||t||e;var y=void 0,m=void 0;if(h!==a.Jv.Node&&!(0,o.sk)()){if("undefined"!=typeof window?window.smart&&window.smart.i18?(y=window.smart.i18,window.i18n_37006&&(m=new Proxy({},{get:function(e,t,r){return i()(t,{appID:37006})}}))):h===a.Jv.H5?window.i18n_37006?y=new Proxy({},{get:function(e,t,r){return i()(t,{appID:37006})}}):window.i18n_100017626&&(y=new Proxy({},{get:function(e,t,r){return i()(t,{appID:100017626})}})):h===a.Jv.Online?window.i18n_37006?y=new Proxy({},{get:function(e,t,r){return i()(t,{appID:37006})}}):window.i18n_100016584&&(y=new Proxy({},{get:function(e,t,r){return i()(t,{appID:100016584})}})):y=null:c&&(y=p.r.get(c,"sharkKey")),y){var g=y[e];return!g&&m&&(g=m[e]),n&&n[0]&&parseInt(n[0])>1&&(g=y[e+".pluralsuffix.other"]),g=l(g,n)||t||e,l(g,r)||t||e}return t||e}}},5062:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(6708),i={};t.default=function(e,t){if(i[e])return i[e];var r=document.createElement("div");return r.style.zIndex=t||n.default(),r.style.display="block",r.className="calendar-r"==e?"view cui-layer2":"view nfes-cui-layer ",r.id="nfes-globalDom-"+e,document.body.appendChild(r),i[e]=r,r}},1139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSharkData=t.mapKeyToTrans=void 0;var n=r(7872),i=r(3718),o=r(2264),a=r(1142),s=new o.default,c=function(e){var t=e&&e.appId,r=e&&e.pageId,n=e&&e.locale||"zh-CN";if(!t)return"";var i=!0;e&&void 0!==e.isCtrip&&(i=e.isCtrip);var o="undefined"==typeof window?"shark.ibu.ctripcorp.com":i?"www.ctrip.com":"www.trip.com",a="undefined"==typeof window?"http":"https";return r?a+"://"+o+"/m/i18n/"+t+"/"+r+"/"+n+".json":a+"://"+o+"/m/i18n/"+t+"/"+n+".json"},l={},u="nfes_ui_shark_data_cache",p=function(){if("undefined"!=typeof window){var e=window.localStorage.getItem(u);if(!e)return null;var t=null;try{t=JSON.parse(e)}catch(e){}finally{return t}}return null},d=function(e,t){s.fetch(e,{method:"get",credentials:"omit"}).then(function(e){t&&t(e||{})}).catch(function(e){})};function f(e,t){var r={};for(var n in t||(t=i.default()||{}),e)if(e.hasOwnProperty(n)){var o=e[n];t[o]&&(r[n]=t[o])}return r}t.mapKeyToTrans=f,t.getSharkData=function(e){return n.__awaiter(this,void 0,void 0,function(){var t,r,i,o,a;return n.__generator(this,function(n){switch(n.label){case 0:return t=e&&e.appId,r=e&&e.pageId,i=e&&e.locale||"zh-CN",t?(o=r,r&&Array.isArray(r)&&(o=r.join("-")),a=c({appId:t,pageId:o,locale:i,isCtrip:e&&e.isCtrip}),[4,s.fetch(a,{method:"get",credentials:"omit"})]):[2,null];case 1:return[2,n.sent()]}})})},t.default=function(e,t){var r=e&&e.name;if(!r)return{};var n=a.default[r];if(!n)return{};var o=e&&e.locale||"zh-CN",s=o.toLowerCase(),h=i.default();if(h)return e.varKeys?f(e.varKeys,h):h;var y=l[r]&&l[r][s];if(y)return e.varKeys?f(e.varKeys,y):y;var m=!0;e&&void 0!==e.isCtrip&&(m=e.isCtrip);var g=c({appId:"100023727",pageId:n,locale:o,isCtrip:m}),v=function(n){var i=n;e.varKeys&&(i=f(e.varKeys,n)),t&&t(i),l[r]||(l[r]={}),l[r][s]=n,function(e,t,r){if(void 0===r&&(r="zh-CN"),r=r.toLowerCase(),"undefined"!=typeof window){var n=p()||{};try{n[t]||(n[t]={}),n[t][r]=e,window.localStorage.setItem(u,JSON.stringify(n))}catch(e){}}}(n,r,s)},_=p();return _&&_[r]&&_[r][s]?(d(g,v),e.varKeys?f(e.varKeys,_[r][s]):_[r][s]):(d(g,v),{})}},6708:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=4e3,function(e){return r++,e?""+ ++e:""+r});t.default=n},3718:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof window)return null;var t="i18n_"+(e=e||100023727);return window[t]?window[t]:window.i18n_apps?window.i18n_apps[t]:null}},1142:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={IBUPhotoBrowser:"100001",IBUVideoPlayer:"100002",EmptyState:"100003",CitySelector:"100004",DatePicker:"100005",GroupSelect:"100006",Keyboard:"100007",Loading:"100008",PhotoViewer:"100009",SidebarBadge:"100010",TabScrollable:"100011",CalendarVertical:"100012",VerficationCode:"100013",Searching:"100014"}},2010:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0,t.default=function(e,t,r){"undefined"!=typeof window&&(void 0===window.__bfi&&(window.__bfi=[]),window.__bfi.push(["_trackMetric",{name:"104126",value:1,tag:{uiname:e,version:t,bu:r}}]))},t.Log=function(e,t,r){if("undefined"!=typeof window){void 0===window.__bfi&&(window.__bfi=[]),r=r||{};var n=Object.keys(r),i="";n.forEach(function(e,t){i+=0===t?"":"&",i+=e+"="+r[e]}),window.__bfi.push([e,t,i])}}},4617:(e,t,r)=>{var n,i=r(7872),o=r(3804),a=r(7196),s=r(3580),c=r(1076),l=r(5062),u=r(6541),p=r(6708),d=r(2010),f=r(1139),h=function(e){function t(t){var r=e.call(this,t)||this;r._getDefaultText=function(e){r.setState({content:r.props.API?e&&e.apiContent:e&&e.otherContent})},r._keys={apiContent:"key.ui.loading.api.content",otherContent:"key.ui.loading.not.api.content"};var i="";if(!t.content){var o=f.default({varKeys:r._keys,name:"Loading",locale:"zh-CN",isCtrip:t.isCtrip},r._getDefaultText);i=t.API?o.apiContent:o.otherContent}var a=void 0===t.isShow||t.isShow,s=p.default();return r.state={content:t.content||i,description:t.description||null,isShow:a,needMask:!!t.needMask,isShowCancel:!!t.isShowCancel,layerZIndex:p.default(+s),maskZIndex:s,hideWithoutAnim:!!t.hideWithoutAnim},t.API&&(n=r),r}return i.__extends(t,e),t.prototype.componentDidMount=function(){d.default("Loading","2.1.26",this.props.bizType||"")},t.show=function(e){if(void 0===e&&(e={}),n){var r=p.default();n.setState(i.__assign(i.__assign({isShow:!0},e),{layerZIndex:p.default(+r),maskZIndex:r}))}else c.default&&a.render(o.createElement(t,i.__assign({},e,{API:!0})),l.default("loading",""))},t.hide=function(){c.default&&null!=n&&n.setState({isShow:!1,needMask:!1})},t.prototype.closeLoading=function(){this.setState({isShow:!1,needMask:!1})},t.prototype.getLoading=function(e){var t=this;return o.createElement("div",null,o.createElement("div",{className:2==e?"newLoadingWrap":"newLoadingWrap setStyle",style:this.props.style},o.createElement("style",{dangerouslySetInnerHTML:{__html:y}}),o.createElement("div",{className:"smileLoading"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 351 351",width:351,height:351,preserveAspectRatio:"xMidYMid meet"},o.createElement("defs",null,o.createElement("clipPath",{id:"animationMask_mixM1eOdw9"},o.createElement("circle",{cx:175,cy:175,r:160,fill:"none"}))),o.createElement("g",{clipPath:"url(#animationMask_mixM1eOdw9)"},o.createElement("path",{strokeLinecap:"round",strokeWidth:30,fill:"none",stroke:"#0086F6",d:"M174.5,321 C237.641465,321 291.453167,281.054536 312.042793,225.055922 C317.836794,209.297696 321,192.268251 321,174.5 C321,93.5902842 255.409716,28 174.5,28 C93.5902842,28 28,93.5902842 28,174.5 C28,193.013534 31.4341308,210.724984 37.7001348,227.032093 C58.818454,281.991955 112.103818,321 174.5,321 Z",id:"circle"}),o.createElement("g",{transform:"matrix(2.450000047683716,0,0,2.450000047683716,45.392494201660156,128.84750366210938)",id:"leftEye"},o.createElement("path",{fill:"#0086F6",fillOpacity:1,d:" M7.5,0 C7.5,4.142000198364258 4.142000198364258,7.5 0,7.5 C-4.142000198364258,7.5 -7.5,4.142000198364258 -7.5,0 C-7.5,-4.142000198364258 -4.142000198364258,-7.5 0,-7.5 C4.142000198364258,-7.5 7.5,-4.142000198364258 7.5,0z"})),o.createElement("g",{transform:"matrix(2.450000047683716,0,0,2.450000047683716,318.6235046386719,128.84750366210938)",id:"rightEye"},o.createElement("path",{fill:"#0086F6",fillOpacity:1,d:" M-7.119999885559082,0 C-7.119999885559082,4.142000198364258 -3.931999921798706,7.5 0,7.5 C3.933000087738037,7.5 7.119999885559082,4.142000198364258 7.119999885559082,0 C7.119999885559082,-4.142000198364258 3.933000087738037,-7.5 0,-7.5 C-3.931999921798706,-7.5 -7.119999885559082,-4.142000198364258 -7.119999885559082,0z"})),o.createElement("g",{clipPath:" ",id:"mapGroup"},o.createElement("g",{transform:"matrix(0.8600000143051147,0,0,0.8727899789810181,21.9439697265625,-47.648529052734375)",opacity:1,style:{display:"block"}},o.createElement("g",{opacity:1,transform:"matrix(1,0,0,1.0413199663162231,343.8940124511719,424.7309875488281)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#0086F6",strokeOpacity:1,strokeWidth:23,d:" M63.395999908447266,-1.149999976158142 C58.02199935913086,14.696999549865723 47.917999267578125,33.534000396728516 28.408000946044922,54.3390007019043 C4.755000114440918,79.56199645996094 -16.55900001525879,134.7480010986328 -29.184999465942383,114.10199737548828 C-41.81100082397461,93.45500183105469 -17.429000854492188,54.98500061035156 -16.395000457763672,25.506000518798828 C-15.1899995803833,-8.842000007629395 -68.78099822998047,-2.2890000343322754 -74.23999786376953,-30.53700065612793 C-79.6989974975586,-58.78499984741211 -63.319000244140625,-95.52200317382812 -44.33100128173828,-95.52200317382812 C-25.341999053955078,-95.52200317382812 -17.218000411987305,-67.53900146484375 2.052000045776367,-84.08599853515625 C2.052000045776367,-84.08599853515625 2.052000045776367,-84.08599853515625 2.052000045776367,-84.08599853515625 C17.965999603271484,-97.7509994506836 -66.21700286865234,-139.9810028076172 -58.597999572753906,-159.33900451660156 C-30.871000289916992,-229.78500366210938 8.663000106811523,-183.572998046875 57.74599838256836,-172.38699340820312 C69.99199676513672,-169.5959930419922 110.98999786376953,-161.56700134277344 104.68299865722656,-128.2449951171875 C92.37699890136719,-63.22800064086914 85.40799713134766,-97.75 71.14800262451172,-48.03099822998047 C69.04499816894531,-40.70100021362305 71.15899658203125,-24.04599952697754 63.395999908447266,-1.149999976158142",className:"map"})),o.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,118.90799713134766,303.74798583984375)"},o.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,463.093994140625,28.76799964904785)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#0086F6",strokeOpacity:1,strokeWidth:23,d:" M64.28700256347656,-205.49600219726562 C60.125999450683594,-205.8780059814453 55.6349983215332,-205.5959930419922 50.75199890136719,-204.52499389648438 C-9.680999755859375,-191.26800537109375 -99.27400207519531,-172.08799743652344 -73.28800201416016,-94.43199920654297 C-68.0469970703125,-78.7699966430664 -62.20800018310547,-47.474998474121094 -60.29499816894531,-37.64099884033203 C-53.257999420166016,-1.4600000381469727 -11.916000366210938,70.84700012207031 3.4179999828338623,77.51300048828125 C27.66900062561035,88.05699920654297 14.003000259399414,52.59299850463867 26.285999298095703,42.737998962402344 C26.285999298095703,42.737998962402344 26.285999298095703,42.737998962402344 26.285999298095703,42.737998962402344 C35.11600112915039,35.65299987792969 44.9630012512207,48.16999816894531 64.85299682617188,31.104000091552734 C71.6729965209961,25.25200080871582 55.51100158691406,5.8480000495910645 56.5260009765625,-9.611000061035156 C57.15599822998047,-19.200000762939453 40.895999908447266,-12.508999824523926 18.809999465942383,-24.722000122070312 C5.214000225067139,-32.2400016784668 20.601999282836914,-83.04199981689453 36.349998474121094,-81.58399963378906 C45.04600143432617,-80.77899932861328 67.3759994506836,-63.479000091552734 68.41999816894531,-63.9900016784668 C69.46399688720703,-64.5009994506836 119.4489974975586,-90.88500213623047 122.73999786376953,-95.60900115966797 C132.2550048828125,-109.26799774169922 130.03900146484375,-135.87899780273438 127.93900299072266,-138.49400329589844 C107.79100036621094,-163.58399963378906 95.02999877929688,-202.6719970703125 64.28700256347656,-205.49600219726562",className:"map"})),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#0086F6",strokeOpacity:1,strokeWidth:23,d:" M45.68199920654297,-214.66200256347656 C41.520999908447266,-215.04400634765625 37.029998779296875,-214.76199340820312 32.14699935913086,-213.6909942626953 C-28.285999298095703,-200.4340057373047 -117.87899780273438,-181.25399780273438 -91.89299774169922,-103.5979995727539 C-86.6520004272461,-87.93599700927734 -80.81300354003906,-56.64099884033203 -78.9000015258789,-46.80699920654297 C-71.86299896240234,-10.62600040435791 -30.520999908447266,61.680999755859375 -15.187000274658203,68.34700012207031 C9.064000129699707,78.89099884033203 -4.6020002365112305,43.426998138427734 7.681000232696533,33.571998596191406 C7.681000232696533,33.571998596191406 7.681000232696533,33.571998596191406 7.681000232696533,33.571998596191406 C16.51099967956543,26.48699951171875 26.357999801635742,39.00400161743164 46.24800109863281,21.937999725341797 C53.06800079345703,16.086000442504883 36.90599822998047,-3.318000078201294 37.92100143432617,-18.777000427246094 C38.55099868774414,-28.365999221801758 22.291000366210938,-21.674999237060547 0.20499999821186066,-33.88800048828125 C-13.390999794006348,-41.40599822998047 1.996999979019165,-92.20800018310547 17.7450008392334,-90.75 C26.44099998474121,-89.94499969482422 48.770999908447266,-72.6449966430664 49.814998626708984,-73.15599822998047 C50.85900115966797,-73.66699981689453 100.84400177001953,-100.0510025024414 104.13500213623047,-104.7750015258789 C113.6500015258789,-118.43399810791016 111.43399810791016,-145.0449981689453 109.33399963378906,-147.66000366210938 C89.18599700927734,-172.75 76.42500305175781,-211.83799743652344 45.68199920654297,-214.66200256347656",className:"map"})),o.createElement("g",{opacity:1,transform:"matrix(1,0,0,1,202.2429962158203,415.0069885253906)"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:4,stroke:"#0086F6",strokeOpacity:1,strokeWidth:23,d:" M-32.07500076293945,-27.277000427246094 C-47.68199920654297,-28.514999389648438 -60.3129997253418,-24.562999725341797 -58.375,-15.288000106811523 C-56.2869987487793,-5.296000003814697 -39.000999450683594,3.2360000610351562 -35.04199981689453,9.902999877929688 C-30.14900016784668,18.141000747680664 -21.857999801635742,65.64299774169922 -15.461000442504883,53.790000915527344 C-15.461000442504883,53.790000915527344 -15.461000442504883,53.790000915527344 -15.461000442504883,53.790000915527344 C-7.932000160217285,39.84000015258789 24.993999481201172,-0.1550000011920929 4.864999771118164,-14.625 C-5.4730000495910645,-22.05699920654297 -19.70800018310547,-26.29599952697754 -32.07500076293945,-27.277000427246094",className:"map"}))))))),o.createElement("p",{id:"cp-h5-text",style:1!=e?{display:"block"}:{display:"none"}},this.state.content),this.state.isShowCancel?o.createElement("span",{className:"close btn-close",onClick:function(){t.closeLoading()}}):""),o.createElement("p",{className:"loading-tips",style:1==e?{display:"block"}:{display:"none"}},this.state.content),o.createElement("p",{className:"loading-tips-description",style:1==e&&null!=this.state.description?{display:"block"}:{display:"none"}},this.state.description))},t.prototype.render=function(){return this.props.API?o.createElement(s.default,{type:"loading",renderType:"API",okWithoutAnim:this.state.hideWithoutAnim,isShow:this.state.isShow,needReposition:!0,zIndex:this.state.layerZIndex},o.createElement(u.default,{wrapperType:"loading",okWithoutAnim:this.state.hideWithoutAnim,className:"cm-fade-up",display:this.state.needMask,zIndex:this.state.maskZIndex}),this.getLoading(2)):this.state.isShow?this.getLoading(1):null},t.defaultProps={isCtrip:!0},t}(o.Component),y="\n.loading-box2 {\n  z-index: 10001\n}\n\n.loading-layer2 {\n  width: 120px;\n  height: 120px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center\n}\n\n.newLoadingWrap {\n  position: relative;\n  background: #fff;\n  width: 60px;\n  height: 60px;\n  border-radius: 4px;\n  z-index: 10000;\n  color: #666;\n  font-size: 10px;\n  font-family: 'PingFangSC-regular', Tahoma, Arial, Helvetica, sans-serif;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-shadow: 0 2px 8px rgba(0,0,0,0.06);\n  box-shadow: 0 2px 8px rgba(0,0,0,0.06)\n}\n\n.newLoadingWrap .close {\n  position: absolute;\n  background: rgba(0,0,0,0.5);\n  height: 16px;\n  width: 16px;\n  right: -6px;\n  top: -4px;\n  border-radius: 50%\n}\n\n.newLoadingWrap .close:before,.newLoadingWrap .close:after {\n  content: \"\";\n  height: 8px;\n  width: 1px;\n  position: absolute;\n  top: 4px;\n  left: 7px;\n  background-color: #fff;\n  -webkit-transform: rotate(45deg);\n  transform: rotate(45deg)\n}\n\n.newLoadingWrap .close:after {\n  -webkit-transform: rotate(-45deg);\n  transform: rotate(-45deg)\n}\n\n.newLoadingWrap #cp-h5-text {\n  padding: 2px 3px 0;\n  overflow: hidden;\n  margin: 0\n}\n\n.newLoadingWrap .smileLoading {\n  width: 32px;\n  height: 32px;\n  margin: 0 auto;\n  padding: 3px 0 0\n}\n\n.newLoadingWrap .smileLoading svg {\n  width: 100%;\n  height: 100%\n}\n\n.newLoadingWrap #circle {\n  transform-origin: 50% 50%;\n  -webkit-transform-origin: 50% 50%;\n  -moz-transform-origin: 50% 50%;\n  -ms-transform-origin: 50% 50%;\n  -o-transform-origin: 50% 50%;\n  animation: circleWrap 4s infinite;\n  -webkit-animation: circleWrap 4s infinite;\n  will-change: auto\n}\n\n@keyframes circleWrap {\n  0% {\n      transform: rotate(0);\n      -webkit-transform: rotate(0);\n      -moz-transform: rotate(0);\n      -o-transform: rotate(0);\n      -ms-transform: rotate(0);\n      stroke-dasharray: 941px\n  }\n\n  30%,50% {\n      transform: rotate(420deg);\n      -webkit-transform: rotate(420deg);\n      -moz-transform: rotate(420deg);\n      -o-transform: rotate(420deg);\n      -ms-transform: rotate(420deg);\n      stroke-dasharray: 310px 641px\n  }\n\n  56% {\n      transform: rotate(650deg);\n      -webkit-transform: rotate(650deg);\n      -moz-transform: rotate(650deg);\n      -o-transform: rotate(650deg);\n      -ms-transform: rotate(650deg);\n      stroke-dasharray: 200px 741px\n  }\n\n  80%,100% {\n      transform: rotate(1036deg);\n      -webkit-transform: rotate(1036deg);\n      -moz-transform: rotate(1036deg);\n      -o-transform: rotate(1036deg);\n      -ms-transform: rotate(1036deg);\n      stroke-dasharray: 941px\n  }\n}\n\n@-webkit-keyframes circleWrap {\n  0% {\n      transform: rotate(0);\n      -webkit-transform: rotate(0);\n      -moz-transform: rotate(0);\n      -o-transform: rotate(0);\n      -ms-transform: rotate(0);\n      stroke-dasharray: 941px\n  }\n\n  30%,50% {\n      transform: rotate(420deg);\n      -webkit-transform: rotate(420deg);\n      -moz-transform: rotate(420deg);\n      -o-transform: rotate(420deg);\n      -ms-transform: rotate(420deg);\n      stroke-dasharray: 310px 641px\n  }\n\n  56% {\n      transform: rotate(650deg);\n      -webkit-transform: rotate(650deg);\n      -moz-transform: rotate(650deg);\n      -o-transform: rotate(650deg);\n      -ms-transform: rotate(650deg);\n      stroke-dasharray: 200px 741px\n  }\n\n  80%,100% {\n      transform: rotate(1036deg);\n      -webkit-transform: rotate(1036deg);\n      -moz-transform: rotate(1036deg);\n      -o-transform: rotate(1036deg);\n      -ms-transform: rotate(1036deg);\n      stroke-dasharray: 941px\n  }\n}\n\n.newLoadingWrap #leftEye,.newLoadingWrap #rightEye {\n  opacity: 0;\n  animation: showEye 4s infinite 0.5s;\n  -webkit-animation: showEye 4s infinite 0.5s;\n  will-change: auto\n}\n\n@keyframes showEye {\n  0%,45%,100% {\n      opacity: 0\n  }\n\n  5%,40% {\n      opacity: 1\n  }\n}\n\n@-webkit-keyframes showEye {\n  0%,45%,100% {\n      opacity: 0\n  }\n\n  5%,40% {\n      opacity: 1\n  }\n}\n\n.newLoadingWrap #rightEye {\n  animation-delay: 0.7s;\n  -webkit-animation-delay: 0.7s\n}\n\n.newLoadingWrap #rightEye path {\n  transform: translate3d(-4px, 0, 0);\n  -webkit-transform: translate3d(-4px, 0, 0);\n  -moz-transform: translate3d(-4px, 0, 0);\n  -ms-transform: translate3d(-4px, 0, 0);\n  -o-transform: translate3d(-4px, 0, 0)\n}\n\n.newLoadingWrap #mapGroup {\n  transform: translate3d(0, -20%, 0);\n  -webkit-transform: translate3d(0, -20%, 0);\n  -moz-transform: translate3d(0, -20%, 0);\n  -ms-transform: translate3d(0, -20%, 0);\n  -o-transform: translate3d(0, -20%, 0);\n  animation: mapMove 4s infinite 2s;\n  -webkit-animation: mapMove 4s infinite 2s;\n  will-change: auto\n}\n\n.newLoadingWrap #mapGroup .map {\n  fill: none;\n  stroke-dasharray: 900px;\n  stroke-dashoffset: 900px;\n  animation: mapStroke 4s infinite 2s;\n  -webkit-animation: mapStroke 4s infinite 2s;\n  will-change: auto\n}\n\n@keyframes mapMove {\n  0%,50%,79% {\n      transform: translate3d(0, -20%, 0);\n      -webkit-transform: translate3d(0, -20%, 0);\n      -moz-transform: translate3d(0, -20%, 0);\n      -ms-transform: translate3d(0, -20%, 0);\n      -o-transform: translate3d(0, -20%, 0)\n  }\n\n  78% {\n      transform: translate3d(-100%, 0, 0);\n      -webkit-transform: translate3d(-100%, 0, 0);\n      -moz-transform: translate3d(-100%, 0, 0);\n      -ms-transform: translate3d(-100%, 0, 0);\n      -o-transform: translate3d(-100%, 0, 0)\n  }\n}\n\n@-webkit-keyframes mapMove {\n  0%,50%,79% {\n      transform: translate3d(0, -20%, 0);\n      -webkit-transform: translate3d(0, -20%, 0);\n      -moz-transform: translate3d(0, -20%, 0);\n      -ms-transform: translate3d(0, -20%, 0);\n      -o-transform: translate3d(0, -20%, 0)\n  }\n\n  78% {\n      transform: translate3d(-100%, 0, 0);\n      -webkit-transform: translate3d(-100%, 0, 0);\n      -moz-transform: translate3d(-100%, 0, 0);\n      -ms-transform: translate3d(-100%, 0, 0);\n      -o-transform: translate3d(-100%, 0, 0)\n  }\n}\n\n@keyframes mapStroke {\n  0%,78% {\n      stroke-dasharray: 900px;\n      stroke-dashoffset: 900px\n  }\n\n  40%,60% {\n      stroke-dasharray: 900px;\n      stroke-dashoffset: 0\n  }\n}\n\n@-webkit-keyframes mapStroke {\n  0%,78% {\n      stroke-dasharray: 900px;\n      stroke-dashoffset: 900px\n  }\n\n  40%,60% {\n      stroke-dasharray: 900px;\n      stroke-dashoffset: 0\n  }\n}\n.hide{\n  display:none!important;\n}\n\n.loading-tips {\n  font-weight: normal;\n  width: 200px;\n  margin-left: -100px;\n  margin-top:-7px;\n  text-align: center;\n  left: 50%;\n  position: absolute;\n  word-break: break-all;\n  font-size: 12px;\n  color:#666666;\n} \n\n.loading-tips-description {\n  font-weight: normal;\n  width: 170px;\n  margin-left: -85px;\n  margin-top: 18px;\n  text-align: center;\n  left: 50%;\n  position: absolute;\n  word-break: break-all;\n  font-size: 12px;\n  color: #BBBBBB;\n} \n\n.setStyle{\n  width:100%!important;\n  box-shadow: none;\n  background:transparent;\n}\n";t.Z=h},6541:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872),i=r(3804),o=r(3580),a=r(52),s=r(8640),c=function(e){function t(t){var r=e.call(this,t)||this;return r._renderCallback=function(){r._ref&&r._ref.addEventListener("touchmove",function(e){e.preventDefault&&e.preventDefault()},!!a.default&&{passive:!1,capture:!1})},r.state={onClick:t.onClick,backgroundColor:t.backgroundColor||"rgba(41, 41, 41, 0.65)"},r._ref=null,r}return n.__extends(t,e),t.prototype.componentWillMount=function(){},t.prototype.componentWillUnmount=function(){this._ref&&this._ref.removeEventListener("touchmove",function(e){e.preventDefault&&e.preventDefault()})},t.prototype.render=function(){var e=this,t=this.props,r=t.wrapperType,n=t.display,a=this.state.backgroundColor,c=r?r+"-":"",l={};return void 0!==n&&(l.display=n),void 0!==a&&(l.backgroundColor=a),i.createElement(o.default,{renderCallback:this._renderCallback,okWithoutAnim:this.props.okWithoutAnim,className:this.props.className||"",type:c+"mask",isShow:this.props.display,zIndex:this.props.zIndex},i.createElement("style",{dangerouslySetInnerHTML:{__html:s.default}}),i.createElement("div",{className:"nfes-mask",ref:function(t){e._ref=t},onClick:this.state.onClick,style:l}))},t}(i.Component);t.default=c},8640:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default="\n.nfes-mask {\n    position:fixed;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    flex:1;\n    height:100%;\n    z-index: 1000\n}\n"},3580:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(7872),i=r(1076),o=r(4852),a=r(5062),s=r(6708),c=r(3804),l=r(7196),u=function(e){function t(t){var r=e.call(this,t)||this;return r.needReposition=!0,r.okWithoutAnim=!1,r.options=t,r.okWithoutAnim=t.okWithoutAnim,i.default&&t.type&&(r.root=a.default(t.type,t.zIndex)),"Boolean"===o.default(r.props.needReposition)&&(r.needReposition=r.props.needReposition),r}return n.__extends(t,e),t.prototype.reposition=function(){var e=this,t=this.root.scrollWidth||this.root.offsetWidth,r=this.root.scrollHeight||this.root.offsetHeight;!t||!r||10==t&&10==r?setTimeout(function(){e.reposition.call(e)},0):(this.root.style.marginLeft=-t/2+"px",this.root.style.marginTop=-r/2+"px")},t.prototype.componentDidMount=function(){this.props.isShow?"API"===this.props.renderType?this.show(this.props.className||""):this.show(this.props.className||"",this.props.children):"API"!==this.props.renderType&&this.props.className&&this.root&&(this.root.className=this.root.className.trim()+" "+this.props.className)},t.prototype.componentWillReceiveProps=function(e){this.options=e,e.isShow?"API"===e.renderType?this.show(""):this.show("",e.children):this.hide()},t.prototype.removeAniClass=function(e){var t=this;setTimeout(function(){t.root.className=t.root.className.replace("cm-up-in","").replace("cm-up-out",""),e&&e()},350)},t.prototype.render=function(){return"API"===this.props.renderType?c.createElement(c.Fragment,null,c.createElement("style",{dangerouslySetInnerHTML:{__html:"\n    .nfes-cui-layer {\n        color: #eee;\n        border-radius: 10px;\n        position: fixed;\n        left: 50%;\n        top: 50%;\n        z-index: 2100;\n        border-radius: 10px;\n        padding: 5px;\n    }\n\n    .cm-fade-in,.cm-fade-out,.cm-down-in,.cm-down-out,.cm-up-in,.cm-up-out,.cm-center-fade-in,.cm-center-fade-out,.cm-center-up-in,.cm-center-up-out {\n        -webkit-animation-duration: 0.3s;\n        animation-duration: 0.3s;\n        -webkit-animation-fill-mode: both;\n        animation-fill-mode: both\n    }\n\n    .cm-fade-in {\n        -webkit-animation-name: fadeIn;\n        animation-name: fadeIn\n    }\n\n    .cm-fade-out {\n        -webkit-animation-name: fadeOut;\n        animation-name: fadeOut\n    }\n\n    @-webkit-keyframes fadeIn {\n        0% {\n            opacity: 0;\n            -webkit-transform: scale(1.185);\n            transform: scale(1.185)\n        }\n\n        100% {\n            opacity: 1;\n            -webkit-transform: scale(1);\n            transform: scale(1)\n        }\n    }\n\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n            -webkit-transform: scale(1.185);\n            transform: scale(1.185)\n        }\n\n        100% {\n            opacity: 1;\n            -webkit-transform: scale(1);\n            transform: scale(1)\n        }\n    }\n\n    @-webkit-keyframes fadeOut {\n        0% {\n            opacity: 1;\n            -webkit-transform: scale(1);\n            transform: scale(1)\n        }\n\n        100% {\n            opacity: 0;\n            -webkit-transform: scale(0.815);\n            transform: scale(0.815)\n        }\n    }\n\n    @keyframes fadeOut {\n        0% {\n            opacity: 1;\n            -webkit-transform: scale(1);\n            transform: scale(1)\n        }\n\n        100% {\n            opacity: 0;\n            -webkit-transform: scale(0.815);\n            transform: scale(0.815)\n        }\n    }\n"}}),this.props.children):null},t.prototype.show=function(e,t){var r=this;i.default&&(this.options.needMask,t&&l.render(t,this.root,function(){r.props.renderCallback&&r.props.renderCallback()}),this.root.style.display&&(this.root.className=this.root.className.trim()+(this.options.animateInClass||" cm-up-in "),e&&(this.root.className+=e),this.root.style.display="block",this.root.style.zIndex=this.options.zIndex||s.default(),this.needReposition&&this.reposition(),"Function"===o.default(this.options.onShow)&&this.options.onShow(),this.removeAniClass()))},t.prototype.hide=function(e){var t=this;if("none"!==this.root.style.display){e&&this.okWithoutAnim||(this.root.className=this.root.className.trim()+(this.options.animateOutClass||" cm-up-out "));var r=function(){t.root.style.display="none",t.options.needMask,"Function"===o.default(t.options.onHide)&&t.options.onHide()};this.okWithoutAnim?r():this.removeAniClass(function(){r()})}},t}(c.Component);t.default=u},4852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},1076:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="undefined"!=typeof window},52:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1076);t.default=function(){var e=!1;if(n.default)try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_test",null,t)}catch(e){}return e}},6276:(e,t,r)=>{"use strict";r.d(t,{JS:()=>n,b6:()=>i,RD:()=>o,pQ:()=>a,NQ:()=>s});var n=4,i="component-sub_env",o="_dev_force_request_host_",a="subEnv",s="x-traceID"},2444:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>request});var _ctrip_trip_component_utils_lib_browser_cookie__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2362),_shared_constant__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8015),_shared_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6140),_shared_cache__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(665),_track__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9018),_helper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3493),_shared_errors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8617),_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6276),_shared_default_error_handler__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(469),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5250);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var WIN_KEY="__TRIP_COMPONENT_REQUEST_CACHE__",cacheManager=window[WIN_KEY]=window[WIN_KEY]||new _shared_cache__WEBPACK_IMPORTED_MODULE_0__.L;function noop(){}function getRandom(e){return parseInt("".concat((Math.random()+1)*Math.pow(10,e-1)))}function getVid(){var e=((0,_ctrip_trip_component_utils_lib_browser_cookie__WEBPACK_IMPORTED_MODULE_1__.ej)("_bfa")||"").split(".");return e[1]&&e[2]?"".concat(e[1],".").concat(e[2]):""}function getSubEnv(){try{if("object"===("undefined"==typeof localStorage?"undefined":_typeof(localStorage))&&window.localStorage&&"function"==typeof localStorage.getItem)return window.localStorage.getItem(_constant__WEBPACK_IMPORTED_MODULE_2__.b6)}catch(e){return null}}function getForceHost(){try{return(0,_ctrip_trip_component_utils_lib_browser_cookie__WEBPACK_IMPORTED_MODULE_1__.ej)(_constant__WEBPACK_IMPORTED_MODULE_2__.RD)}catch(e){return null}}function isDevOrFat(){var e=window.location.host;return e.indexOf(".qa.nt")>-1||e.indexOf("localhost")>-1}function getResponseDataType(e){if(e){var t=e.split(";",1)[0];return _shared_constant__WEBPACK_IMPORTED_MODULE_3__.J[t]}}function trim(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function getResponseHeaders(e){var t=trim(e.getAllResponseHeaders()).split(/[\r\n]+/),r={};return t.forEach(function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");n&&(r[n]=i)}),r}var decodeResponse=function decodeResponse(xhr,dataType){var response;if("arraybuffer"===xhr.responseType||"blob"===xhr.responseType)response=xhr.response;else{response=xhr.responseText;var responseDataType=dataType||getResponseDataType(xhr.getResponseHeader("content-type"));"script"===responseDataType?eval(response):"json"===responseDataType&&(response=""===trim(response)?null:JSON.parse(response))}return response};function _ajax(e){var t=e.url,r=e.method,n=void 0===r?"GET":r,i=e.params,o=e.data,a=void 0===o?null:o,s=e.contentType,c=void 0===s?null:s,l=e.dataType,u=void 0===l?null:l,p=e.__success,d=void 0===p?noop:p,f=e.__error,h=void 0===f?noop:f,y=e.timeout,m=void 0===y?0:y,g=e.withCredentials,v=e.headers,_=void 0===v?{}:v;n=n.toUpperCase(),i=i||{};var w=new XMLHttpRequest,b=isDevOrFat(),k=/^([\w-]+:)\/\//.test(t)?RegExp.$1:window.location.protocol,C=!1,I=function(r,n){if(!C){if(r){var i=(0,_shared_errors__WEBPACK_IMPORTED_MODULE_4__.$O)((0,_utils__WEBPACK_IMPORTED_MODULE_5__.A)(r),e,{status:w.status,statusText:w.statusText,data:w.responseText||w.response,headers:getResponseHeaders(w)});h(i,w)}else d({url:t,response:n,xhr:w},w);C=!0}},O=function(){if((0,_shared_utils__WEBPACK_IMPORTED_MODULE_6__.F1)(w.status,k))try{var e=decodeResponse(w,u);I(null,e)}catch(e){I(e)}else{var r=new Error('url "'.concat(t,'" response status "').concat(w.status,'" is not correct'));I(r)}},S=function(e){I(e)};if(b){var E=getForceHost();if(E)try{var P=/^[\w-]+:\/\//.test(E)?E:"".concat(k,"//").concat(E);t=new URL(t,P).href}catch(e){}var x=getSubEnv();x&&(i[_constant__WEBPACK_IMPORTED_MODULE_2__.pQ]=x)}i[_constant__WEBPACK_IMPORTED_MODULE_2__.NQ]="".concat(getVid()||getRandom(10),"-").concat((new Date).getTime(),"-").concat(getRandom(10)),i&&(t+=(t.indexOf("?")>-1?"&":"?")+(0,_shared_utils__WEBPACK_IMPORTED_MODULE_6__.XP)(i)),w.onreadystatechange=function(){w.readyState===_constant__WEBPACK_IMPORTED_MODULE_2__.JS&&(w.onreadystatechange=noop,setTimeout(function(){C||O()},0))},w.onload=O,w.onerror=function(e){return S(e)},w.ontimeout=function(){return S(new _shared_errors__WEBPACK_IMPORTED_MODULE_4__.W5(m))},w.onabort=function(){w.__abortByUser?S(_shared_errors__WEBPACK_IMPORTED_MODULE_4__._L.MANUAL_ABORT_ERROR()):S(new _shared_errors__WEBPACK_IMPORTED_MODULE_4__._L)},w.open(n,t,!0,null,null);for(var T=0,N=Object.keys(_);T<N.length;T++){var A=N[T],R=_[A];w.setRequestHeader(A,R)}return"POST"!==n||_["Content-Type"]||w.setRequestHeader("Content-Type",c||"application/json"),m>0&&(w.timeout=m),g&&(w.withCredentials=!0),w.send(a&&"GET"!==n?JSON.stringify(a):null),w}var _request=function(e){if(e.cache){var t=cacheManager.get(e);if(t&&(0,_shared_utils__WEBPACK_IMPORTED_MODULE_6__.Rw)(t))return t}var r,n=new Promise(function(t,n){var i=e;i.__success=t,i.__error=n,r=_ajax(i)}).then(function(t){var r=t.response,n=t.url,i=t.xhr;if((0,_track__WEBPACK_IMPORTED_MODULE_7__.Eq)(r,{url:n},i),"function"==typeof e.transformResponse)try{return e.transformResponse(r,{headers:getResponseHeaders(i)})}catch(e){return r}return r}).catch(function(t){var n=(0,_shared_errors__WEBPACK_IMPORTED_MODULE_4__.$O)(t,e);if(e.trackError&&(0,_track__WEBPACK_IMPORTED_MODULE_7__.ME)(t,e,r),!_shared_default_error_handler__WEBPACK_IMPORTED_MODULE_8__.V)throw n;(0,_shared_default_error_handler__WEBPACK_IMPORTED_MODULE_8__.V)(n)});return n.abort=function(){r&&(r.__abortByUser=!0,r.abort())},Object.defineProperty(n,"_xhr",{get:function(){return r}}),e.cache&&cacheManager.add(e,n),n},request=(0,_helper__WEBPACK_IMPORTED_MODULE_9__.P)(_request)},9018:(e,t,r)=>{"use strict";function n(e,t){return e.indexOf(t)>-1}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}r.d(t,{ME:()=>R,Eq:()=>D});var o=function(){if("undefined"==typeof window)return!1;var e=window.location.pathname;return/^\/m/.test(e)||function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent.toLowerCase();return/(ctrip|android|iphone|mobile|webos)/.test(e)&&!/(ipad|pad)/.test(e)}()};function a(e){var t=void 0===e?{}:e,r=t.isOnline,i=void 0===r?!o():r,a=t.isDomestic,s=void 0===a?"ctrip"==("undefined"==typeof window?"trip":n(window.location.hostname||window.location.host,"ctrip")?"ctrip":"trip"):a;return i?s?"//webresource.c-ctrip.com/code/ubt/_bfa.min.js":"//webresource.tripcdn.com/ares2/sysdev/ubt/*/default/_bfa.min.js":s?"//webresource.c-ctrip.com/code/ubt/_mubt.min.js":"//webresource.tripcdn.com/ares2/sysdev/ubt/*/default/_mubt.min.js"}function s(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var r=e[t],n=r.src;if(n&&(n.indexOf("/code/ubt")>-1||n.indexOf("/sysdev/ubt")>-1||n.indexOf("/modules/ubt/trip")>-1))return r}return null}function c(){return"undefined"!=typeof window&&(void 0!==window.$_bf||window.__bfi&&"function"==typeof window.__bfi.push&&window.__bfi.push!==Array.prototype.push||!!window.__BF_LOADING_FLAG__)}function l(e){if(c())return Promise.resolve();var t,r=s()||function(e){void 0===e&&(e=a());var t=new Date,r="?v="+t.getFullYear()+t.getMonth()+"_"+t.getDate(),n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.src=e+r;var i=document.getElementsByTagName("script")[0];return i&&i.parentElement?i.parentElement.insertBefore(n,i):document.body.appendChild(n),n}(e);return t=r,new Promise(function(e,r){t.addEventListener("error",function(e){r(e)}),t.addEventListener("load",function(){e()}),t.addEventListener("readystatechange",function(){"loaded"!==t.readyState&&"complete"!==t.readyState||e()})})}var u=function(){"object"===("undefined"==typeof window?"undefined":i(window))&&window.__BF_CUSTOM_LOAD_FLAG__||(c()||s()?u=function(){}:function(e){if("undefined"==typeof window)return Promise.resolve();if(window.__BF_LOAD_PROMISE__)return window.__BF_LOAD_PROMISE__;var t=l(e);return window.__BF_LOAD_PROMISE__=t,t}().then(function(){u=function(){}}))};function p(e,t){var r=(u(),window.__bfi||(window.__bfi=[]),window.__bfi);t.unshift(e),r.push(t)}function d(e){return new Promise(function(t){var r=e;r.callback=function(e){t(e)},p("_trackMetric",[r])})}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _="ibu_ajax_perf",w=100;function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=g({url:e},function(e){var t={};return Object.keys(e).forEach(function(r){if("string"==typeof r&&"number"==typeof e[r]){var n=Math.max(e[r],0);t[r]=n}}),t}(t));return"string"==typeof r.region&&(n.region=r.region),d({name:_,value:t.duration,sample:w,tag:n})}function k(e,t){return t>0&&e>t?e-t:0}function C(e,t){if(e&&0!==Object.keys(e).length)return d({name:"JS.Lizard.AjaxReady",tag:g(g({},t),e),value:t.duration||0})}function I(e){var t=e.originError,r={message:e.message,stack:e.stack,line:null==t?void 0:t.lineNumber,column:null==t?void 0:t.columnNumber,file:null==t?void 0:t.fileName};p("_trackError",[r])}var O="xmlhttprequest",S="fetch",E="x-gate-region",P="x-originating-url",x=r(8617),T=r(2314),N=r(5250);function A(e){for(var t=function(e){return"function"==typeof performance.getEntriesByName?performance.getEntriesByName(e):"function"==typeof performance.getEntriesByType?performance.getEntriesByType("resource"):[]}(e),r=null,n=-1,i=t.length-1;i>=0;i--){var o=t[i];o.initiatorType!==O&&o.initiatorType!==S||o.name===e&&o.responseEnd>n&&(n=o.responseEnd,r=o)}return r}function R(e,t,r){try{I((0,x.$O)((0,N.A)(e),t))}catch(e){}}function D(e,t,r){var n,i,o,a,s=t.url,c=t.responseHeaders;try{var l=(n=s,i=window.location,o=i.protocol,a=i.host,n?/^http/.test(n)?n:/^\/\//.test(n)?o+n:/^\//.test(n)?o+"//"+a+n:o+"//"+n:""),u=A(l);if(!u)throw new Error("[track ajax] can't find ResourceTiming, url \"".concat(l,'" may not correct'));var p=(0,T.Y)(e),d=c&&c[E]||r&&r.getResponseHeader(E)||"",f=c&&c[P]||r&&r.getResponseHeader(P)||"";return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n={DNSTime:k(e.domainLookupEnd,e.domainLookupStart),TCPTime:k(e.connectEnd,e.connectStart),SSLTime:k(e.connectEnd,e.secureConnectionStart),requestTime:k(e.responseStart,e.requestStart||e.fetchStart||e.startTime),responseTime:k(e.responseEnd,e.responseStart),duration:e.duration||k(e.responseEnd,e.fetchStart)};return Promise.all([b(e.name,n,t),r?C(r,{url:e.name,duration:n.duration,"ak-region":t["ak-region"]||""}):Promise.reject()]).then(function(e){return h(e,1)[0]})}(u,{region:d,"ak-region":(0,N.h)(f)||""},p)}catch(e){return Promise.resolve(-1)}}},5250:(e,t,r)=>{"use strict";function n(e){if(e instanceof Error)return e;var t=new Error("");return t.event=e,t}r.d(t,{A:()=>n,h:()=>i});var i=function(e){if(e)try{return new URL(e).searchParams.get("region")||""}catch(e){}}},3493:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});var n=function(e){var t=e;return t.get=t.get||function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.method="GET",r.url=e,t(r)},t.post=t.post||function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="POST",n.url=e,n.data=r,t(n)},t.put=t.put||function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="PUT",n.url=e,n.data=r,t(n)},t}},665:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function i(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";return e&&t&&e.toUpperCase()===t.toUpperCase()}(e.method,t.method)&&e.url===t.url&&function(e,t){if(a(e)===a(t)){if("object"===a(e)&&null!==e)try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}return e===t}return!1}(e.data,t.data)}r.d(t,{L:()=>c});var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"maxSize",void 0),i(this,"cacheList",void 0),this.maxSize=30,this.cacheList=[]}var t,r,o;return t=e,(r=[{key:"exist",value:function(e){return!!this.get(e)}},{key:"get",value:function(e){for(var t=this.cacheList,r=0;r<t.length;r++){var n=t[r],i=n.option,o=n.promise;if(s(i,e))return o}}},{key:"add",value:function(e,t){this.exist(e)||(this.cacheList.push({option:e,promise:t}),this.cacheList.length>this.maxSize&&this.cacheList.shift())}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},8015:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var n={"text/javascript":"script","application/javascript":"script","application/x-javascript":"script","application/json":"json","text/html":"document","text/plain":"text","application/octet-stream":"blob"}},469:(e,t,r)=>{"use strict";var n;r.d(t,{V:()=>n})},8617:(e,t,r)=>{"use strict";r.d(t,{$O:()=>_,W5:()=>w,_L:()=>b});var n=r(2314);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function l(e){var t=f();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,r)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},p(e)}function d(e,t,r){return d=f()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&h(i,r.prototype),i},d.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var v=function(e){c(r,e);var t=l(r);function r(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,r),m(u(o=t.call(this,"")),"url",void 0),m(u(o),"option",void 0),m(u(o),"status",void 0),m(u(o),"statusText",void 0),m(u(o),"headers",void 0),m(u(o),"data",void 0),m(u(o),"originError",void 0),m(u(o),"isRequestError",void 0),m(u(o),"event",void 0),function(e,t,r){if(e.message="request ".concat(t.method,' "').concat(t.url,'" ').concat(r.status||"fail",": ").concat(e.message),e.stack=e.stack||"empty stack",r.data){var i=(0,n.Y)(r.data);i.CLOGGING_TRACE_ID&&(e.message+='\nCLOGGING_TRACE_ID: "'.concat(i.CLOGGING_TRACE_ID,'"')),i.RootMessageId&&(e.message+='\nRootMessageId: "'.concat(i.RootMessageId,'"'))}}(e,i,a),Object.assign(u(o),e),o.message=e.message,o.stack=e.stack,o.originError=e,o.url=i.url||"",o.option=i,o.status=a.status,o.statusText=a.statusText,o.headers=a.headers,o.data=a.data,o.isRequestError=!0,o}return a(r)}(p(Error)),_=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k(e)?e:new v(e,t,r)},w=function(e){c(r,e);var t=l(r);function r(e,n){var i;return s(this,r),i=t.call(this,"promise timeout of ".concat(e,"ms exceeded")),n&&(i.stack=n),i}return a(r)}(p(Error)),b=function(e){c(r,e);var t=l(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return s(this,r),m(u(e=t.call(this,"request aborted".concat(n?", because: ".concat(n):""))),"isCancelByUser",void 0),i&&(e.stack=i),e.isCancelByUser=null!=o?o:n===r.MANUAL_ABORT_MESSAGE,e}return a(r)}(p(Error));function k(e){return"boolean"==typeof e.isRequestError}m(b,"MANUAL_ABORT_MESSAGE","user manual abort request"),m(b,"MANUAL_ABORT_ERROR",function(){return new b(b.MANUAL_ABORT_MESSAGE,void 0,!0)}),Error},2314:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Y:()=>o});var i={RootMessageId:!0,CLOGGING_TRACE_ID:!0};function o(e){var t={};try{if("object"===n(e)){var r=e.ResponseStatus||e.responseStatus||e.ResponseStatusType,o=r&&(r.Extension||r.extension);if(o)for(var a=0;a<o.length;a++){var s=o[a],c=s.Id||s.id,l=s.Value||s.value;c&&l&&c in i&&(t[c]=l)}}}catch(e){}return t}},6140:(e,t,r)=>{"use strict";r.d(t,{XP:()=>n,Rw:()=>i,F1:()=>o});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:encodeURIComponent,n=[];for(var i in e)if(Object.hasOwnProperty.call(e,i)){var o=e[i];if(t&&null==o)continue;"function"==typeof o?o=o():null===o&&(o=""),n.push("".concat(i,"=").concat(r(void 0===o?"":String(o))))}return n.join("&")};function i(e){return"function"==typeof e.abort}function o(e,t){return e>=200&&e<300||304===e||"file:"===t&&0===e}},4100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_UNION=t.COOKIE_ONLINE_LOCALE=t.COOKIE_ONLINE_CURRENCY=t.COOKIE_H5_LOCALE=t.COOKIE_H5_CURRENCY=t.COOKIE_BFA=void 0,t.COOKIE_ONLINE_LOCALE="ibulocale",t.COOKIE_ONLINE_CURRENCY="cookiePricesDisplayed",t.COOKIE_H5_LOCALE="ibu_h5_local",t.COOKIE_H5_CURRENCY="ibu_h5_curr",t.COOKIE_BFA="_bfa",t.COOKIE_UNION="Union"},2362:(e,t,r)=>{"use strict";t.ej=void 0;r(4100);var n=function(e){if("undefined"==typeof document)return"";var t=document.cookie,r=new RegExp("".concat(e,"=([^;]+);?")),n=t.match(r);return n?n[1]:""};t.ej=n},1303:(e,t,r)=>{"use strict";var n=r(9384),i=r(2521);function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n),s=o(i);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){a.default(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"OfflinePlugin"===e.AppID&&"object"===s.default(window.__CORE_SDK__)&&window.__CORE_SDK__.AppID||(window.__CORE_SDK__=l(l({},window.__CORE_SDK__||{}),e))};t.get=function(e){var t=window.__CORE_SDK__||{};return e?t[e]:t},t.init=function(e){(e||{}).AppID,u(e)},t.set=u},5503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getInternal:()=>f});var n={resObserve:!0,openVitals:!0,injectScript:!1,openUIInspector:"T",uiInspectorBlockCount:30,openBlankCheckInApp:"F",sampleRate:.6,scriptUrl:"https://static.tripcdn.com/packages/ares/nfes-libs/*/dynamic.js",whiteList:["PAYMENT2_","SALESOBJ","SALES_OBJECT","UNION","SALES","AUTHSTORE","HEADSTORE","PAUTH","C_CLEAR_OVERDUE","SOURCEID"],cookieLimit:1024,lsLimit:1048576,indexDBLimit:1048576,openOID:!0,disablesw:!1,swBlackList:[],swVersion:"20250310",blankScreenConfig:{domThreshold:5,threshold:.6},openScreenshot:"F",ubtConfig:{nameRule:{"tripcdn.cn":["bd-s","ws-s","ak-s","aw-s","bd-d","ws-d","ak-d","aw-d"],"tripcdn.com":["bd-s","ws-s","ak-s","aw-s","static","bd-d","ws-d","ak-d","aw-d"],"ctrip.com":["webresource","webresource.english","pic","pic.english"],"c-ctrip.com":["webresource","webresource.english","pic","pic.english","dimg04","images3"],"travix.com":["assets","static-assets","s1"]}},appUaRegex:"/alipayclient|EBKAPP|TRIPEBK|tripPal|ctripVBKwireless|miniprogram|alipayide|aliapp|amapclient|MicroMessenger|APXWebView|CoreInside|IBUCtrip|_Trip.com_|_trainpal_|Feishu TTWebView|Feishu EEMicroApp|((Ctrip|Unicom|Pro|com|Youth|AndroidTV|Discount)_CtripWireless)|((sml|gs|we)_wireless)|Tieyou_TieyouWireless|mode-quickapp|(hap|OPPO/Hybrid)\\/\\d/i"},i=function(e){var t;try{if(!(t=window.__CORE_CONFIG__)){var r=localStorage.getItem("NFES_CORE_cache");r&&(t=JSON.parse(r))}}catch(e){}var i=t||n;if(e){var o=i[e];if(o&&"T"===o.versionCheck){try{for(var a={">":function(e,t){return e>t},">=":function(e,t){return e>=t},"=":function(e,t){return e===t},"<=":function(e,t){return e<=t},"<":function(e,t){return e<t}},s=o.rules||[],l=0;l<s.length;l++){var u=s[l],p=u.ver.match(/([>=<]+)(.+)/);if(p&&p[1]){var d=p[1];if(a[d]&&a[d]("002.000.063",p[2]))return u.value}}}catch(t){c({module:"mobileConfig",category:"getRules-".concat(e),error:t})}return o.defaultValue}return o}return i},o=function(e){e.pureUrl="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),e.captainAppId=(window.__CORE_SDK__||{}).AppID||"",e.fromSDK=!0,e.version="2.0.63",e.framework=(window.__CORE_SDK__||{}).framework;var t=(window.__NFES_DATA__||window.__NEXT_DATA__||{}).assetPrefix;"string"==typeof t&&(e.nfesResVersion=t.split("/").pop())},a=function(e,t,r,n,i){try{window.UBT_API||(window.UBT_API=[]),window.UBT_API.push({type:"send",data:{type:e,key:t,data:r||{}},pvId:n,options:i})}catch(e){}},s=function(e){var t=e.data||{};o(t);var r=e.value;a("metric",e.key,{tag:t,value:void 0!==r?r:r||1},void 0,{force:!!e.force})},c=function(e){try{var t=e.module,r=void 0===t?"unknown":t,n=e.error,i=void 0===n?{}:n,o=e.category,a=void 0===o?"default":o;s({key:"web_core_error",data:{message:i.message||"",stack:"".concat(i.stack)||"",category:a,module:r}})}catch(e){}},l="undefined"!=typeof window,u=/MSIE/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent),p={};try{l&&!window.isAlreadyReStorage&&(window.isAlreadyReStorage=!0,function(){if(l&&!function(){var e,t="TEST_PRIVATE_MODEL";try{window.localStorage.setItem(t,"1"),e=window.localStorage.getItem(t),window.localStorage.removeItem(t)}catch(e){return("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&2===JSON.stringify(window.localStorage).length}return"1"!==e}()&&!u){var e=window.localStorage,t=e.setItem.bind(e);window.localStorage.setItem=(r=[function(){for(var t in e)t.toLowerCase().indexOf("_cache")>=0&&e.removeItem(t)},function(){for(var t in e)(t.indexOf("BMap_tile")>=0||t.indexOf("_AMap_main")>=0)&&e.removeItem(t)},function(){var t=i("whiteList")||[];for(var r in e)t.includes(r)||e.removeItem(r)}],function(e,n,o){try{var a=n&&n.length;a>i("lsLimit")&&!p.setOversize&&(s({key:"web_core_store",data:{category:"setOversize",module:"localStorage",length:a,key:e},value:a}),p.setOversize=!0),t(e,n)}catch(t){if("QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name)throw p.setError||(c({module:"localStorage",category:"setItem",error:t}),p.setError=!0),t;var l=Array.prototype.slice.call(o||r);if(0===l.length)return;l.shift()(),window.localStorage.setItem(e,n,l),p.QuotaExceeded||(s({key:"web_core_store",data:{category:"QuotaExceeded",module:"localStorage"}}),p.QuotaExceeded=!0)}})}var r}())}catch(e){}var d=s,f=function(e){var t=window.__CORE_SERVER__;if(!t)try{t=window.__CORE_SERVER__=JSON.parse(document.getElementById("webcore_internal").textContent)}catch(e){d({key:"web_core_datachannel",data:{status:"parse failed",error:e&&e.message}})}return e?t&&t[e]:t}},648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2930);r(1303),r(5503),r(6558),r(7420),t.default=function(e){var t=n.getI18nAppsKey(e),r=window.__SHARK_ARES_SDK_INTERNAL_RESOURCE__||{},i=window[t]||r[t];return i||new Proxy({},{get:function(){return""}})}},1922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9550),i=r(2930),o=r(7802);r(1303),r(5503),r(6558),r(7420),r(69),r(9384),r(648),t.default=function(e,t,r){var a=(null==t?void 0:t.appID)||i.getDefaultAppID(),s=o.getI18n(a)[a];if(!s)return"";var c=s[null==e?void 0:e.trim().replace(/[\r\n]/g,"")]||"";return n.translateInsertValue(c,r)}},7420:(e,t)=>{"use strict";t.APPID_KEY="AppID",t.L10N_APPID=6002,t.SHARK_DEFAULT_APPID_KEY="sharkDefaultAppID",t.SHARK_JS_CUSTOM_URL_LIST_KEY="sharkJsCustomUrlList",t.SHARK_JS_URL_LIST_KEY="sharkJsUrlList"},7802:(e,t,r)=>{"use strict";var n=r(69),i=r(648),o=function(e){return n.getI18n(e,i.default)};t.getI18n=o,t.getLocalI18n=function(){return n.getLocalI18n(o)}},69:(e,t,r)=>{"use strict";var n=r(9384),i=r(2930),o=r(7420);function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n);t.getI18n=function(e,t){if(Array.isArray(e))return e.reduce(function(e,r){return e[r]=e[i.getI18nAppsKey(r)]=t(r),e},{});var r=t(e);return s.default(s.default({},e,r),i.getI18nAppsKey(e),r)},t.getLocalI18n=function(e){return e(o.L10N_APPID)[o.L10N_APPID]}},9550:(e,t,r)=>{"use strict";var n=r(2930);t.translateInsertValue=function(e,t){var r=e;return n.isUndefined(t)||(n.isNumber(t)||n.isString(t)?r=/{\/\d+}/.test(r)?r.replace(/%\d+\$s/g,t):r.replace(/\$?\{\d+\}|%\d+\$s/g,t):n.isArray(t)&&(r=/{\/\d+}/.test(r)?r.replace(/%(\d+)\$s/g,function(e,r){return t[r-1]||""}):r.replace(/\{(\d+)\}/g,function(e,r){return t[r]||""}).replace(/%(\d+)\$s/g,function(e,r){return t[r-1]||""}))),r}},2930:(e,t,r)=>{"use strict";var n=r(1303),i=r(5503),o=r(6558),a=r(7420);function s(e){return e&&e.__esModule?e:{default:e}}var c=s(o),l=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return!!t.filter(function(t){return c.default(e,t)}).length}},u=l("String"),p=l("Undefined"),d=l("Array");t.getDefaultAppID=function(){return i.getInternal(a.SHARK_DEFAULT_APPID_KEY)||n.get(a.APPID_KEY)},t.getI18nAppsKey=function(e){return"i18n_".concat(e)},t.isArray=d,t.isNumber=function(e){return!(!l("Number")(e)||Number.isNaN(e))},t.isString=u,t.isUndefined=p,t.isValidNum=function(e){return!Number.isNaN(Number(e))&&Number.isInteger(Number(e))}},6558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(Object.prototype.toString.call(e)||"").slice(8,-1);return t?r.toLowerCase()===t.toLowerCase():r}},507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendPvSummary=t.updateLeaveTs=t.handleBeforeUnload=t.processUnhandledReqs=t.updateCacheConfig=t.setVid=t.genVidVal=t.injectUbtSdk=void 0;var n,i=r(8645),o=r(2680),a=r(2593),s=i.__importDefault(r(2783)),c=r(5865);function l(){return"".concat(Date.now(),".").concat((0,s.default)(o.VID_LENGTH))}function u(){if("[object Array]"==Object.prototype.toString.call(window[o.WIN_KEY.UBT_API])){var e=window[o.WIN_KEY.UBT_API]||[];if(!0===e[0])e.shift();else{var t=(0,a.getLocalStorage)(o.LOCAL_KEY.UBT_UNHANDLED,!0)||[];"[object Array]"==Object.prototype.toString.call(t)&&e.unshift.apply(e,i.__spreadArray([],i.__read(t),!1))}for(var r=[];e.length>0;){var n=e.shift();"get"!=n.type&&("register"==n.type&&(n.context={url:a.clientInfo.url,referrer:a.clientInfo.referrer}),window[o.WIN_KEY.UBT_API_TEMP]?window[o.WIN_KEY.UBT_API_TEMP].push(n):r.push(n))}r.length>0?(0,a.setLocalStorage)(o.LOCAL_KEY.UBT_UNHANDLED,JSON.stringify(r)):(0,a.removeLocalStorage)(o.LOCAL_KEY.UBT_UNHANDLED)}}t.injectUbtSdk=(n=!1,function(){try{if(n||window[o.WIN_KEY.UBT_GLOBAL])return;var e=function(e){var t=(0,o.getUbtSdkUrl)(a.clientInfo);t=t.replace("{VERSION}",e);var r=!1;try{var n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);r=n&&parseInt(n[2],10)<69}catch(e){}if(t=t.replace("{LEVEL}",o._bizConfig.isLoadLowerSyntax||(null===a.clientInfo||void 0===a.clientInfo?void 0:a.clientInfo.isIE)||r?"l":"h"),"*"==e){var i=(new Date).toLocaleDateString("zh-cn").replace(/\//g,"");t="".concat(t,"?d=").concat(i)}return t}(function(){try{var e=localStorage.getItem("UBT_CONFIG");return(0,a.JSONParse_Safe)(e).coreVer}catch(e){return"*"}}()),t=document.createElement("script");t.type="text/javascript",t.charset="utf-8","sync"!=window[o.WIN_KEY.UBT_IMODE]&&(t.async=!0,t.setAttribute("defer","defer")),t.setAttribute("crossorigin","anonymous"),t.src=e;var r=document.getElementsByTagName("script")[0];r&&r.parentNode?r.parentNode.insertBefore(t,r):document.getElementsByTagName("body")[0].appendChild(t),n=!0}catch(e){}}),t.genVidVal=l,t.setVid=function(){var e=(0,a.getCookie)(o.LOCAL_KEY.VID_COOKIE),t="";if(!e)if(t=(0,a.getCookie)(o.LOCAL_KEY.BFA_COOKIE),o.REGEX.BFA.test(t)){var r=t.split(".");e="".concat(r[1],".").concat(r[2])}else e=((0,a.getLocalStorage)(o.LOCAL_KEY.BFA_LS,!0)||{}).vid;return e||(e=l(),(0,a.setCookie)(o.LOCAL_KEY.VID_COOKIE,e)),a.clientInfo.vid=e,e},t.updateCacheConfig=function(){return i.__awaiter(this,void 0,void 0,function(){var e,t;return i.__generator(this,function(r){try{e={appId:"5278",categoryList:["ubtconfig"],head:{appid:"5278",cid:a.clientInfo.vid,cver:"000.001",sid:"8892"}},(t=new window.XMLHttpRequest).timeout=5e3,t.open("POST",(0,o.getAppConfigUrl)(a.clientInfo),!0),t.onerror=function(e){},t.onreadystatechange=function(){var e;try{if(t.readyState!==XMLHttpRequest.DONE||200!=t.status)return;var r=JSON.parse(t.responseText||""),n=null===(e=((null==r?void 0:r.configList)||[])[0])||void 0===e?void 0:e.configContent;if(!n)return;var i=JSON.parse(n);o.GLOBAL.ubtConfig=i,localStorage.setItem("UBT_CONFIG",JSON.stringify(i))}catch(e){}},t.send(JSON.stringify(e))}catch(e){}return[2]})})},t.processUnhandledReqs=u,t.handleBeforeUnload=function(e,t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(e){try{d(t),u()}catch(e){}return[2]})})},t.updateLeaveTs=function(e){return i.__awaiter(this,void 0,void 0,function(){var t,r;return i.__generator(this,function(n){return e?(t=Date.now(),"hidden"==(r=document.visibilityState)?e.lastLeaveTs=t:"visible"==r&&(e.leaveTime=(e.leaveTime||0)+(t-e.lastLeaveTs),e.lastLeaveTs=null),[2]):[2]})})};var p=!1;function d(e){var t;if(e&&!p){var r=Date.now(),n=(null===(t=window[o.WIN_KEY.UBT_GLOBAL])||void 0===t?void 0:t.summary)||{},a=n.tag,s=i.__rest(n,["tag"]),l={type:c.UBT_TYPE.METRIC,data:{value:i.__assign({ttl:r-e.startTs,tp:(e.lastLeaveTs||r)-e.startTs-(e.leaveTime||0)},s),tag:a},key:"bbz_ubt_pv_summary"};window[o.WIN_KEY.UBT_API].push({type:"send",triggerTs:r,pvId:e.id,data:l}),p=!0}}t.sendPvSummary=d},2593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONParse_Safe=t.checkLsSupport=t.getLocalStorage=t.setLocalStorage=t.removeLocalStorage=t.getRootDomain=t.setCookie=t.getCookie=t.clientInfo=void 0;var n,i=r(2680);function o(){if(Storage&&localStorage){try{localStorage.setItem("store_test","ok"),localStorage.getItem("store_test"),localStorage.removeItem("store_test")}catch(e){return!1}return!0}return!1}function a(e,t){void 0===t&&(t=null);try{if(!e)return t;var r=JSON.parse(e);return t&&Object.prototype.toString.call(t)!=Object.prototype.toString.call(r)?t:r}catch(e){return t}}t.clientInfo=i.IN_SERVER?null:function(){var e,t=o(),r=!0===i._bizConfig.isOverseas||i.REGEX.TRIP.test(location.host),n=null!=i._bizConfig.isProd?i._bizConfig.isProd:!i.REGEX.TEST_ENV.test(location.host),a=null!=i._bizConfig.isLAN?!!i._bizConfig.isLAN:i.REGEX.LAN.test(location.href),s=window.navigator.userAgent,c=s.indexOf("compatible")>-1&&s.indexOf("MSIE")>-1||s.indexOf("Trident")>-1&&s.indexOf("rv:11.0")>-1||s.indexOf("Edg")>-1,l=!!window.__ubt_ipv6,u=null===navigator||void 0===navigator?void 0:navigator.userAgent,p=i.REGEX.MOBILE.test(u),d=location.href,f=document.referrer,h="https:"!=location.protocol&&"http:"!=location.protocol;try{!f&&opener&&(f=null===(e=null===opener||void 0===opener?void 0:opener.location)||void 0===e?void 0:e.href)}catch(e){}return{isProd:n,isTrip:r,isIE:c,isLAN:a,isSupportLS:t,isIPV6:l,isMobile:p,url:d,referrer:f,isFile:h}}(),t.getCookie=function(e,t,r){var n=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),i=document.cookie.match(n),o=t||"";return i&&(o=r?decodeURI(i[2]):i[2]),o},t.setCookie=function(e,r,n){void 0===n&&(n=i.EXPIRES.COOKIE_MAX);var o=(0,t.getRootDomain)(),a=o?";domain=".concat(o):"",s="";if(n>=0){var c=new Date((new Date).getTime()+n).toUTCString();s=";expires=".concat(c)}document.cookie="".concat(e,"=").concat(encodeURIComponent(r)).concat(a).concat(";path=/").concat(s)},t.getRootDomain=(n="",function(){if(n)return n;for(var e="",t="_bfp=cookie",r=location.hostname.split("."),i=r.length-1;i>=0;i--)if(e="."+r.slice(i).join("."),document.cookie="".concat(t,";domain=").concat(e,";"),document.cookie.indexOf(t)>-1)return document.cookie="".concat(t.split("=")[0],"=;domain=").concat(e,";expires=Thu, 01 Jan 1970 00:00:01 GMT;"),n=e}),t.removeLocalStorage=function(e){return!!(null===t.clientInfo||void 0===t.clientInfo?void 0:t.clientInfo.isSupportLS)&&(window.localStorage.removeItem(e),!0)},t.setLocalStorage=function(e,r){return!!(null===t.clientInfo||void 0===t.clientInfo?void 0:t.clientInfo.isSupportLS)&&(window.localStorage.setItem(e,r),!0)},t.getLocalStorage=function(e,r){if(!(null===t.clientInfo||void 0===t.clientInfo?void 0:t.clientInfo.isSupportLS))return null;var n=window.localStorage.getItem(e);return r?a(n):n},t.checkLsSupport=o,t.JSONParse_Safe=a},2680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._bizConfig=t.GET_TIMEOUT=t.REGEX=t.EXPIRES=t.VID_LENGTH=t.getAppConfigUrl=t.getUbtSdkUrl=t.LOCAL_KEY=t.WIN_KEY=t.GLOBAL=t.IN_SERVER=void 0,t.IN_SERVER="undefined"==typeof window;var n=r(7760).i8;function i(e){return e.isFile?"https:":""}t.GLOBAL={version:n,symbol:!0,ubtConfig:null,enterTs:Date.now()},t.WIN_KEY={INTERNAL_DEBUG:"INTERNAL_DEBUG",UBT_OLD:"$_bf",UBT_COMP:"UBT_COMP",UBT_API:"UBT_API",UBT_ITAG:"UBT_ITAG",UBT_INITTAG:"UBT_INITTAG",UBT_IMODE:"UBT_IMODE",UBT_API_TEMP:"UBT_API_TEMP",UBT_CTOR:"UBT_CTOR",UBT_BIZCONFIG:"UBT_BIZCONFIG",UBT_GLOBAL:"UBT_GLOBAL",UBT_LEAVING_TAG:"UBT_LEAVING_TAG"},t.LOCAL_KEY={BFA_COOKIE:"_bfa",BFA_LS:"UBT_BFA",VID_COOKIE:"UBT_VID",UBT_UNHANDLED:"UBT_UNHANDLED",UBT_CONFIG:"UBT_CONFIG"},t.getUbtSdkUrl=function(e){var t=i(e),r=o(e);return"".concat(t).concat(r)};var o=function(e){return e.isProd?e.isLAN?"//static.ares.ctripcorp.com/packages/ubt/websdk/{VERSION}/ubt.min{LEVEL}.js":"//static.tripcdn.com/packages/ubt/websdk/{VERSION}/ubt.min{LEVEL}.js":"//static.uat.qa.nt.ctripcorp.com/packages/ubt/websdk/{VERSION}/ubt.min{LEVEL}.js"};t.getAppConfigUrl=function(e){var t=i(e),r=a(e);return"".concat(t).concat(r)};var a=function(e){return e.isProd?e.isTrip?"//m.trip.com/restapi/soa2/18088/getAppConfig.json":e.isLAN?"//apigateway.ctripcorp.com/restapi/soa2/18088/getAppConfig.json":e.isIPV6?"//upgrade-m.ctrip.com/restapi/soa2/18088/getAppConfig.json":"//m.ctrip.com/restapi/soa2/18088/getAppConfig.json":"//gateway.m.fws.qa.nt.ctripcorp.com/restapi/soa2/18088/getAppConfig.json"};t.VID_LENGTH=12,t.EXPIRES={COOKIE_MAX:3456e7},t.REGEX={BFA:/^1\.\d+\..{3,12}\.1\.\d+\.\d+\.\d+\.\d+\..+$/,VID:/^\d{10,13}\.[a-zA-Z0-9]{3,12}$/,BFA_COOKIE_NAME:new RegExp("(^| )".concat(t.LOCAL_KEY.BFA_COOKIE,"=([^;]*)(;|$)")),VID_COOKIE_NAME:new RegExp("(^| )".concat(t.LOCAL_KEY.VID_COOKIE,"=([^;]*)(;|$)")),MOBILE:/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i,TEST_ENV:/(\.qa\.nt\.)|(localhost|172\.16|127\.0|10\.15|10\.32)|(\.uat\.)|(\.fws\.)|(\.fat\d*\.)|(\.tripqate\.)|(\.(beta|dev)\.qunar\.)/i,TRIP:/\.trip/gi,LAN:/\.ctripcorp\./gi},t.GET_TIMEOUT=5e3,t._bizConfig=t.IN_SERVER?{}:window[t.WIN_KEY.UBT_BIZCONFIG]||{}},5865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UBT_TYPE=void 0,function(e){e.ACTION="action",e.METRIC="metric",e.TRACE="trace",e.DEV_TRACE="dev_trace",e.PRIVATE_TRACE="private_trace",e.ERROR="error",e.USER_BLOCK="user_block",e.EXPOSURE="exposure"}(t.UBT_TYPE||(t.UBT_TYPE={}))},7956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8645),i=r(2680),o=r(507),a=r(2593),s=n.__importDefault(r(2783)),c=function(){function e(){}return e.genInstKey=function(){return(0,s.default)(6)},e.handlePageBack=function(e){if(a.clientInfo.isMobile&&(window[i.WIN_KEY.UBT_LEAVING_TAG]=!1,window[i.WIN_KEY.UBT_GLOBAL])){var t=window[i.WIN_KEY.UBT_GLOBAL].consumer;t&&t()}},e.handlePageLeave=function(t,r){("visibilitychange"!=r||a.clientInfo.isMobile)&&(window[i.WIN_KEY.UBT_LEAVING_TAG]=!0,(0,o.sendPvSummary)(e.curPv),(0,o.processUnhandledReqs)())},e.init=function(){i.IN_SERVER||window[i.WIN_KEY.UBT_INITTAG]||(window[i.WIN_KEY.UBT_INITTAG]=!0,window[i.WIN_KEY.UBT_API]=window[i.WIN_KEY.UBT_API]||[],window[i.WIN_KEY.UBT_COMP]=i.GLOBAL,a.clientInfo.isMobile&&window.addEventListener("unload",function(t){return e.handlePageLeave(t,"unload")}),window.addEventListener("beforeunload",function(t){return e.handlePageLeave(t,"beforeunload")}),document.addEventListener("visibilitychange",function(t){(0,o.updateLeaveTs)(e.curPv),"hidden"==document.visibilityState?e.handlePageLeave(t,"visibilitychange"):e.handlePageBack(t)}),(0,o.setVid)(),window[i.WIN_KEY.UBT_ITAG]||((0,o.injectUbtSdk)(),window[i.WIN_KEY.UBT_ITAG]=!0),(0,o.updateCacheConfig)())},e.register=function(t,r){if(!i.IN_SERVER)try{var n=r;return n||(n=e.genInstKey()),e.pushUbtApi({type:"register",data:t,pvId:n}),n}catch(e){return null}},e.send=function(t,r){try{return e.pushUbtApi({type:"send",data:t,pvId:r})}catch(e){return{success:!1,message:null==e?void 0:e.message}}},e.set=function(t,r){try{return e.pushUbtApi({type:"set",data:t,pvId:r})}catch(e){return{success:!1,message:null==e?void 0:e.message}}},e.get=function(t,r,o){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){return[2,new Promise(function(n,a){try{var s=setTimeout(function(){n(null)},null!=o?o:i.GET_TIMEOUT);e.pushUbtApi({type:"get",data:{name:t,timeout:o,handleResolve:function(e){clearTimeout(s),n(e)},handleReject:function(e){clearTimeout(s),a(e)}},pvId:r})}catch(e){n(null)}})]})})},e.getSync=function(t,r){if(window[i.WIN_KEY.UBT_API].rewrited)return e.pushUbtApi({type:"get",data:{name:t,sync:!0},pvId:r})},e.pushUbtApi=function(t){var r=Date.now();return"register"==t.type&&(e.curPv&&(0,o.sendPvSummary)(e.curPv),e.curPv={startTs:r,id:t.pvId}),window[i.WIN_KEY.UBT_API].push(n.__assign(n.__assign({},t),{triggerTs:r}))||{success:!0}},e.genVid4SSR=function(e,t){var r,n,a;if(i.IN_SERVER)try{var s=null===(r=null==e?void 0:e.req)||void 0===r?void 0:r.headers;if(!s||"function"!=typeof(null===(n=null==e?void 0:e.res)||void 0===n?void 0:n.setHeader))return;var c=s.cookie||"",l=(c.match(i.REGEX.BFA_COOKIE_NAME)||[])[2],u=null==l?void 0:l.split("."),p=void 0;if(i.REGEX.BFA.test(l)&&u.length>6&&(p="".concat(u[1],".").concat(u[2])),!p){var d=(c.match(i.REGEX.VID_COOKIE_NAME)||[])[2];i.REGEX.VID.test(d)&&(p=d)}var f=e.res.getHeader("Set-Cookie")||[];if("[object Array]"!=Object.prototype.toString.call(f)&&(f=[f]),!p)for(var h=0;h<f.length;h++){var y=f[h];if(y.indexOf(i.LOCAL_KEY.VID_COOKIE)>=0){p=(y.match(i.REGEX.VID_COOKIE_NAME)||[])[2];break}}if(!p){p=(0,o.genVidVal)();var m=null==t?void 0:t.domain;if(!m){var g=null===(a=s.host)||void 0===a?void 0:a.split(/:\d+/)[0];if(/(\d{1,3}\.){3}\d{1,3}/g.test(g))m=g;else{var v=g.split(".");m="".concat(v.length>2?".":"").concat(v.slice(-2).join("."))}}var _=new Date((new Date).getTime()+i.EXPIRES.COOKIE_MAX).toUTCString(),w="".concat(i.LOCAL_KEY.VID_COOKIE,"=").concat(p,";domain=").concat(m,";path=/;expires=").concat(_);f.push(w),e.res.setHeader("Set-Cookie",f)}return p}catch(e){}},e.getCid4SSR=function(){},e.setCid4SSR=function(){},e}();c.init(),t.default=c,n.__exportStar(r(5865),t)},7376:(e,t,r)=>{"use strict";var n=r(1922);e.exports=n},2538:(e,t,r)=>{var n;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/}!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=c(e,s(r)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==i(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)o.call(e,r)&&e[r]&&(t=c(t,r));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===i(r.amdO)&&r.amdO?void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n):window.classNames=a}()},796:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,p,d,f,h=e[l].replace(a,"%20"),y=h.indexOf(n);y>=0?(u=h.substr(0,y),p=h.substr(y+1)):(u=h,p=""),d=decodeURIComponent(u),f=decodeURIComponent(p),t(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},7450:e=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r=function(e){switch(t(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,o){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"===t(e)?Object.keys(e).map(function(t){var o=encodeURIComponent(r(t))+i;return Array.isArray(e[t])?e[t].map(function(e){return o+encodeURIComponent(r(e))}).join(n):o+encodeURIComponent(r(e[t]))}).join(n):o?encodeURIComponent(r(o))+i+encodeURIComponent(r(e)):""}},9096:(e,t,r)=>{"use strict";t.decode=t.parse=r(796),t.encode=t.stringify=r(7450)},7872:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}r.r(t),r.d(t,{__extends:()=>o,__assign:()=>a,__rest:()=>s,__decorate:()=>c,__param:()=>l,__metadata:()=>u,__awaiter:()=>p,__generator:()=>d,__createBinding:()=>f,__exportStar:()=>h,__values:()=>y,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__await:()=>_,__asyncGenerator:()=>w,__asyncDelegator:()=>b,__asyncValues:()=>k,__makeTemplateObject:()=>C,__importStar:()=>I,__importDefault:()=>O,__classPrivateFieldGet:()=>S,__classPrivateFieldSet:()=>E});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function o(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function c(e,t,r,i){var o,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(a<3?o(s):a>3?o(t,r,s):o(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{(r=i[e](t)).value instanceof _?Promise.resolve(r.value.v).then(c,l):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:_(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},1496:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u,mi:()=>s,h7:()=>c});var n=r(1375),i=r(8862),o=r(4e3);r(3706);let a=e=>e.peopleApplicableInfo&&e.peopleApplicableInfo.serialNumber||"";const s=e=>{if(0===e.tagInfos.length)return;if(e.tagInfos.length>1)return" ";let{tagDesc:t,tag:r}=e.tagInfos[0],n=t.indexOf(r),i=n+r.length-1,o=[];for(let e=0;e<t.length;e++)if(e===n&&o.push({isdefault:!0,text:t.slice(0,n)}),e===i&&o.push({isdefault:!1,text:r}),e>i&&t.length>i){o.push({isdefault:!0,text:t.slice(i+1)});break}return o},c=e=>({abtests:e[0].data.abtests||[]}),l={Calendar:{},Resource:{},init(e,t={},r){l.Calendar=e[0].data.priceAndStockInfos,l.Resource=e[0].data;let n={};l.getBasicInfo(n,r),l.getCalendar(n,t),l.getPerson(n),l.getResource(n),l.getDateResource(n,t);let i=e[0].data;return Object.assign(Object.assign({},n),{reqSkuData:i,productInfoData:e[1]?e[1].productInfos:null,preferenceData:e[2]?e[2].data:null})},getBasicInfo(e,t){e.basicInfo={priceMode:l.Resource.basicInfo&&l.Resource.basicInfo.priceMode||"S",maxBookingDays:l.Resource.basicInfo?l.Resource.basicInfo.maxBookingDays:"",minBookingDays:l.Resource.basicInfo?l.Resource.basicInfo.minBookingDays:"",isWIFI:!!l.Resource.basicInfo&&"wifi"==l.Resource.basicInfo.categoryTemplateCode,minQuantity:l.Resource.minQuantity||0,pageTitle:l.Resource.basicInfo?l.Resource.basicInfo.pageTitle:"",inChina:l.Resource.basicInfo?l.Resource.basicInfo.inChina:"",effectiveDateDesc:l.Resource.basicInfo?l.Resource.basicInfo.effectiveDateDesc:"",useType:l.Resource.basicInfo&&l.Resource.basicInfo.usageTimeLimit?l.Resource.basicInfo.usageTimeLimit.useType:null,spotid:"",aggregations:l.Resource.aggregations||!1},e.unavailableSaleDates=l.Resource.unavailableSaleDates||null},getCalendar(e,t){const{ctx:r}=t;e.date={minDate:l.Calendar[0].date,maxDate:l.Calendar[l.Calendar.length-1].date,priceMode:e.basicInfo.priceMode,disabled:{},holiday:{},price:{},showText:{start:"M"!==e.basicInfo.priceMode||(0,n.By)(r).channel===o.CE.trip?"":(e.basicInfo.isWIFI," "),end:"M"!==e.basicInfo.priceMode||(0,n.By)(r).channel===o.CE.trip?"":(e.basicInfo.isWIFI," ")},currency:`${(0,i.Z)("key.v.page.listpage.currency"," ",null,null,r)}: ${(0,n.Fs)(r).currency}`}},getPerson(e){const{resourceInfos:t}=l.Resource;let r={},n={};t.map(e=>{void 0!==r[e.templateSettingItemCode]?n[e]+=1:n[e]=0,r[e.templateSettingItemCode+a(e)]={title:e.resourceName||"Stand"===e.templateSettingItemCode&&" ",description:e.peopleApplicableInfo?e.peopleApplicableInfo.resourceDesc:"",support:{}},e.mixedIds.map(t=>{r[e.templateSettingItemCode+a(e)].support[t]=!0})}),e.person={total:0,items:r,start:0}},getResource(e){const{saleProperties:t,packageInfos:r,basicInfo:{productId:n}}=l.Resource;let i=[],o={},s={},c={},u={},p=t.map(t=>{let r={};const{salesProperty:n,salesPropertyValues:o,salesPropertyImgUrls:a}=t;n.hide&&(e.basicInfo.needHide=!0);let s={title:n.salesPropertyName,id:n.salesPropertyId,items:r,showItems:[],salesPropertyImgUrls:a,isHide:n.hide};return o&&o.map(e=>{r[e.salesPropertyId]=e.salesPropertyName,s.showItems.push({key:e.salesPropertyId.toString(),name:e.salesPropertyName,carInfo:e.carInfo||null})}),i.push(s),t.salesProperty.salesPropertyId});r.map(e=>{const{packageId:t,salesProperties:r,resourceInfos:i}=e;o[t]=[],s[t]={},e.packageIntroduction&&(c[t]={title:e.packageIntroduction,status:!1}),r.map(e=>{e.salesPropertyValues.map(r=>{e.salesProperty.salesPropertyId&&p.indexOf(e.salesProperty.salesPropertyId)>-1&&(o[t][p.indexOf(e.salesProperty.salesPropertyId)]=r.salesPropertyId.toString())})}),i.map(e=>{s[t][e.templateSettingItemCode+a(e)]={max:e.maxQuantity,start:e.minQuantity,only:e.canBuyAlone,name:e.resourceName,resourceId:e.resourceId,tags:e.tags,limitSaleDesc:e.limitSaleDesc,token:e.token,productId:e.productId||n,subName:e.subName}}),u[t]={min:e.minPackageSaleCount,max:e.maxPackageSaleCount}}),e.resource={items:i,map:o,person:s,description:c,options:u}},getDateResource(e,t){const{ctx:r}=t;let i={};const{priceAndStockInfos:s,packageInfos:c,resourceInfos:u,saleProperties:p}=l.Resource;let d=p.map(e=>e.salesProperty.salesPropertyId);const{items:f}=e.person;let h=!0;(!e.basicInfo.spotid&&"Stand"!=u[0].templateSettingItemCode&&"Adult"!=u[0].templateSettingItemCode||e.basicInfo.aggregations)&&(h=!1);let y="Stand"==u[0].templateSettingItemCode&&u.length>1,m=h?u[y?1:0].templateSettingItemCode:"",g=a(u[y?1:0]);s.map(e=>{let t=e.packagePriceAndStockInfos;null===t||(i[e.date]={supportResource:[],supportPerson:{}},t.map(t=>{let s=t.packageId,l=[];for(let t=0;t<c.length;t++)if(c[t].packageId==s){l=c[t].resourceInfos;let r=[],n=i[e.date].supportResource,o=c[t].salesProperties;for(let e=0;e<o.length;e++){let t=o[e].salesPropertyValues,n=o[e].salesProperty;for(let e=0;e<t.length;e++)n.salesPropertyId&&d.indexOf(n.salesPropertyId)>-1&&(r[d.indexOf(n.salesPropertyId)]=t[e].salesPropertyId.toString())}n.push(r.join("-"));break}const{resourcePriceAndStockInfos:u}=t;let p=i[e.date].supportPerson;p[s]={};let h=0,y="",v=!1;u&&u.map(e=>{for(let t in f)if(f[t].support[e.resourceId]){y=t,p[s][t]={price:e.salePrice,min:e.minQuantity,max:e.maxQuantity,count:e.inventoryNum},e.salePrice||l.map(e=>{e.templateSettingItemCode+a(e)===t&&(p[s][t].free=e.feeFree)}),(0,n.By)(r).channel===o.CE.trip&&e.marketPrice&&(p[s][t].linePrice=e.marketPrice);break}y===m+g?(h=e.salePrice,v=!0):!1===v&&e.salePrice>0&&(h=0===h?e.salePrice:Math.min(e.salePrice,h))}),p[s].minPrice=h,p[s].max=t.maxQuantity,p[s].min=t.minQuantity,v&&(p[s].personType=m)}))}),e.dateResource=i,e.minPricePerson=m,e.minPricePersonSerial=g}},u=l},5871:(e,t,r)=>{"use strict";r.r(t)},8665:(e,t,r)=>{"use strict";r.r(t)},6517:(e,t,r)=>{"use strict";r.r(t)},3880:(e,t,r)=>{"use strict";r.r(t)},3798:(e,t,r)=>{"use strict";r.r(t)},5687:(e,t,r)=>{"use strict";r.r(t)},9007:(e,t,r)=>{"use strict";r.r(t)},8044:(e,t,r)=>{"use strict";r.r(t)},1507:(e,t,r)=>{"use strict";r.r(t)},3842:(e,t,r)=>{"use strict";r.r(t)},4629:(e,t,r)=>{"use strict";r.r(t)},8037:(e,t,r)=>{"use strict";r.r(t)},6496:(e,t,r)=>{"use strict";r.r(t)},8118:(e,t,r)=>{"use strict";r.r(t)},4858:(e,t,r)=>{"use strict";r.r(t)},4034:(e,t,r)=>{"use strict";r.r(t)},2890:(e,t,r)=>{"use strict";r.r(t)},3686:(e,t,r)=>{"use strict";r.r(t)},9697:(e,t,r)=>{"use strict";r.r(t)},813:(e,t,r)=>{"use strict";r.r(t)},4329:(e,t,r)=>{"use strict";r.r(t)},554:(e,t,r)=>{"use strict";r.r(t)},9926:(e,t,r)=>{"use strict";r.r(t)},8525:(e,t,r)=>{"use strict";r.r(t)},7918:(e,t,r)=>{"use strict";r.r(t)},7598:(e,t,r)=>{"use strict";r.r(t)},4395:(e,t,r)=>{"use strict";r.r(t)},963:(e,t,r)=>{"use strict";r.r(t)},2827:(e,t,r)=>{"use strict";r.r(t)},5737:(e,t,r)=>{"use strict";r.r(t)},9301:(e,t,r)=>{"use strict";r.r(t)},277:(e,t,r)=>{"use strict";r.r(t)},3368:(e,t,r)=>{"use strict";r.r(t)},2304:(e,t,r)=>{"use strict";r.r(t)},1814:(e,t,r)=>{"use strict";r.r(t)},3804:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__3804__},7196:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__7196__}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Ni});var e=__webpack_require__(3804),t=__webpack_require__.n(e),r=__webpack_require__(449),n=__webpack_require__(9723),i=__webpack_require__(1375),o=__webpack_require__(4e3),a=null,s={},c=[],l=!0,u=function(){return c[c.length-1]},p=function(e){return e?c[c.length-e]:""},d=null,f=null,h=null,y=null,m=null,g=(0,i.Fs)(),v=__webpack_require__(4135);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:decodeURIComponent;if("string"!=typeof e)return{};var n={};return e.split("&").forEach(function(e){var i=_(e.split("="),2),o=i[0],a=i[1];if(o){var s=function(e,t){if(!e)return"";try{return t(e)}catch(t){return e}}(a,r),c=n[o];c&&!t?function(e){return"[object Array]"===Object.prototype.toString.call(e)}(c)?c.push(s):n[o]=[c,s]:n[o]=s}}),n}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t,r){if(!e)return"";if("string"!=typeof e)return"";var n=k(e.split("?"),2),i=n[0],o=n[1];if(!i)return e;try{var a=(r||{}).isCover,s=t.locale,c=t.currency,l=(o?b(o,!0):{})||{},u=s,p=c;a||(u=l.locale||s,p=l.curr||l.currency||c),l.locale=u,l.curr=p,delete l.currency;var d="".concat(i||"","?").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:encodeURIComponent,n=[];for(var i in e)if(Object.hasOwnProperty.call(e,i)){var o=e[i];if(t&&null==o)continue;"function"==typeof o?o=o():null===o&&(o=""),n.push("".concat(i,"=").concat(r(void 0===o?"":String(o))))}return n.join("&")}(l));return d}catch(t){return e}}var O=function(){return O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},S=function(e){try{var t="";for(var r in t=e.indexOf("?")>-1?"&":"?",smart.query)r.startsWith("ext-")&&(t+="".concat(r,"=").concat(smart.query[r],"&"));e+=t=t.slice(0,-1)}catch(e){}return e},E=function(e,t,n,u,p,d,f,y){var m,g=e;try{if("none"!==(0,v.ud)()&&d){f=f||{};var _="";_=e&&e.indexOf("//")>-1?e:location.origin+e;var w=O({url:encodeURIComponent(_),needLogin:!0},f),b="/cwx/component/cwebview/cwebview?data="+JSON.stringify(w);return void window.cmpBridge.navigateTo({url:b})}}catch(e){}if(h)r.S1.sendPVFlag=!1,h(e,t,n);else{var k=(m=(0,i.Fs)()).platform;if(m.isMiniProgram,p&&window.CtripUtil)return void window.CtripUtil.app_open_url(e,2);if(e=I(e,{locale:(0,i.Fs)().language,currency:(0,i.Fs)().currency}),"none"!==(0,v.ud)()&&!(0,v.$r)()&&e.startsWith("/pages/"))return void window.cmpBridge.navigateTo({url:e});if(e.indexOf("//")>-1&&u)e=S(e),window&&window.open(e);else if(e.indexOf("//")>-1)k===o.Jv.Hybrid&&window.CtripUtil?-1==e.indexOf("ctrip://")?window.CtripUtil.app_open_url(e,2):window.CtripUtil.app_open_url(e,1):(e=S(e),location.href=e);else if(0===e.indexOf("/")){if((0,v.$r)()&&e.indexOf("/pages/")>-1)return void window.cmpBridge.navigateTo({url:e});b=""+((0,i.By)().channel!==o.CE.trip||k!==o.Jv.H5||y||"/m/"===e.slice(0,3)?e:"/m"+e),b=S(b),!u&&(location.href=b),u&&window&&window.open(b)}else!function(e,t,r){if(l){var n="slideVertical";r&&r.pageShowSlide&&"slideFromRight"==r.pageShowSlide&&(n="slideHorizontal"),null==s[e]?(s[e]={Component:t,fclass:n,show:"",pageId:e},a.state.Page.push(s[e])):s[e].show="",s[e],c.push(e),s[e].fclass=n,a.setState({Page:a.state.Page},function(){setTimeout(function(){s[e].fclass=n+" slideUp",s[e].data=r,a.setState({Page:a.state.Page})})})}}(g,t,n)}},P=function(e,t){if(f)f(e);else if(e&&(e.indexOf("//")>-1||0===e.indexOf("/"))){if("none"!==(0,v.ud)()&&!t)return void(window.cmpBridge&&window.cmpBridge.navigateBack?window.cmpBridge.navigateBack():wx.miniProgram.navigateBack());history.length>1?history.back():(0,i.Fs)().isInApp?g.isInApp&&g.platform===o.Jv.H5&&window.CtripPage&&window.CtripPage.back&&window.CtripPage.back():E(e)}else!function(e){e=c.pop();var t=c[c.length-1];s[e],s[t],l=!1,s[e].fclass=s[e].fclass.split(" ")[0],s[t].show="",a.setState({Page:a.state.Page})}(e)},x=function(e,t,r){y&&y(e,t,r)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(d||u).apply(void 0,e)},N=function(e){return(m||p)(e)},A=__webpack_require__(1501),R=__webpack_require__(8862),D=null,L=__webpack_require__(7009),M="toast",j=__webpack_require__(3295),B={},U=B;const H=function(e,t,r){var n=t||"";B[e]&&B[e].show&&B[e].show(n,r)},F=function(e){null!=e?B[e]&&B[e].hide&&B[e].hide():Object.keys(B).forEach(function(e){B[e]&&B[e].hide&&B[e].hide()})},K=function(e){if(null!=e)return B[e]&&B[e].hide&&B[e].isShow()},W={show:function(e,t,r){void 0===t&&(t=2e3),function(e){if(""===e||null==e)return!1;var t=(e.match(/[\x00-\xff]/g)||[]).length,r=t+2*(e.length-t),n=(0,i.By)().platform;return r>40&&"Online"!==n&&(j.Z.show({title:e,btnOK:[(0,R.Z)("key.v.page.orderdetail.dialog.ok"," ")],btnCallBack:[function(){}],onClose:function(){}}),!0)}(e)||(D?D(e):null!=r&&"Online"==(0,i.By)().platform?H(r,e):e&&(L.Z.get(M).assistComponent.props.content=e,L.Z.get(M).assistComponent.props.visible=!0,L.Z.change(M),setTimeout(function(){L.Z.get(M).assistComponent.props.visible=!1,L.Z.change(M)},t)))},hide:function(e){F(e)}};var q=__webpack_require__(4713),J=__webpack_require__(810);const $=(0,e.createContext)("");var G=__webpack_require__(4145);const V={formatTagContent:__webpack_require__(1496).mi,initSku:__webpack_require__(1496).ZP.init,skuAbTest:__webpack_require__(1496).h7};var z=null,Y=null,Q=null,Z=null,X=function(e,t,r,n){var o,a;if((0,i.Fs)().isNativeMini){var s=(o=n||{}).context,c=void 0===(a=o.timer)?0:a;setTimeout(function(){!function(){var r=te.contextMap[e]||s||{};if(r.wx){var n=r.wx.createSelectorQuery();n.select(e).boundingClientRect(),n.exec(function(e){var r=e[0]&&e[0].height,n=e[0]&&e[0].width;t&&t({height:r,width:n})})}}()},c)}else z?z(e,t,r):t(e&&e.getBoundingClientRect())},ee=function(e){Y&&Y(e)},te={contextMap:{},registerContext:function(e,t){te[e]||(te.contextMap[e]=t)}},re=function(e,t){var r=e;return(0,i.Fs)().isNativeMini&&(r=te.contextMap[t])&&r.wx&&delete r.wx.reactInstance,r};let ne=null;const ie=ne;__webpack_require__(5230);var oe=__webpack_require__(853);(0,i.By)().channel,o.CE.trip;var ae=__webpack_require__(6236);const se=()=>{try{const{language:e,union:{aid:t,ouid:r,sid:n},currency:o}=(0,i.Fs)();let a=e?e.split("-"):["",""],s=ae.Z.get("_bfa"),c=s?s.split("."):new Array(10).fill("");return{prd_type:"tnt",locale:e,language:a[0],region:a[1],allianceID:t,allianceSid:n,ouid:r,vid:`${c[1]}.${c[2]}`,sessionid:c[6],pvid:c[7]||"",currency:o}}catch(e){return{}}};var ce=function(e){if("undefined"==typeof document)return"";var t=document.cookie,r=new RegExp("".concat(e,"=([^;]+);?")),n=t.match(r);return n?n[1]:""},le=__webpack_require__(2444),ue=function(){var e=(ce("_bfa")||"").split(".");return{clickId:window.__IBU_METRIC_CLICKID__||"",url:window.location.href,ua:window.navigator.userAgent,clickTime:(new Date).getTime(),referrer:document.referrer,vid:e[1]+"."+e[2],sid:e[6],pvid:e[7]}};const pe=e=>{const t=window.location.href.split("?")[1]||"";return`${e}${t?"&"+t:""}`},de=e=>{let t=(e=>{let t="";switch(e){case"10650010429":case"10650012751":t="/rn_ibu_localtone/_crn_config?CRNModuleName=ibulocaltone&CRNType=1&initialPage=productdetail";const e=/detail\/([0-9]+)/,r=window.location.href.match(e),n=r?r[1]:"";n&&(t+=`&productid=${n}`),t=pe(t);break;case"10650012753":case"10650010430":case"10650012752":t="";break;case"10650012750":case"10650012671":t="/rn_ibu_localtone/_crn_config?CRNModuleName=ibulocaltone&CRNType=1&initialPage=list",t=pe(t);break;default:t="error"}return t})(String(e)||"");return"error"===t||(t=t?"ctripglobal://crn"+t:""),t},fe=e=>{if(!e||"undefined"==typeof window)return;const t=de(e);"error"!==t&&function(e){var t=e.pageId,r=e.deepLink,n=e.businessType,i=Object.assign({},ue(),{pageId:t,deepLink:r,attributionType:"CLICK",businessType:n});le.W.post("/restapi/soa2/23361/bjjson/generateClickId",Object.assign({},i)).catch(function(e){})}({deepLink:t,pageId:String(e),businessType:"TNT"})};let he=function(e,t){};he=__webpack_require__(7937).default;const ye={"product-detail":"tkt_2100004","product-sku":"tkt_2100005","list-mix":"tkt_1100004","list-mix-search":"tkt_4100001"},me={"product-detail":"tkt_1100007","product-sku":"tkt_1100009","list-mix":"tkt_1100004","list-mix-search":"tkt_4100001"},ge={"product-detail":"tkt_2100006"};let ve="web";(0,i.Fs)().platform==o.Jv.RN&&(ve="crn");const _e=new he({ubtKey:"km_ticket_trace_log",platform:ve,organizationId:"42"},function(){}),we=e=>{if(!(0,i.sk)())try{const t=Object.assign({devKey:"km_ticket_trace_log"},e);if("logError"==(null==t?void 0:t.devType))_e.logError(t);else if("pageinfo"===t.action){const e={contents:t.contents};_e.logPageInfo(e)}else t.jsonData=Object.assign(Object.assign({},t.jsonData),{from:"T",bizetype:"ttd"}),_e.logActionInfo(t)}catch(e){}},be={contentsMap:{pageID:"pageID",productId:"productId",channel:"channel",version:"version",currency:"currency",locale:"locale"},ROLE:"sys",attrs:[],errorCodeList:[],getErrorCodeList(){return this.errorCodeList},setErrorCodeList(e){0===this.errorCodeList.length&&e({params:{keys:["booking_block_trace_code_mapping"]}}).then(e=>{this.errorCodeList=e.Response.booking_block_trace_code_mapping||[]})},getAttrs(){return this.attrs},setAttrs(e){this.attrs=e},init(e){const t=this.contentsMap,{productId:r,pageID:n,channel:i="app",version:o,currency:a,locale:s}=e;this.setAttrs([{key:"productId",value:r}]);const c=[{key:t.pageID,value:n},{key:t.productId,value:r},{key:t.channel,value:"h5"},{key:t.version,value:o},{key:t.currency,value:a},{key:t.locale,value:s}];we({attrs:this.getAttrs(),role:this.ROLE,action:"pageinfo",desc:"基本信息",contents:c})},__handleFormatError({err:e,apiName:t,pageName:r}){var n,i;const o=me[r],a="主接口数据异常",s="无";let c=s;try{c=e?null===(n=e.stack)||void 0===n?void 0:n.slice(0,2e3):s}catch(t){c=e?null===(i=e.stack)||void 0===i?void 0:i.slice(0,200):s}const l={attrs:this.getAttrs(),action:"show",role:this.ROLE,module:"可订阻断",scene:"主接口数据异常",key:o,value:a,jsonData:{value:a,errorMsg:e?e.message:s,errorStack:c,apiName:t}};we(l)},handleFormatError({err:e,apiName:t,pageName:r}){try{this.__handleFormatError({err:e,apiName:t,pageName:r})}catch(e){}},_sendBlockWithErrorCode({pageName:e}){let t="可订阻断",r="资源不可订",n="产品已售罄,请选择其他产品吧";"list-mix"!==e&&"list-mix-search"!==e||(t="list-mix-search"===e?"搜索无结果":"主接口数据异常",n="list-mix-search"===e?"搜索无结果":"主接口数据异常",r="list-mix-search"===e?"搜索无结果":"主接口数据异常",t="混排阻断");const i={attrs:this.getAttrs(),action:"show",role:this.ROLE,module:t,scene:r,value:n,key:ye[e],jsonData:{value:n}};we(i)},sendBlockWithErrorCode({pageName:e}){try{this._sendBlockWithErrorCode({pageName:e})}catch(e){}},__handleNotAvailable({pageName:e}){const t="当前产品不可售",r={attrs:this.getAttrs(),action:"show",role:this.ROLE,module:"可订阻断",scene:"资源不可订",value:t,key:ge[e],jsonData:{value:t}};we(r)},handleNotAvailable({pageName:e}){try{this.__handleNotAvailable({pageName:e})}catch(e){}},blockMap:{travelQuantityType:{scene:"点击预订",value:"还需选择X位游客",key:"tkt_3100003"},additionInfo:{scene:"点击预订",value:"联系信息不全,请输入正确的联系信息",key:"tkt_3100004"},contactInfo:{scene:"点击预订",value:"附加信息不全",key:"tkt_3100018"},policyChecked:{scene:"点击预订",value:"请阅读并同意下方授权内容",key:"tkt_3100007"},passangerMiss:{scene:"常旅保存失败",value:"出行人信息不全,请输入正确的出行人信息",key:"tkt_3100010"},passangerSave:{scene:"常旅保存失败",value:"常旅保存失败",key:"tkt_1100005"}},bookingBlock(e){let{productId:t,module:r,jsonDataValue:n,blockType:i,type:o}=e;n||(n=this.blockMap[i].value),we(Object.assign({attrs:[{key:"productId",value:t}],role:"FROMFE"==o?"usr":"sys",action:"FROMFE"==o?"click":"show",module:r,jsonData:{value:n}},this.blockMap[i]))},sendLogError(e,t,r){const n={devType:"logError",pageName:r,message:e,errorType:r,ex:{message:"tnt_SOA_Ack_Fail_detail"==r?"请求参数错误":"网络错误",errData:t}};try{we(n)}catch(e){}}};let ke=null,Ce=!0;class Ie extends A.Z{constructor(e){var t;if(super(e),this.isNativeMini=!1,this.IBUShark=(e,t,r,n)=>(0,R.Z)(e,t,r,n,this.req),this.log=r.cM,this.http=(e,t)=>{const r=this.props.pageId||"";if(this.setUniqueKey(t),e&&e.success){const t=e.success,r=r=>{var n;try{r.ResponseStatus=r.ResponseStatus||r.responseStatus,"Success"!==(null===(n=r.ResponseStatus)||void 0===n?void 0:n.Ack)&&be.sendLogError(null==e?void 0:e.actionUrl,r,"tnt_SOA_Ack_Fail_detail")}catch(e){}t&&t(r)};e.success=r}if(t&&t.success){const e=t.success,r=(r=[])=>{try{r.forEach((e,r)=>{var n,i,o,a,s;e.ResponseStatus=e.ResponseStatus||e.responseStatus;try{"Success"!==(null===(n=e.ResponseStatus)||void 0===n?void 0:n.Ack)&&be.sendLogError(null===(o=null===(i=null==t?void 0:t.list)||void 0===i?void 0:i[r])||void 0===o?void 0:o.actionUrl,e,"tnt_SOA_Ack_Fail_detail")}catch(e){be.sendLogError(null===(s=null===(a=null==t?void 0:t.list)||void 0===a?void 0:a[r])||void 0===s?void 0:s.actionUrl,e,"tnt_SOA_Network_Fail_detail")}})}catch(e){}e&&e(r)};t.success=r}Ie.http(e,t,r)},this.setUniqueKey=e=>{var t;const r=((e,t)=>{if((0,i.sk)()){let e=t.req||{};return Object.assign(Object.assign({},(0,oe.H)(e).regexParam),(0,oe.H)(e).query).pid}if((0,i.By)().platform==o.Jv.RN){let{app:r}=t.props;return r&&r.urlQuery&&r.urlQuery[e]&&decodeURIComponent(r.urlQuery[e])||""}{let t=new RegExp(`(^|&)${e}=([^&]*)(&|$)`),r=window.location.search.substr(1).match(t);return r&&r.length>1?decodeURIComponent(r[2]):""}})("uniquekey",this);if(!e||!r)return;const n=["getProductPriceCalendar","getProductInfo","productDetail"];null===(t=null==e?void 0:e.list)||void 0===t||t.forEach(e=>{n.forEach(t=>{e.actionUrl.includes(t)&&(e.request.tags=[],e.request.tags.push({key:"uniquekey",value:r}))})})},this.toast=W,this.push=(...e)=>{const t=this.props.pageId||"",n=T(t)||"";this.isRN?(0,r.fU)({key:"ttd_dev_pagenext_click",pageId:this.props.pageId||"10650019404"},"__devtracelog"):fe(n),E.apply(null,[...e])},this.pop=P,this.replace=x,this.isDarkmode=()=>{let e;return e=(0,i.By)().channel===o.CE.trip&&"dark"===this.context&&(0,i.By)().platform===o.Jv.RN,e},this.alert=j.Z,this.getRef=re,this.trackGaPageView=(e,t)=>{this.isTrip&&this.isRN&&ie.traceScreenView({screen_name:e,page_id:t,module:"tnt"})},this.req=this.props.req&&(ke=this.props.req)||ke,this.header=(0,i.Fs)(this.req),this.system=(0,i.By)(this.req),this.isCtrip=this.system.channel===o.CE.ctrip,this.isTrip=this.system.channel===o.CE.trip,this.channel=this.system.channel,this.platform=this.system.platform,this.isRN=this.platform===o.Jv.RN,this.isH5=this.platform===o.Jv.H5,this.isOnline=this.platform===o.Jv.Online,this.appUrlQuery=null===(t=null==e?void 0:e.app)||void 0===t?void 0:t.urlQuery,this.isServer=(0,i.sk)(),!Ce&&this.isRN)try{W.show(" 0.1.02"),Ce=!0}catch(e){}(0,i.Fs)().isNativeMini&&(this.isNativeMini=!0,this.state={}),(0,G._5)(V)}getInitState(){return(0,i.sk)()||q.r.get(null,"locale")?(0,i.sk)()&&this.props.modal?this.props.modal:!(0,i.sk)()&&q.r.get(null,"initData")?q.r.get(null,"isNotFullSSR")?Object.assign(q.r.get(null,"initData"),this.state):q.r.get(null,"initData"):this.state:this.state}static getCtripHead(e,t){const{language:n,currency:a,cid:s,app_version:c,pageInfo:l={},appInternalVersion:u}=(0,i.Fs)(e);(0,i.By)(e).channel;let p=(0,i.By)(e).platform;e&&(p=(0,i.By)(e).nodePlatform);let d="09";p==o.Jv.MINI?d="30":p==o.Jv.RN?d="12":p==o.Jv.Online&&(d="999");const f={ver:c,debug:!1,pageid:T(t),contentType:"json",head:{cid:s||l.clientcode,syscode:d},clientInfo:{pageId:T(t),version:c,platformId:null,crnVersion:r.bh.getVer(),location:{lat:"",lon:"",cityId:null,locatedCityId:null,districtId:null,locatedDistrictId:null},locale:n,currency:a}};u&&(f.head.cver=u);const h=(0,v.ud)(e),y=(0,v.Rl)(e);return p==o.Jv.RN||h===o.Sd.none||(f.head.syscode="30",f.head.extension=[{name:"MiniType",value:h},{name:"AppId",value:y}]),f}get Head(){const e=this.props.pageId||"";return Ie.httpHead(this.req,e)}postMessage(e,r,n=!1){this.isNativeMini?n?t().attachShelfPropsEnent(e):t().attachPOIPropsEnent(e):r()}}Ie.contextType=$,Ie.httpHead=(e,t)=>{let{language:n,currency:a,cid:s,app_version:c,pageInfo:l={}}=(0,i.Fs)(e);(0,i.Fs)().platform!==o.Jv.RN&&(s=(se()||{}).vid);const u=(0,i.By)(e).channel;let p=(0,i.By)(e).platform;return e&&(p=(0,i.By)(e).nodePlatform),u===o.CE.ctrip?Ie.getCtripHead(e,t):{head:{syscode:"",lang:"",auth:"",cid:s,ctok:"",cver:"",sid:"8888",extension:[],pauth:"",sauth:"",appid:"100017626"},clientInfo:{pageId:T(t),version:c,crnVersion:r.bh.getVer(),platformId:p===o.Jv.RN?25:p===o.Jv.H5?26:24,location:{lat:"0.0",lon:"0.0",cityId:0,locatedCityId:0},locale:n,currency:a}}},Ie.http=(e,t,r)=>{e?e.pageId=T(r):t.pageId=T(r),(0,n.dJ)(e,t)},(0,i.By)().platform===o.Jv.RN&&(Ie.contextType=J.DY);const Oe=Ie;var Se=__webpack_require__(9933),Ee=__webpack_require__(2061),Pe=__webpack_require__(5504);const xe=(0,i.By)().platform,Te=(0,v.$r)(),Ne=(0,v.ud)()!=o.Sd.none,Ae=xe===o.Jv.H5,Re="/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=",De=xe===o.Jv.H5?"/webapp/things-to-do/":"/things-to-do/",Le="/rn_ttd/_crn_config?CRNModuleName=rn_ttd&CRNType=1&initialPage=",Me="/rn_ibu_localtone/_crn_config?CRNModuleName=ibulocaltone&CRNType=1&initialPage=mainPage&pageName=",je="/things-to-do/",Be="/things-to-do/",Ue="/travel-guide/attraction/",He=Ae?`https://${location.host}`:"",Fe=(0,i.By)().enviroment===o.aQ.FAT||(0,i.By)().enviroment===o.aQ.DEV?"https://www.fat1.qa.nt.ctripcorp.com/webapp/ttdguide/":"https://m.ctrip.com/webapp/ttdguide/",Ke={actPoi:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["pagetype","poi"]],params:[["id","id"],["name","name"],["citytype","dt"],["districtid","cityId"],["districtname","cityName"],["kwdfrom","kwdFrom"],["pshowcode","code"]]},actPoiOnline:{url:"list",completeUrl:`${De}list?pagetype=poi`,defaultPrams:[["citytype","dt"]],params:[["id","id"],["name","name"],["citytype","dt"],["districtid","cityId"],["districtname","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},line:{url:"mix",completeUrl:`${Re}mix`,defaultPrams:[["type","dt"],["pshowcode","1daytrip"],["pageName","mix"]],params:[["lineids","id"],["linename","name"],["id","cityId"],["titlename","cityName"],["kwdfrom","kwdFrom"]]},lineOnline:{url:"list",completeUrl:`${De}list?pagetype=city`,defaultPrams:[["citytype","dt"],["pshowcode","1daytrip"]],params:[["f-jdlx","id"],["id","cityId"],["name","cityName"],["kwdfrom","kwdFrom"]]},actCity:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["pagetype","city"],["citytype","dt"]],params:[["id","cityId"],["name","cityName"],["keyword","newCityName"],["kwdfrom","kwdFrom"],["pshowcode","code"]]},actCityOnline:{url:"list",completeUrl:`${De}list?pagetype=city`,defaultPrams:[["citytype","dt"]],params:[["id","cityId"],["name","cityName"],["keyword","newCityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},actKeyword:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["pagetype","city"],["citytype","dt"]],params:[["keyword","keyword"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},actKeywordOnline:{url:"list",completeUrl:`${De}list?pagetype=city`,defaultPrams:[["citytype","dt"]],params:[["keyword","keyword"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},product:{url:"productdetail",completeUrl:`${Re}productdetail`,params:[["productId","id"]]},productOnline:{completeUrl:"/ottd-activity/dest/t{id}.html"},productH5:{url:"detail",completeUrl:"/webapp/things-to-do/detail/{id}"},actNearby:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["type","dt"],["pshowcode","Ticket2"]],params:[["f-subDistance","subDistance"],["id","cityId"],["name","cityName"],["kwdfrom","kwdFrom"]]},actNearbyOline:{url:"list",completeUrl:`${De}list`,defaultPrams:[["type","dt"],["pshowcode","Ticket2"]],params:[["f-subDistance","subDistance"],["id","cityId"],["name","cityName"],["kwdfrom","kwdFrom"]]},acs:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["pagetype","city"],["citytype","dt"]],params:[["id","cityId"],["name","cityName"],["keyword","districtName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"]]},acsOnline:{url:"list",completeUrl:`${De}list?pagetype=city`,defaultPrams:[["citytype","dt"]],params:[["id","cityId"],["name","cityName"],["keyword","districtName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"]]},playCategory:{url:"list",completeUrl:`${Le}list`,defaultPrams:[["type","dt"]],params:[["playids","code"],["categoryids","id"],["categoryname","name"]]},playCategoryOline:{url:"list",completeUrl:`${De}list`,defaultPrams:[["type","dt"]],params:[["playids","code"],["categoryids","id"],["categoryname","name"]]},actPlayCategory:{url:"list",completeUrl:`${Re}list`,defaultPrams:[["pshowcode","Ticket2"],["pagetype","city"],["citytype","dt"]],params:[["id","cityId"],["name","cityName"],["f-playids","code"],["f-categoryids","id"],["kwdfrom","kwdFrom"]]},tktPoi:{url:"detail",completeUrl:"/rn_destination_poi/index.main.js?CRNModuleName=rn_destination_poi&CRNType=1&initialPage=sightDetail&scene=ticket",params:[["businessId","id"]]},tktPoiH5:{url:"detail",completeUrl:"/webapp/you/gspoi/sight/0/{id}.html?seo=0"},tktPoiOnline:{url:"detail",completeUrl:"//piao.ctrip.com/dest/t{id}.html"},tktPoiQuickApp:{url:"detail",completeUrl:"/pages/gs/sight/detail?",params:[["sightId","id"]]},tktPoiWeixin:{url:"detail",completeUrl:"/pages/gs/sight/newDetail?",params:[["sightId","id"]]},tktCity:{url:"list",completeUrl:`${Le}list`,defaultPrams:[["type","dt"]],params:[["id","newCityId"],["name","newCityName"]]},tktCityOnline:{url:"list",completeUrl:`${De}list`,defaultPrams:[["type","dt"]],params:[["id","newCityId"],["name","newCityName"]]},tktKeyword:{url:"list",completeUrl:`${Le}list`,defaultPrams:[["type","k"]],params:[["keyword","keyword"],["scname","cityName"]]},tktKeywordOline:{url:"list",completeUrl:`${De}list`,defaultPrams:[["type","k"]],params:[["keyword","keyword"],["scname","cityName"]]},tktNearby:{url:"list",completeUrl:`${Le}list`,defaultPrams:[["type","dt"],["subDistance","10"]]},tktNearbyOline:{url:"list",completeUrl:`${De}list`,defaultPrams:[["type","dt"],["subDistance","10"]]},tntProduct:{url:"productdetail",completeUrl:"/rn_ibu_taro/_crn_config?CRNModuleName=rn_ibu_taro&CRNType=1&initialPage=productdetail",params:[["productid","id"],["prevRoute","from"]]},tntPoi:{url:"list",completeUrl:`${Me}list`,defaultPrams:[["pagetype","poi"]],params:[["id","id"],["name","name"],["districtid","cityId"],["districtname","cityName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"]]},tntPOIDetailCRN:{url:"POIDetail",completeUrl:"/rn_ibu_traveling/_crn_config?CRNModuleName=RN_Product_IBU_Traveling&CRNType=1&transparentstatusbar=1&initialPage=POIDetail",params:[["sightId","id"]]},tntKeyword:{url:"productlist",completeUrl:`${Me}productlist`,defaultPrams:[["searchtype","1"]],params:[["keyword","keyword"],["cityid","cityId"],["cityname","cityName"],["prevRoute","from"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCity:{url:"list",completeUrl:`${Me}list`,defaultPrams:[["pagetype","city"]],params:[["id","cityId"],["name","cityName"],["keyword","newCityName"],["pshowcode","pshowcode"],["districttype","districttype"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCityKey:{url:"list",completeUrl:`${Me}list`,defaultPrams:[["pagetype","city"]],params:[["id","cityId"],["name","cityName"],["keyword","name"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntProductWeb:{url:"detail",completeUrl:`${He}/things-to-do/detail/{id}`},tntPoiWeb:{url:"poidetail",completeUrl:`${Ue}{cityName}/{name}-{id}/`,isThirdPartyPage:!0},tntKeywordWeb:{url:"list",completeUrl:`${je}list?pagetype=city`,params:[["keyword","keyword"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCityWeb:{url:"list",completeUrl:`${je}list?`,defaultPrams:[["districttype","3"],["pagetype","city"]],params:[["id","cityId"],["name","cityName"],["keyword","newCityName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCityKeyWeb:{url:"list",completeUrl:`${je}list?pagetype=city`,defaultPrams:[],params:[["id","cityId"],["name","cityName"],["keyword","name"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCityKeyOnine:{url:"list",completeUrl:`${Be}list?pagetype=city`,defaultPrams:[],params:[["id","cityId"],["name","cityName"],["keyword","name"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntCityOnline:{url:"list",completeUrl:`${Be}list?`,defaultPrams:[["pagetype","city"],["districttype","3"]],params:[["id","cityId"],["name","cityName"],["keyword","newCityName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},tntPoiOnline:{url:"poidetail",completeUrl:`${Ue}{cityName}/{name}-{id}/`,isThirdPartyPage:!0},tntPoiDetailOnline:{url:"poiDetail",completeUrl:`${Ue}{cityName}/{name}-{id}/`},tntKeywordOnline:{url:"list",completeUrl:`${Be}list?pagetype=city`,params:[["keyword","keyword"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"],["citytype","cityType"]]},guidePage:{url:"guidedetail",completeUrl:`${Fe}guidedetail/?`,params:[["guideId","id"]]},guideProPoi:{url:"list",completeUrl:`${xe===o.Jv.H5?De:Re}list?citytype=dt`,defaultPrams:[["pageName","guide"],["pagetype","poi"]],params:[["id","id"],["name","name"],["districtid","cityId"],["districtname","cityName"],["kwdfrom","kwdFrom"]]},guidePeople:{url:"guidelist",completeUrl:`${xe===o.Jv.H5?Fe:"/rn_ttd_guide_person_list/_crn_config?CRNModuleName=rn_ttd_guide_person_list&CRNType=1&initialPage="}guidelist${xe===o.Jv.H5?"?":""}`,params:[["id","newCityId"],["name","newCityName"]]},guideKeyword:{url:"list",completeUrl:`${xe===o.Jv.H5?De:Re}list?pagetype=city`,defaultPrams:[["citytype","dt"],["pageName","guide"]],params:[["keyword","keyword"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},guideCity:{url:"list",completeUrl:`${xe===o.Jv.H5?De:Re}list?pagetype=city`,defaultPrams:[["citytype","dt"],["pageName","guide"]],params:[["keyword","newCityName"],["id","cityId"],["name","cityName"],["pshowcode","code"],["kwdfrom","kwdFrom"]]},guideAct:{url:"list",completeUrl:`${xe===o.Jv.H5?De:Re}list?pagetype=city`,defaultPrams:[["citytype","dt"],["pageName","guide"]],params:[["id","cityId"],["name","cityName"],["keyword","districtName"],["pshowcode","pshowcode"],["kwdfrom","kwdFrom"]]}},We={ctripPageId:["10320669188","10320657096","10320662471","10650020916","600004824","10320669884","10650038368","10650047360","104801","10650021045","10650040486","10650040020","10650038923","10650040024"],tripPageId:["10650021558","10650021557","10650014881","10650019404","10650012750","10650012671"],tktPageId:["10320669188","10320662471","10320657096"],actPageId:["10650020916","600004824","10320669884","10650038368","10650047360","104801","10650021045"],guidePageId:["10650040486","10650040020","10650038923","10650040024"],showNearbyButton:["10320669188","10320657096","10320662471","10650020916","600004824","10320669884"],showViewPgIds:["10320669188","10320657096","10320662471","10650020916","600004824","10320669884","10650038368","10650047360","104801","10650021558","10650021557","10650014881","10650019404","10650012750","10650012671"],showSearchPgIds:["10320669188","10320657096","10320662471"],showLinePgIds:["10650020916","600004824","10320669884","10650038368","10650047360","104801","10650021045"],showActivityPgIds:["10320669188","10320657096","10320662471","10650020916","600004824","10320669884","10650038368","10650047360","104801","10650021045","10650021558","10650021557","10650014881","10650019404","10650012750","10650012671","10650040486","10650040020","10650038923","10650040024"],showCityPgIds:["10320669188","10320657096","10320662471","10650020916","600004824","10320669884","104801","10650021045","10650038368","10650047360","10650021558","10650021557","10650014881","10650019404","10650012750","10650012671"],showProductPgIds:["10650021558","10650021557","10650014881","10650019404","10650012750","10650012671","10650040486","10650040020","10650038923","10650040024"],showHotguidePgIds:["10650040486","10650040020","10650038923","10650040024"],showResortFlagshipPgIds:["10320669188","10320657096"],urlRules:{10650020916:{poi:{rule:Ke.actPoi,isReplace:!1},line:{rule:Ke.line,isReplace:!1},city:{rule:Ke.actCity,isReplace:!1},tktCity:{rule:Ke.tktCity,isReplace:!1},keyword:{rule:Ke.actKeyword,isReplace:!1},tktKeyword:{rule:Ke.tktKeyword,isReplace:!1},tktPoi:{rule:Ke.tktPoi,isReplace:!1},product:{rule:Ke.product,isReplace:!1},nearby:{rule:Ke.actNearby,isReplace:!1},acs:{rule:Ke.acs,isReplace:!1},playCategory:{rule:Ke.playCategory,isReplace:!1}},600004824:{poi:{rule:Ke.actPoiOnline,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},city:{rule:Ke.actCityOnline,isReplace:!1},tktCity:{rule:Ke.tktCityOnline,isReplace:!1},keyword:{rule:Ke.actKeywordOnline,isReplace:!1},tktKeyword:{rule:Ke.tktKeywordOline,isReplace:!1},tktPoi:{rule:Ke.tktPoiH5,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1},nearby:{rule:Ke.actNearbyOline,isReplace:!1},acs:{rule:Ke.acsOnline,isReplace:!1},playCategory:{rule:Ke.playCategoryOline,isReplace:!1}},10320669884:{tktPoi:{rule:Ke.tktPoi,isReplace:!1},product:{rule:Ke.product,isReplace:!0},playCategory:{rule:Ke.playCategory,isReplace:!1},tktKeyword:{rule:Ke.tktKeyword,isReplace:!1},tktCity:{rule:Ke.tktCity,isReplace:!1}},10320669188:{playCategory:{rule:Ke.playCategory,isReplace:!0},actPlayCategory:{rule:Ke.actPlayCategory,isReplace:!1},city:{rule:Ke.tktCity,isReplace:!0},actCity:{rule:Ke.actCity,isReplace:!1},keyword:{rule:Ke.tktKeyword,isReplace:!0},actKeyword:{rule:Ke.actKeyword,isReplace:!1},poi:{rule:Ke.actPoi,isReplace:!1},tktPoi:{rule:Ke.tktPoi,isReplace:!1},product:{rule:Ke.product,isReplace:!1},nearby:{rule:Ke.tktNearby,isReplace:!0},actNearby:{rule:Ke.actNearby,isReplace:!1},line:{rule:Ke.line,isReplace:!1},acs:{rule:Ke.acs,isReplace:!1}},10320657096:{playCategory:{rule:Ke.playCategory,isReplace:!1},actPlayCategory:{rule:Ke.actPlayCategory,isReplace:!1},city:{rule:Ke.tktCityOnline,isReplace:!1},actCity:{rule:Ke.actCityOnline,isReplace:!1},keyword:{rule:Ke.tktKeyword,isReplace:!1},actKeyword:{rule:Ke.actKeywordOnline,isReplace:!1},poi:{rule:Ke.actPoiOnline,isReplace:!1},tktPoi:{rule:Ne?Ke.tktPoiWeixin:Ke.tktPoiH5,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1},nearby:{rule:Ke.tktNearbyOline,isReplace:!1},actNearby:{rule:Ke.actNearbyOline,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},acs:{rule:Ke.acsOnline,isReplace:!1}},10320662471:{poi:{rule:Ke.actPoi,isReplace:!1},actCity:{rule:Ke.actCity,isReplace:!1},tktPoi:{rule:Ke.tktPoi,isReplace:!1},product:{rule:Ke.product,isReplace:!1},line:{rule:Ke.line,isReplace:!1},actKeyword:{rule:Ke.actKeyword,isReplace:!1},acs:{rule:Ke.acs,isReplace:!1}},10650021558:{product:{rule:Ke.tntProduct,isReplace:!1},keyword:{rule:Ke.tntKeyword,isReplace:!0},poi:{rule:Ke.tntPOIDetailCRN,isReplace:!1},city:{rule:Ke.tntCity,isReplace:!0},cityKey:{rule:Ke.tntCityKey,isReplace:!0}},10650019404:{product:{rule:Ke.tntProduct,isReplace:!1},poi:{rule:Ke.tntPOIDetailCRN,isReplace:!1}},10650021557:{product:{rule:Ke.tntProductWeb,isReplace:!1},keyword:{rule:Ke.tntKeywordWeb,isReplace:!1},poi:{rule:Ke.tntPoiWeb,isReplace:!1},city:{rule:Ke.tntCityWeb,isReplace:!1},cityKey:{rule:Ke.tntCityKeyWeb,isReplace:!1}},10650012750:{product:{rule:Ke.tntProductWeb,isReplace:!1},keyword:{rule:Ke.tntKeywordWeb,isReplace:!1},poi:{rule:Ke.tntPoiWeb,isReplace:!1},city:{rule:Ke.tntCityWeb,isReplace:!1},cityKey:{rule:Ke.tntCityKeyWeb,isReplace:!1}},10650014881:{product:{rule:Ke.tntProductWeb,isReplace:!1},keyword:{rule:Ke.tntKeywordOnline,isReplace:!1},poi:{rule:Ke.tntPoiOnline,isReplace:!1},city:{rule:Ke.tntCityOnline,isReplace:!1},cityKey:{rule:Ke.tntCityKeyOnine,isReplace:!1}},10650012671:{product:{rule:Ke.tntProductWeb,isReplace:!1,newPage:!0},keyword:{rule:Ke.tntKeywordOnline,isReplace:!1},poi:{rule:Ke.tntPoiOnline,isReplace:!1},city:{rule:Ke.tntCityOnline,isReplace:!1},cityKey:{rule:Ke.tntCityKeyOnine,isReplace:!1}},10650038368:{poi:{rule:Ke.actPoiOnline,isReplace:!1},tktPoi:{rule:Ke.tktPoiOnline,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},city:{rule:Ke.actCityOnline,isReplace:!1},keyword:{rule:Ke.actKeywordOnline,isReplace:!1},product:{rule:Ke.productOnline,isReplace:!1,newPage:!0},acs:{rule:Ke.acsOnline,isReplace:!1}},10650047360:{poi:{rule:Ke.actPoiOnline,isReplace:!1},tktPoi:{rule:Ke.tktPoiOnline,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},city:{rule:Ke.actCityOnline,isReplace:!1},keyword:{rule:Ke.actKeywordOnline,isReplace:!1},product:{rule:Ke.productOnline,isReplace:!1,newPage:!0},acs:{rule:Ke.acsOnline,isReplace:!1}},104801:{poi:{rule:Ke.actPoiOnline,isReplace:!1},tktPoi:{rule:Te?Ke.tktPoiQuickApp:Ke.tktPoiH5,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},city:{rule:Ke.actCityOnline,isReplace:!1},keyword:{rule:Ke.actKeywordOnline,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1,newPage:!0},acs:{rule:Ke.acsOnline,isReplace:!1}},10650021045:{poi:{rule:Ke.actPoiOnline,isReplace:!1},line:{rule:Ke.lineOnline,isReplace:!1},city:{rule:Ke.actCityOnline,isReplace:!1},keyword:{rule:Ke.actKeywordOnline,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1,newPage:!0},acs:{rule:Ke.acsOnline,isReplace:!1},tktPoi:{rule:Ke.tktPoiWeixin,isReplace:!1}},10650040486:{poi:{rule:Ke.guideProPoi,isReplace:!0},city:{rule:Ke.guideCity,isReplace:!0},peopleCity:{rule:Ke.guidePeople,isReplace:!1},product:{rule:Ke.product,isReplace:!0},guide:{rule:Ke.guidePage,isReplace:!1},acs:{rule:Ke.guideAct,isReplace:!0},acsItem:{rule:Ke.guideAct,isReplace:!0},keyword:{rule:Ke.guideKeyword,isReplace:!0}},10650040020:{poi:{rule:Ke.guideProPoi,isReplace:!1},city:{rule:Ke.guideCity,isReplace:!1},peopleCity:{rule:Ke.guidePeople,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1},guide:{rule:Ke.guidePage,isReplace:!1},acs:{rule:Ke.guideAct,isReplace:!1},acsItem:{rule:Ke.guideAct,isReplace:!1},keyword:{rule:Ke.guideKeyword,isReplace:!1}},10650038923:{peopleCity:{rule:Ke.guidePeople,isReplace:!1},product:{rule:Ke.product,isReplace:!0},guide:{rule:Ke.guidePage,isReplace:!1}},10650040024:{poi:{rule:Ke.guideProPoi,isReplace:!1},city:{rule:Ke.guideCity,isReplace:!1},peopleCity:{rule:Ke.guidePeople,isReplace:!1},product:{rule:Ke.productH5,isReplace:!1},guide:{rule:Ke.guidePage,isReplace:!1},acs:{rule:Ke.guideAct,isReplace:!1},acsItem:{rule:Ke.guideAct,isReplace:!1},keyword:{rule:Ke.guideKeyword,isReplace:!1}}}},qe=()=>{const e=()=>(65536*(1+Math.random())|0).toString(16).substring(4);let t="",r=1,n=0;for(;r<=20;)t+=e()+(~[8,12,16,20].indexOf(r++)?"-":"");const i=8*Math.random()|0,o=Date.now()+"";for(t+=o.slice(0,i);n<4;)t+=e(),n++;return t+=o.slice(i+5,13),t},Je=e=>e?Math.max(function(e,t=0){const r=Ge(e);return 0===r||r<=t?e:+Number(e).toFixed(t)}(e,2),0):e;function $e(e=0,t=0){if(!function(...e){return e.some(e=>(0|e)!==e)}(e,t))return e+t;const r=Ge(e),n=Ge(t),i=Math.max(r,n),o=Math.pow(10,i);return(e*o+t*o)/o}function Ge(e){const t=e.toString().split(".")[1];return t?t.length:0}function Ve(e){return-1!==We.tktPageId.indexOf(e)?"tkt":-1!==We.guidePageId.indexOf(e)?"gst":-1!==We.actPageId.indexOf(e)?"act":"ibuttd"}class ze extends Oe{constructor(e){super(e),this.layerFlag=!1,this.state={cityId:null,cityItem:null,placeholderList:[]},this.getSearchBoxContent=e=>{if(e){const t=qe();let r="zh-CN",n="RMB";this.Head.clientInfo&&(r=this.Head.clientInfo.locale,n=this.Head.clientInfo.currency);const i={pageid:"10650014881",pageType:7,cityParam:{cityType:1,cityId:Number(e)},limit:5,locale:r,currency:n,platformId:this.platform===o.Jv.Online?24:25,traceId:t};this.http({request:i,actionUrl:"12530/getSearchBoxContentV1",success:e=>{e.data&&Array.isArray(e.data.items)&&e.data.items.length>0?(e.data.items.forEach((e,r)=>{e.position=r+1,e.traceId=t}),this.setState({placeholderList:e.data.items})):this.setDefaultPlaceholder()},fail:e=>{this.setDefaultPlaceholder()}})}else this.setDefaultPlaceholder()},this.setDefaultPlaceholder=()=>{this.setState({placeholderList:[{name:this.IBUShark("key.v.page.searchpage.layer.placehold"," / / ")}]})},this.init(e),Se.B.register("mousedown",e=>{if(!this.citySelectRef)return;let t=this.citySelectRef.headerSearchRef.getCityInputRef("regionInput").value;t=t&&t.trim(),this.layerFlag=!!(this.citySelectRef.cityData&&this.citySelectRef.cityData.length&&t)}),Se.B.register("click",e=>{if(!this.layerFlag){if(!this.citySelectRef)return;this.citySelectRef.swithLayer(!1)}})}componentWillReceiveProps(e){e.districtId===this.props.districtId&&e.districtName===this.props.districtName||(this.setState({cityId:e.districtId,cityName:e.districtName}),this.getSearchBoxContent(e.districtId))}init(e){if(e&&e.districtId)this.state={cityId:e.districtId,cityName:e.districtName};else{let e=Pe.t.get("trip_home_search_citys",!0)||{};e&&e.cityId&&(this.state={cityId:e.cityId,cityItem:e.cityItem,cityName:e.cityItem?e.cityItem.showName||e.cityItem.itemName:null})}this.getSearchBoxContent(this.state.cityId)}setCityId(e){let t=e&&e.itemId&&"number"==typeof e.itemId?e.itemId:"";const{onChangeCity:r}=this.props;let n={cityId:null,cityItem:null};e&&e.itemId?(n={cityId:t,cityItem:e},this.setState(n),r&&r({districtId:t,districtName:e.showName||e.itemName})):this.setState({cityId:null,cityItem:null}),Ee.Z.set("trip_home_search_citys",n)}}class Ye extends t().Component{constructor(e){super(e),this.IBUShark=(e,t,r,n)=>(0,R.Z)(e,t,r,n),this.log=r.cM,this.http=(e,t)=>{e?e.pageId=T():t.pageId=T(),(0,n.dJ)(e,t)},this.toast=W,this.push=E,this.pop=P,this.replace=x,this.isDarkmode=()=>(0,i.By)().channel===o.CE.trip&&"dark"===this.context&&(0,i.By)().platform===o.Jv.RN,this.componentAfterFistScreen&&setTimeout(()=>{this.componentAfterFistScreen()},200)}componentWillUpdate(e,t,r){this.props.style&&"none"===this.props.style.display&&setTimeout(()=>{this.componentShow()})}componentShow(){}get Head(){const e=(0,i.By)(),t=(0,i.Fs)();return e.channel===o.CE.ctrip?{ver:"8.3.1",debug:!1,pageid:T(),head:{cid:t.cid,syscode:e.platform==o.Jv.RN?"12":"09"},contentType:"json"}:{head:{syscode:"",lang:"",auth:"",cid:t.cid,ctok:"",cver:"",sid:"8888",extension:[],pauth:"",sauth:"",appid:"100017626"},clientInfo:{platformId:(0,i.By)().platform===o.Jv.RN?25:(0,i.By)().platform===o.Jv.H5?26:24,version:"",location:{lat:"0.0",lon:"0.0",cityId:0,locatedCityId:0},locale:t.language,currency:t.currency}}}}const Qe=Ye;var Ze=function(e){return"string"!=typeof e?"":e.toLowerCase()},Xe=function(e,t){void 0===t&&(t="cityname");try{var r=function(e){return"string"!=typeof e?"":e.replace(/\s/g,"-").replace(/'/g,"-").replace(/‘/g,"-").replace(/\//g,"-").replace(/&/g,"-")}(e);return r=function(e){return"string"!=typeof e?"":e.replace(/[A-Z]/g,function(e,t){var r=Ze(e);return 0===t?r:"-"+Ze(e)})}(r).replace(/[-]+/g,"-"),/^[a-zA-Z-\d]+$/.test(r)?r:t}catch(e){return t}};const et=e=>{let t=(0,i.Fs)(),{platform:r}=t,n={SearchList:[]};return e.cityItems&&e.cityItems.forEach(e=>{let t=`${e.districtId}`;e.ename&&(t=`${Xe(e.ename)}-${e.cityId}`);let i={itemId:e.districtId,itemName:e.districtPathNames,secondName:"",showName:e.districtName,itemUrl:r===o.Jv.RN?"mainPage":`/things-to-do/${t}/`,queryObj:{cityId:e.districtId}};n.SearchList.push(i)}),n};var tt,rt=__webpack_require__(4767);!function(e){e.all="all",e.latlon="latlon"}(tt||(tt={}));var nt=null,it=null,ot=__webpack_require__(9943),at=__webpack_require__.n(ot),st=__webpack_require__(9858),ct=function(){return ct=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ct.apply(this,arguments)},lt=function(){function e(){this.eventHandlerList=[],this.startGetLocation=!1}return e.prototype.getLocationCache=function(){var e=(0,i.Fs)().language,t=Pe.t.get("location-"+e);t?(this.result=t,this.handlerEventList()):this.result={}},e.prototype.isNeedEnquier=function(e){var t=Pe.t.get("last-enquire"),r=(new Date).getTime();return(!t||r-t>e)&&(Pe.t.set("last-enquire",r),!0)},e.prototype.getLocationPermission=function(){var e=this;return new Promise(function(t,r){var n=(0,i.By)().platform;n===o.Jv.RN?(0,i.By)().channel===o.CE.ctrip?it.checkLocationPermissionTimeRestrict(function(e){t(1==e.granted)}):t(!0):(0,i.sk)()||n===o.Jv.Online?t(!1):navigator.geolocation&&e.isNeedEnquier(216e5)?navigator.geolocation.getCurrentPosition(function(){return t(!0)},function(e){1===e.code&&t(!1),t(!0)},{timeout:2e3}):t(!1)})},e.prototype.getLocation=function(e,t,r){var n=this,a=(0,i.By)().platform;if(this.getLocationCache(),a===o.Jv.RN)nt(function(e,t){t?n.handlerEventList("location "):n.result=e,n.handlerEventList()},e,t);else if(a===o.Jv.Online||(0,v.K$)())this.handlerEventList("online ");else{if((0,i.sk)())return void this.handlerEventList("location ");if(this.startGetLocation)return;this.startGetLocation=!0,/MicroMessenger/i.test(window.navigator.userAgent)?this.weixinLocation(r):navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){n.result={latitude:e.coords.latitude,longitude:e.coords.longitude},n.handlerEventList(),n.getCityId()},function(){n.handlerEventList("location ")},{timeout:2e4})}},e.prototype.weixinLocation=function(t){var r=this,n=new Promise(function(e,t){at().weixinReady(function(t){t.getLocationInfo({coordType:"GCJ02",channel:"TTD_T",onlyLocate:!1}).done(function(t){var n=t.coordType||{};r.result={latitude:n.latitude,longitude:n.longitude},e({ststus:"success",value:t})}).fail(function(t){e({ststus:"catch",value:t})})},function(t){void 0===t&&(t={}),e({ststus:"failed",value:{msg:t}})})});Promise.race([n,e.timerHandler(t)]).then(function(e){switch(void 0===e&&(e={status:"timout",value:""}),(0,st.J)(ct({key:192748},e)),e.status){case"success":r.handlerEventList(),r.getCityId();break;case"catch":case"failed":case"timeout":r.handlerEventList("location ");break;default:(0,st.J)({key:192748,reason:"enter_default"}),r.handlerEventList("location ")}})},e.prototype.getCityId=function(){var e=this,t=this.result;(0,n.dJ)({request:{lat:t.latitude,lng:t.longitude,IsGsLocation:(0,i.By)().channel!==o.CE.trip},actionUrl:"17073/json/lbs/getcurrentcity?"+Math.random(),success:function(r){t.cityId=r.CityId,t.cityName=r.CityName,t.isOverSea=r.IsOverSea,e.handlerEventList(),Pe.t.set("location-"+(0,i.Fs)().language,t,180)}})},e.prototype.handlerEventList=function(e){var t=this,r=this.result,n=0;this.eventHandlerList.map(function(i,o){var a=null!=e;a?(i.locationCallBack(null,e),t.startGetLocation=!1):(i.LocationType===tt.all&&r.cityId||i.LocationType===tt.latlon)&&(i.locationCallBack(r),a=!0),a?setTimeout(function(){t.eventHandlerList.splice(n,1)}):n++}),r&&null!=r.cityId&&(this.startGetLocation=!1)},e.getLocation=function(t,r,n,i,o,a){var s=this;void 0===r&&(r=tt.all),void 0===n&&(n=!1);var c=(a||{}).timer;this.instance||(this.instance=new e),this.instance.eventHandlerList.push({locationCallBack:t,LocationType:r}),n?this.instance.getLocationPermission().then(function(e){e?s.instance.getLocation(i,o,c):s.instance.handlerEventList(" ")}):this.instance.getLocation(i,o,c)},e.getLocationPermission=function(){return Promise.resolve(this.instance.getLocationPermission())},e.timerHandler=function(e){return new Promise(function(t,r){setTimeout(function(){t({status:"timeout",value:{timer:e}})},e||3e3)})},e.getLocationFromHybird=function(t,r){var n=(r||{}).timer;if(window.CtripLocate.appLocate){var i=new Promise(function(e,t){window.CtripLocate.appLocate(0,!0,function(t){if("Address_CtripCity"===t.type)if(t.value&&t.value.ctripCity){var r=t.value.ctripCity,n=r.DestinationID,i=r.DestinationName;e(n&&i?{status:"success",value:{cityId:n,cityName:i}}:{status:"DestinationID_null",value:{DestinationID:n,DestinationName:i}})}else e({status:"respData_error",value:{data:t.value}});else e({status:"respData_type_error",value:{respData:t}})})});Promise.race([i,e.timerHandler(n)]).then(function(e){switch(void 0===e&&(e={status:"timout",value:""}),(0,st.J)(ct({key:192748},e)),e.status){case"success":t&&t(e.value);break;case"catch":case"failed":case"timeout":t&&t(null,!0);break;default:(0,st.J)({key:192748,reason:"enter_default"}),t&&t(null,!0)}})}else(0,st.J)({key:192748,reason:"no_window_CtripLocate"}),t&&t(null,!0)},e}();const ut=lt;var pt=(0,i.By)().platform,dt=(0,i.Fs)().isInApp;const ft=function(e,t,r,n,i,a){void 0===n&&(n=!1),void 0===i&&(i=!1),dt&&pt===o.Jv.H5?ut.getLocationFromHybird(e,a):ut.getLocation(e,t,r,n,i,a)},ht={"act-home":{pagebu:"ttd",pagefrom:"home"},"list-mix":{pagebu:"ttd",pagefrom:"list"},"wifi-list":{pagebu:"wifi",pagefrom:"list"}},yt=()=>{const e=new Date,t=e=>e<10?"0"+e:e;return[e.getFullYear(),t(e.getMonth()+1),t(e.getDate())].join("")};let mt=()=>{const e=()=>(65536*(1+Math.random())|0).toString(16).substring(4);let t="",r=1,n=0;for(;r<=20;)t+=e()+(~[8,12,16,20].indexOf(r++)?"-":"");const i=8*Math.random()|0,o=Date.now()+"";for(t+=o.slice(0,i);n<4;)t+=e(),n++;return t+=o.slice(i+5,13),t};const gt=()=>{const e=new Date,t=e=>e<10?"0"+e:e;return[e.getFullYear(),t(e.getMonth()+1),t(e.getDate())].join("")},vt=(e,t)=>{const r=Object.assign({ver:(0,i.Fs)().app_version+"."+gt(),pageid:T(),keyword:e,csType:0,districtid:t.cityId,limit:15,consaltype:1,pageType:1,stype:4,debug:!1,siteSwitch:!1,filters:[{key:2,val:"1"}],head:{syscode:"12",cver:"803.000",lang:"01",sid:"8890"},traceid:mt()},{"act-home":{stype:5,pageType:0,displayRecTipType:"0"},"list-mix":{stype:4,pageType:1,displayRecTipType:"1"}}[t.props.from]);(0,n.dJ)({request:r,actionUrl:"14580/json/autoCompleteSearchQOC",success:r=>{let n=(e=>{const{autoCompleteData:t,cityId:r,cityName:n,keyword:o,from:a}=e,s={SearchList:[],atctraceid:"",inass:0};let c=T();return t.data&&t.data.acitems&&(t.data.extras.length&&t.data.extras.forEach(e=>{if("searchaddinfo"==e.key)return s.atctraceid=e.value}),t.data.acitems.forEach((e,t)=>{let l="";switch(e.type){case 1:l="position";break;case 2:case 3:l="spot";break;case 4:l="producttag";break;default:l="search"}let u="",p="";switch(e.type){case 1:u=`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=dt&id=${e.id}&titlename=${e.name}&pshowcates=40`,p="d";break;case 2:case 3:u=`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=poi&id=${e.id}&districtId=${e.districtId}&districtName=${e.pname}&keyword=${e.name}&pshowcates=40`,p="ss";break;case 4:u="/activity/index.html#/webapp/acitivity/dest/t"+e.id+".html?isHideNavBar=YES",p="shortcut";break;default:u=`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=k&keyword=${e.name}&districtId=${r}&districtName=${n}&pshowcates=40`,p="kwd"}let d={itemId:e.id,itemName:e.name,secondName:e.pname+("3"==e.type||"2"==e.type?e.distance:""),itemUrl:u,type:l,recommendText:e.recommendText,log:{key:"pkg_srchbox_associate",pagebu:ht[a]&&ht[a].pagebu,pagefrom:ht[a]&&ht[a].pagefrom,channel:"app",atctraceid:s.atctraceid,gsdistrictid:r,departcityid:0,departcityname:e.name,associatekwd:e.name,associatekwdtype:p,lob:4==e.type?"act":"",associateid:e.id,kwdfrom:"assword",userinput:o||"",associate_pos:t+1,addinfo:{pageid:c},version:(0,i.Fs)().app_version+"."+yt()}};if("list-mix"===a&&e.acs&&e.acs.length){d.tag=[];let t=Math.min(3,e.acs.length);for(let i=0;i<t;i++){let t=e.acs[i];d.tag.push({itemId:t.accode,itemName:t.acname,itemUrl:`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=dt&id=${e.id}&titlename=${e.name}&districtId=${r}&districtName=${n}&pshowcode=${t.accode}`,log:{}})}}"2"!=e.type&&"3"!=e.type&&e.price&&(d.minPrice={currency:"CNY",price:e.price}),s.SearchList.push(d),e.name.toLowerCase()==o.toLowerCase()&&(s.inass=1)})),s})({autoCompleteData:r,cityId:t.cityId,cityName:t.cityName,keyword:e,from:t.props.from});t.setState({data:n.SearchList,atctraceid:n.atctraceid,showType:"SearchCity",inass:n.inass}),n.atctraceid&&(t.getKeyWord=!0)}})},_t=e=>{const t=(e="undefined"==typeof document?e||"":e||location.search.substr(1)).split("&");let r={};for(let e=0;e<t.length;e++){let n=t[e].split("=");r[n[0]]=n[1]}return r},wt=function(){var e=new Date,t=function(e){return bt(e.toString(),2,"0")};return[e.getFullYear(),t(e.getMonth()+1),t(e.getDate())].join("")};var bt=function(e,t,r){return e.length>t?e:((t-=e.length)>r.length&&(r+=r.repeat(t/r.length)),r.slice(0,t)+e)};const kt="RN"===(0,i.Fs)().platform,Ct={1:"locate",2:"poi",3:"picture",4:"locate",5:"locate",6:"search"},It=(e,t,r,n,o)=>{const{cityId:a=-1,cityName:s}=t;let c=N(2),l="";l=o||(["10650021557","10650021558","mainPage"].indexOf(c)>-1?"home":"list");let u={SearchList:[]},p=(0,i.Fs)(),{language:d,currency:f}=p;return e.list.forEach((e,t)=>{const{id:i=-1,type:o=-1,areaName:c,name:h}=e,y=((e,t)=>{const{type:r,id:n,name:i,mainCityId:o}=e;t=o||t;let a="";switch(r){case 1:a=kt?"mainPage":`/things-to-do/${n}/`;break;case 2:a=kt?"productlist":`/things-to-do/list?searchtype=2&searchkey=${n}&searchname=${i}&cityid=${t}&kwdfrom=assword`;break;case 3:a=kt?"productdetail":`/things-to-do/detail/${n}`;break;case 4:a=kt?"productlist":`/things-to-do/list?searchtype=6&pshowcode=-1&cityid=${t}&kwdfrom=assword`;break;case 5:a=kt?"productlist":`/things-to-do/list?searchtype=7&pshowcode=-1&cityid=${t}&kwdfrom=assword`}return a})(e,a),m=((e,t)=>{const{type:r,id:n,name:i}=e;switch(r){case 1:return{cityId:t};case 2:return{searchtype:2,searchkey:n,cityid:t,keyword:i};case 3:return{productid:n};case 4:return{searchtype:6,pshowcode:"-1",cityid:n,keyword:i,cityname:i};case 5:return{searchtype:7,pshowcode:"-1",cityid:n,keyword:i,cityname:i}}})(e,a),g={itemId:i.toString(),itemName:h,secondName:c,type:Ct[o.toString()],itemUrl:y,urlType:o,queryObj:m,log:{key:"pkg_srchbox_associate",pagebu:"ibuttd",pagefrom:l,channel:kt?"app":"h5",atctraceid:n,departcityid:a||"-1",departcityname:s||(1!==o?h:c),kwd:r,associatekwd:h,associatekwdtype:(()=>{switch(o){case 1:return"city";case 2:return"ss";case 3:return"shortcut";case 4:return"country";case 5:return"province"}})(),lob:3==o?"act":"",associateid:i.toString()||o,kwdfrom:"assword",userinput:r,associate_pos:t+1,language:d,region:"",currency:f,version:p.app_version+"."+wt(),addinfo:{pageid:"10650021561"}}};u.SearchList.push(g)}),u},Ot=(e,t,r=6,n)=>{Pe.t.get(e,!1,{},i=>{let o=i||[],a=!1;for(let e=0;e<o.length;e++)if(o[e][t.itemId]){o.splice(e,1),a=!0;break}if(!a){let e=-1;o.map((r,n)=>{for(let i in r)r[i].itemName==t.itemName&&(e=n)}),e>-1&&o.splice(e,1)}o.length===(r||6)&&o.pop(),o.unshift({[t.itemId]:Object.assign(Object.assign({},t),{itemName:t.itemName,itemUrl:t.itemUrl,type:t.type,itemId:t.itemId,displayName:t.displayName,urlType:t.urlType,secondName:t.secondName,queryObj:t.queryObj,log:t.log||{}})}),Pe.t.set(e,o,1036800),n&&n(o)})},St=(e,t)=>{"H5"==(0,i.By)().platform&&(t?(e.scrollTop=document.body.scrollTop,document.body.style.cssText=`top: -${e.scrollTop}px; position: fixed; left:0; right:0; overflow-y: hidden`):(document.body.style.cssText="position: initial; top:0px ; left:0; right:0; overflow-y: auto",document.body.scrollTop=e.scrollTop))};var Et,Pt,xt=__webpack_require__(3834);!function(e){e[e.suggest=0]="suggest",e[e.keyWord=1]="keyWord"}(Et||(Et={})),function(e){e.SearchCity="SearchCity",e.HotCity="HotCity",e.SearchPanel="SearchPanel"}(Pt||(Pt={}));const Tt="RN"===(0,i.Fs)().platform;class Nt extends Qe{constructor(e){super(e),this.cityId=this.props.cityId,this.cityName=this.props.cityName,this.header=(0,i.Fs)(),this.channel=(0,i.By)().channel,this.bindBlus=!1,this.mouseDownItem=null,this.onEnsureHandlerNew=(e,t,r,n)=>{var i;const{onSearchClick:o}=this.props;let a=this.searchPopover&&this.searchPopover.getAssociateDataList&&this.searchPopover.getAssociateDataList();if("38"===(e.keyCode||"").toString()){let t=this.state.AssociateHoverIndex-1;return t<0&&(t=a.length-1),this.getSearchHoverCallBack({index:t,status:!0}),this.headerSearchRef.announceRegion(a[t].name),void e.preventDefault()}if("40"===(e.keyCode||"").toString()){let t=this.state.AssociateHoverIndex+1;return t>=a.length&&(t=0),this.getSearchHoverCallBack({index:t,status:!0}),this.headerSearchRef.announceRegion(a[t].name),void e.preventDefault()}if("13"!==(e.keyCode||"").toString())return this.setState({poiItem:{}}),void this.getSearchHoverCallBack({index:0,status:!0});if("online-home"!==this.props.from||n)if(!this.props.cityId||!this.searchPopover&&"online-home"===this.props.from)this.checkOriginStatus(),this.swithLayer(!1);else{if(window.dataLayer){const{pageId:e,pvid:r}=(null===(i=window.UBT_DEV)||void 0===i?void 0:i.bfa)||{};let n=this.header.language?this.header.language.split("-"):["",""];window.dataLayer.push({event:"search",prd_type:"tnt",page_id:e,pvid:r,language:n[0],region:n[1],search_term:t})}o&&o(this.props.cityName,t),this.searchPopover&&this.searchPopover.onSearchSubmit(t,r)}else if(this.props.cityId&&this.searchPopover){if(this.state.AssociateHoverStatus){let e=this.state.AssociateHoverIndex;a[e]&&(this.headerSearchRef.getCityInputRef("input").blur(),this.searchPopover&&this.searchPopover.onClickAssociateCard(a[e],e))}}else this.checkOriginStatus(),this.swithLayer(!1)},this.getShowTypeStatus=()=>this.state.showType,this.onblueInputCallBack=()=>{this.bindBlus=!1,this.setState({showSearchPop:!1})},this.onblueInput=e=>{if(this.bindBlus)this.bindBlus=!1;else if("SearchCity"===this.getShowTypeStatus())if(this.cityData&&this.cityData.length){let e=this.cityData[0];this.mouseDownItem&&(e=this.mouseDownItem,this.mouseDownItem=null),e&&this.hotCityRef.onClick(e),this.bindBlus=!1}else this.props.setCityId(null);else this.headerSearchRef&&this.headerSearchRef.getCityInputRef("regionInput").value||this.props.setCityId(null);this.clearInputStatus()},this.onEnsureHandler=(e,t)=>{if(t||this.header.platform!==o.Jv.H5)if(this.header.channel===o.CE.trip){if(this.header.platform!==o.Jv.Online&&(void 0===this.state.searchType||this.state.searchType===Et.suggest))return;let{hoverIndex:n}=this.state;if("38"===(e.keyCode||"").toString()){let t=n-1;return t<0&&(t=this.cityData.length-1),this.setEngineStatus(!0,t),this.headerSearchRef.announceRegion(this.cityData[t].showName),void e.preventDefault()}if("40"===(e.keyCode||"").toString()){let t=n+1;return t>=this.cityData.length&&(t=0),this.setEngineStatus(!0,t),this.headerSearchRef.announceRegion(this.cityData[t].showName),void e.preventDefault()}if("13"!==(e.keyCode||"").toString())return void this.setEngineStatus(!0,0);let i=this.IBUShark("key.v.page.index.keywordtip","${0} "),a={itemUrl:Tt?"productlist":`/things-to-do/list?searchtype=1${this.header.platform===o.Jv.Online?`&searchkey=${this.cityInfo.cityId}`:""}&searchname=${t}&cityid=${this.cityInfo.cityId}&keyword=${t}&kwdfrom=srch`,itemId:t,itemName:t,urlType:"6",type:"search",displayName:i.replace(/\$\{0\}|\$\(0\)/,t)};"online-home"===this.props.from?(a=this.cityData&&this.cityData[n]?this.cityData[n]:a,this.hotCityRef.onClick(a)):this.onClick(a,"srch"),Ot("historyListKeyword1_"+this.header.language+"_"+this.channel,a,3,e=>{});let s=N(2),c=["10650021557","10650021558","mainPage"].indexOf(s)>-1?"home":"list";(0,r.fU)({key:"pkg_srchbox_search_ibuact",pagebu:"ibuttd",pagefrom:c,channel:Tt?"app":"h5",departcityid:this.cityInfo.cityId||0,departcityname:this.cityName||"-1",kwd:t,showass:this.state.data.length>0?1:0,inass:this.state.data.find(e=>e.itemName.toLocaleLowerCase()===t.toLocaleLowerCase())?1:0,addinfo:{pageid:Tt?"10650021561":"10650021560"}})}else{if(!t)return;const e={itemUrl:`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=k&keyword=${t}&districtId=${this.cityId}&districtName=${this.cityName}&pshowcates=40`,itemId:t,itemName:t,type:"search"};Ot("historyList_"+this.header.language+"_"+this.channel,e,6,e=>{}),((e,t)=>{const r=`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=k&keyword=${e}&districtId=${t.cityId}&districtName=${t.cityName}&pshowcates=40&kwdfrom=srch`;if(/^\d{2,}$/.test(e)){const o={ver:(0,i.Fs)().app_version,id:e,imageSize:"C_640_360"};(0,n.dJ)({request:o,actionUrl:"10220/json/ActivityInfo",success:n=>{n&&n.newdata?t.push(`/activity/index.html#/webapp/acitivity/dest/t${e}.html?isHideNavBar=YES`):t.props.callBack?(t.props.callBack({itemName:e}),t.pop()):t.push(r)}})}else t.props.callBack?(t.props.callBack({itemName:e}),t.pop()):t.push(r)})(t,this)}},this.clearInputStatus=()=>{this.cityData=[],this.setEngineStatus(!0,0)},this.onClick=(e,t)=>{const n=this.header.channel===o.CE.ctrip;if(this.header.platform===o.Jv.RN){if(this.state.showType===Pt.SearchPanel)return this.onChoiceCity(e);if(e.log&&e.log&&e.log.addinfo&&(e.log.addinfo.pageid=T()),n)this.props.callBack&&"producttag"!=e.type?(this.props.callBack(e),this.pop()):(e&&e.log&&e.log.kwdfrom?e.itemUrl+=`&kwdfrom=${e.log.kwdfrom}`:e.itemUrl+=`&kwdfrom=${t}`,this.push(e.itemUrl));else{const r=this.rnRouterHandler(e,t);this.props.prevRoute===r[0]&&this.props.callBack?(this.props.callBack(r[1]),this.pop()):this.push(r[0],r[1])}try{this.input.inputRef.input.blur()}catch(e){}}else{e.log&&(e.log&&e.log.addinfo&&(e.log.addinfo.pageid="10650021560"),(0,r.fU)(e.log));let{from:t,isTangram:n}=this.props;if("online-home"===t)this.bindBlus=!0,this.headerSearchRef.getCityInputRef("regionInput").value=e.showName||e.itemName,this.props.setCityId(e),n?this.setState({showLayer:!1}):this.headerSearchRef.getCityInputRef("input").focus();else{let t=e.itemUrl;if(this.channel===o.CE.trip&&-1!==t.indexOf("/list")){let e=_t(t.split("list?")[1]);if("2"==e.searchtype&&e.searchname&&"en-US"!=this.header.language)return void this.fetchPoiName(e.pshowcode||e.searchkey,e.searchname,t)}this.push(t)}}},this.onClickCancelBtn=()=>{this.setState({blur:!0},()=>{this.setState({blur:!1}),this.pop()}),St(this,!1)},this.swithLayer=(e,t)=>{let r={showType:Pt.HotCity};t===Et.suggest&&(r={value:"",cityData:[],showType:Pt.HotCity}),t===Et.keyWord&&this.state.olSuggestVal&&""!=this.state.olSuggestVal&&(r={showType:Pt.SearchCity}),this.setState(Object.assign({},r,{showLayer:t===Et.keyWord||e,searchType:null!=t?t:this.state.searchType}),()=>{this.state.showLayer||"online-home"==this.props.from||this.setState({value:"",olSuggestVal:""})})},this.getLayerStatus=()=>this.state.showLayer,this.onMouseDown=(e,t)=>{"online-home"===this.props.from?(this.bindBlus=!1,this.mouseDownItem=e):this.hotCityRef.onClick(e)},this.getSearchHoverCallBack=e=>{this.setState({AssociateHoverStatus:!!e.status&&e.status,AssociateHoverIndex:e.index?e.index:0})},this.getHotWordVCallback=()=>{},this.debouncedOnInput=(0,xt.Ds)(this.rawOnInput.bind(this),200),this.state={autoFocus:this.props.autoFocus||!1,blur:!1,value:this.props.searchInputValue||"",showType:this.getShowType(),cityData:[],data:[],atctraceid:"",inass:0,defaultVal:"",hoverStatus:!0,hoverIndex:0,AssociateHoverIndex:0,AssociateHoverStatus:!0,poiItem:{},showLayer:!1,olSuggestVal:"",searchType:this.props.searchType||Et.suggest,showSearchPop:!1,hasCityError:!1}}static getSharkConfig(){return{"key.v.page.index.keywordtip":{id:"key.v.page.index.keywordtip"},"key.v.page.index.searchinputtip":{id:"key.v.page.index.searchinputtip"},"key.v.page.index.citysearchtip":{id:"key.v.page.index.citysearchtip"},"key.v.page.index.searchlocation":{id:"key.v.page.index.searchlocation"}}}getShowType(){return"SearchPanel"==(this.props.app&&this.props.app.urlQuery&&this.props.app.urlQuery.ShowType)?(this.register(),Pt.SearchPanel):Pt.HotCity}register(){Se.B.register("CitySelectorOnSearchTextChange",e=>{const{text:t}=e;this.onSearchCity(t)}),Se.B.register("CitySelectorOnClearSearchTextClick",e=>{this.setState({data:[],value:""})})}componentWillUnmount(){Se.B.destroy("CitySelectorOnSearchClick"),Se.B.destroy("CitySelectorOnSearchTextChange"),Se.B.destroy("CitySelectorOnClearSearchTextClick"),this.state.showType!=Pt.SearchPanel&&(0,rt.V)()}onSearchCity(e){const t=this.props.app.urlQuery&&this.props.app.urlQuery.pageType;let r=Object.assign(this.Head,{keyword:e,filters:[{key:2,val:"1"}],limit:15,sourcetype:"activity",stype:6,siteSwitch:!0,pageType:parseInt(t,10)});this.http({request:r,actionUrl:"14580/autoCompleteSearchQOC",success:t=>{t.data&&this.setState({data:this.getCityData(t.data),value:e})}})}getCityData(e){let{acitems:t=[]}=e,r=[];return t.map(e=>{r.push({itemId:e.id,itemName:e.name,secondName:e.pname,isoversea:e.isoversea,type:"city"})}),r}onChoiceCity(e){let t={name:e.itemName,isMainLand:e.isoversea?0:1,globalId:e.itemId,tagText:"",sourceType:"",sName:"",isHotCity:!0,isHkMoTw:0,geoCategoryId:3,fullName:"",extension:"",eName:"",eFullName:"",cityImageUrl:""};Se.B.send("CitySelectorCitySelected",t)}componentDidMount(){this.props.searchInputValue&&this.setState({value:this.props.searchInputValue}),St(this,!0),this.state.showType!=Pt.SearchPanel&&(0,rt.E)()}componentWillReceiveProps(e){e.searchInputValue&&this.setState({value:e.searchInputValue}),this.setState({searchType:e.searchType||0})}get cityInfo(){const{cityId:e}=this.props,t=_t(),r=t.cityid||t.cityId||t.cityID;return{cityId:"0"==e?0:e||r,cityName:this.props.cityName}}getAutoCompleteSearchRequest(e){return{clientInfo:{location:{cityId:this.cityInfo.cityId||0},platformId:(0,i.By)().platform===o.Jv.RN?25:(0,i.By)().platform===o.Jv.H5?26:24,extension:[{name:"keyword",value:e},{name:"srhtraceid",value:Math.floor(1e12*Math.random()).toString()}],currency:this.header.currency,locale:this.header.language},searchParameter:{searchType:1},debugKey:""}}fetchAutoCompleteSearch(e){let t=this.getAutoCompleteSearchRequest(e);const{from:r}=this.props;this.http({request:t,actionUrl:"14857/autoCompleteSearch",success:n=>{this.getKeyWord=!0,this.setState({data:It(n,this.cityInfo,e,t.clientInfo.extension[1].value,r).SearchList,showType:Pt.SearchCity,showLayer:0!==n.list.length})}})}fetchCitySuggest(e){const{biz:t}=this.props;this.http({request:{clientInfo:{platformId:(0,i.By)().platform===o.Jv.RN?25:(0,i.By)().platform===o.Jv.H5?26:24,version:"609.000",currency:this.header.currency,locale:this.header.language},biz:t,keyword:e},actionUrl:"24528/getSuggestDistrictList",success:e=>{if(""!==this.state.value){let t="Online"===(0,i.By)().platform?{cityData:et(e).SearchList}:{data:et(e).SearchList};this.cityData=et(e).SearchList,this.setState(Object.assign({},t,{showType:Pt.SearchCity}))}}})}fetchPoiName(e,t,r){this.http({request:{clientInfo:{platformId:(0,i.By)().platform===o.Jv.RN?25:(0,i.By)().platform===o.Jv.H5?26:24,version:"609.000",currency:this.header.currency,locale:"en-US"},type:1,id:e},actionUrl:"14857/locationInfoGet",success:e=>{let n=e.locationInfoDto&&e.locationInfoDto.name||"";n&&(r=r.replace(t,encodeURIComponent(n))),this.push(r)}})}setTipStatus(e,t,r,n){"online-home"===t&&this.setState({hasCityError:e}),e?H(t,r):F(t)}getTipStatus(e){return K(e)}checkOriginStatus(){if("online-home"!==this.props.from)return!0;setTimeout(()=>this.props.cityId?(this.setState({showSearchPop:!0}),!0):(this.setTipStatus(!0,"online-home",this.IBUShark("key.v.page.triponline.searchbox.nocityerror"," ")),!1),0)}setTipDown(){this.getTipStatus("online-home")&&this.setTipStatus(!1,"online-home")}rawOnInput(e){""!==e&&(this.channel===o.CE.trip?void 0===this.state.searchType||this.state.searchType===Et.suggest?this.fetchCitySuggest(e):this.getKeyWord=!1:this.props.cityId?vt(e,this):ft((t,r)=>{this.cityId=r?"58":t.cityId,this.cityName=t.cityName,vt(e,this)}))}onInput(e){"object"==typeof e&&(e=e.target.value),this.setState({value:e,showType:""===e?Pt.HotCity:Pt.SearchCity}),this.debouncedOnInput(e)}rnRouterHandler(e,t){const{prevRoute:r}=this.props,{itemUrl:n,itemId:i,itemName:o,urlType:a}=e;let s=["mainPage",{cityId:i,cityName:o,prevRoute:r}];switch(n){case"productdetail":s=["productdetail",{productid:i,prevRoute:r}];break;case"productlist":s=4==a||5==a?["productlist",{searchtype:e.queryObj.searchtype,pshowcode:e.queryObj.pshowcode,searchname:o,cityid:e.queryObj.cityid,cityname:e.queryObj.cityname,keywordFrom:t,prevRoute:r}]:6==a?["productlist",{searchtype:"1",pshowcode:"-1",cityid:this.cityInfo.cityId,keyword:i,keywordFrom:t,prevRoute:r}]:["productlist",{searchtype:"2",searchkey:i,searchname:o,cityid:this.cityInfo.cityId,keywordFrom:t,prevRoute:r}]}return s}onClear(){this.componentShow()}componentShow(){this.setState({value:"",showType:Pt.HotCity}),St(this,!0)}getSharkTitle(){const e=(0,i.By)().channel===o.CE.ctrip;let t=this.IBUShark("key.v.page.index.searchinputtip","");return this.props.isShowHotActivity&&(t=this.IBUShark("key.v.page.index.citysearchtip"," $(0) "),t=t.replace("$(0)",this.props.cityName)),this.props.isShowRegion&&(t=this.IBUShark("key.v.page.index.searchlocation","Country or region")),e&&(t=" / / "),t}closeCityLayer(){this.swithLayer(!1)}switchCityLayer(){this.state.showLayer&&this.state.searchType===Et.suggest&&"online-home"!=this.props.from?this.swithLayer(!1):this.swithLayer(!0,Et.suggest)}keySearchClick(){this.swithLayer&&this.swithLayer(!0,Et.keyWord)}onOlKeyInput(e){"object"==typeof e&&(e=e.target.value),this.setState({olSuggestVal:e}),this.onInput(e)}setEngineStatus(e,t){this.setState({hoverStatus:e,hoverIndex:t})}selectKeysCallback(e){this.headerSearchRef.getCityInputRef("input").value=e.name||e.itemName||e.newCityName,this.setState({olSuggestVal:e.name||e.itemName||e.newCityName,showLayer:!1,poiItem:e&&"poi"===e.type?e:{}})}}class At extends Oe{constructor(e){super(e),this.onClickPlacehold=e=>{this.setState({currentPalcehold:e})},this.getCityInputRef=e=>{if("regionInput"===(e=e||"regionInput")){if(this.regionInput&&this.regionInput.getRef&&this.regionInput.getRef().getRef)return this.regionInput.getRef().getRef()}else if("input"===e&&this.input&&this.input.getRef&&this.input.getRef().getRef)return this.input.getRef().getRef()},this.foucsInput=e=>{var t;(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&this.getCityInputRef("regionInput").select(),"online-home"===this.props.from&&(this.setState({cityActive:!0}),this.props.setTipDown(),this.props.onblueInputCallBack&&this.props.onblueInputCallBack())},this.validShowPopover=()=>{const{scrollWidth:e,clientWidth:t}=this.getCityInputRef("regionInput");this.setState({showTipPopover:e>t})},this.getshowTipPopover=()=>this.state.showTipPopover,this.onblueInput=e=>{"online-home"===this.props.from&&(this.setState({cityActive:!1}),this.validShowPopover()),this.props.onblueInput&&this.props.onblueInput()},this.keyFoucsInput=e=>{"online-home"===this.props.from&&this.setState({keyActive:!0}),this.props.onKeyInputFocus&&this.props.onKeyInputFocus()},this.keyBlueInput=e=>{"online-home"===this.props.from&&this.setState({keyActive:!1})},this.foucsKeyInput=e=>{},this.countryInputMouseEnter=e=>{let t=e.target.value;this.state.showTipPopover&&K("online-home")&&this.setTipStatus(!1,"online-home"),this.state.showTipPopover&&t&&this.setTipStatus(!0,"city-input-search",t)},this.countryInputMouseLeave=e=>{e.target.value&&this.setTipStatus(!1,"city-input-search")},this.handleGlobalKeyDown=e=>{"Tab"===e.key&&this.setState({isKeyboardUser:!0})},this.handleGlobalMouseDown=()=>{this.setState({isKeyboardUser:!1})},this.handleFocus=e=>{this.state.isKeyboardUser&&(this.setState({[`${e}Focused`]:!0}),"region"===e?this.props.switchCityLayer():"keyword"===e&&this.props.keySearchClick())},this.handleBlur=e=>{this.setState({[`${e}Focused`]:!1})},this.state={currentPalcehold:{},cityActive:!1,keyActive:!1,showTipPopover:!1,regionAnnounce:"",regionFocused:!1,keywordFocused:!1,searchFocused:!1,isKeyboardUser:!1}}componentDidMount(){document.addEventListener("keydown",this.handleGlobalKeyDown,!0),document.addEventListener("mousedown",this.handleGlobalMouseDown,!0),this.props.cityName&&"online-home"===this.props.from&&(this.getCityInputRef("regionInput").value=this.props.cityName)}componentWillReceiveProps(e){e.cityId!=this.props.cityId&&"online-home"===this.props.from&&this.props.setTipDown(),"online-home"===this.props.from&&e.cityName!=this.props.cityName&&(this.getCityInputRef("regionInput").value=e.cityName)}componentWillUnmount(){document.removeEventListener("keydown",this.handleGlobalKeyDown,!0),document.removeEventListener("mousedown",this.handleGlobalMouseDown,!0)}onOlKeyInput(e){const{onOlKeyInput:t}=this.props;t&&t(e)}onClear(){const{onClear:e}=this.props;e&&e()}setTipStatus(e,t,r,n){e?H(t,r):F(t)}announceRegion(e){this.setState({regionAnnounce:e})}}var Rt,Dt=(Rt=function(e,t){return Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Rt(e,t)},function(e,t){function r(){this.constructor=e}Rt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});const Lt=function(e){function t(t){var r=e.call(this,t)||this;return r.getRef=function(){return r.searchInputRefs},r}return Dt(t,e),t}(e.Component);function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}var jt={}.hasOwnProperty;const Bt=function e(t,r){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=Mt(o);if("string"===a||"number"===a)n.push(o);else if(Array.isArray(o)&&o.length){var s=e.apply(null,o);s&&n.push(s)}else if("object"===a)for(var c in o)jt.call(o,c)&&o[c]&&n.push(c)}}return n.join(" ")};var Ut=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ht=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};const Ft=function(e){function t(t){var r=e.call(this,t)||this;return r.state={},r}return Ut(t,e),t.prototype._setNativeProps=function(e){var t,r;(0,i.By)().platform===o.Jv.RN?this.iconRef&&this.iconRef.setNativeProps({style:e}):(0,i.By)().platform===o.Jv.H5&&this.iconRef&&(t=this.iconRef,r="color:"+e.color,(0,i.By)().platform!==o.Jv.RN&&t&&(t.style.cssText=r))},t.prototype.getStyleReduce=function(e){var t="#333";return e?e instanceof Array?e[0]instanceof Array?e.reduce(function(e,t){return void 0===e&&(e=[]),Ht(e,t)}).reduce(function(e,t){return void 0===e&&(e={}),Object.assign({},e,t)}):e.reduce(function(e,t){return void 0===e&&(e={}),Object.assign({},e,t)}):{color:e.color||t}:{color:t}},t}(t().Component);var Kt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wt=function(){return Wt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wt.apply(this,arguments)},qt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},Jt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Kt(r,e),r.prototype.render=function(){var e,r=this,n=this.props,i=n.type,o=n.suffixClass,a=n.className,s=(n.isSvg,qt(n,["type","suffixClass","className","isSvg"])),c="u_icon",l=Bt("u_icon_ttd "+a,((e={})[c+"_"+i]=i,e[c+"_"+o]=o,e));return t().createElement("i",Wt({},s,{className:l,ref:function(e){return r.iconRef=e}}))},r}(Ft);const $t=Jt;var Gt=__webpack_require__(4375),Vt=function(){return Vt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vt.apply(this,arguments)},zt=function(e){return"function"==typeof e},Yt=function(e,t,r){var n=Vt({},r);return n[e]=t,n},Qt=function(e,t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(t,e.concat(r))}}},Zt=!1,Xt=Qt(0,function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{zt(e)&&e.apply(this,r)}catch(e){}return t.apply(this,r)}}),er=(Qt(0,function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,o=t.apply(this,r),a=this,s=function(){try{e.apply(a,r)}catch(e){}};return(i=o)&&zt(i.then)?o.then(function(e){return s(),e}):(s(),o)}}),function(e){return function(t,r,n){if(!zt(e))throw new Error("trackFn is not a function "+e);return n.initializer?Yt("initializer",function(){var t=n.initializer.apply(this);return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.call(this,t,this).apply(this,r)}},n):Yt("value",function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.call(this,n.value,this).apply(this,t)},n)}});function tr(e){try{return Xt(function(t){Pe.t.get("trackArr",!0,{},function(e){e&&0===nr.length&&(nr=e)});var r=new Date;if(Zt){var n=void 0;if(e)return n="selectValue"===e?{k:this.id,v:{l:this.props.label,v:t},t:r}:{k:e,t:r},nr.push(n);if(this.id){switch(this.id){case"date-ceil":n={k:"date_"+t,v:t,t:r};break;case"booking-overdraft-content":n={k:"overdraft_card_"+t.installmentIndexNum,t:r};break;case"booking":case"global-tips":case"booking-reservation-terms":case"textCollapse":case"SelectQuantity":case"buy-notes":case"booking-traveler-edit":case"booking-passenger-traveler":case"choose-insurance-poplayer":case"booking-footer":case"booking-passenger-traveler-button-item":case"booking-passenger-traveler-single":case"name-switch":case"header-login":case"booking-additional-sale-resource-title":case"ChoiceOptions":case"insured":case"im":case"booking-traveler-list":case"booking-traveler-list-item":case"tab_calendar_enter_more":t&&(n={k:t,t:r});break;case"booking-coupon-selector":case"booking-coupon-card":case"super-vip":n={k:this.id,t:r};break;case"insurance":if("moreInsurance"===t){n={k:t,t:r};break}if("insurance_name"===t){n={k:"insurance_name_"+this.state.id,t:r};break}var i=this.state,o=i.checked,a=i.insurance,s=a?a.name:"";n={k:"insurance_"+this.state.id,v:{checked:o,name:s},t:r};break;default:n="Input"===this.cName?{k:this.id,v:this.state,t:r}:{k:this.id,v:this.props.label,t:r}}nr.push(n)}}})}catch(e){(0,r.cM)({title:" ",type:Gt.d.error,tags:{message:e}})}}var rr=function(e,t,r){return er(tr())(e,t,r)},nr=[];function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}var or=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ar=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":ir(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};const sr=function(e){function t(t){var r=e.call(this,t)||this;return r.onChange=function(e){var t="string"==typeof e?e:e.target.value;r.setState({value:t}),r.props.onChangeVal&&r.props.onChangeVal(t)},r.onClear=function(e){r.setState({value:""}),setTimeout(function(){r.inputRefs.focus()}),r.props.onClear&&r.props.onClear(e)},r.getRef=function(){return r.inputRefs},r.state={value:"",isFocus:!1},r.cName="Input",r.id=r.props.id+"",r}return or(t,e),t.prototype.componentWillMount=function(e){var t=(e||this.props).defaultVal;null!==t&&this.setState({value:t})},t.prototype.componentWillReceiveProps=function(e){this.componentWillMount(e)},t.prototype.onFocus=function(){var e=this.props,t=e.onFocus,r=e.focusShowClear,n=void 0!==r&&r;t&&t(),n&&this.setState({isFocus:!0})},t.prototype.onBlur=function(e){var t=this,r=this.props,n=r.onBlur,i=r.focusShowClear,o=void 0!==i&&i,a=r.showErrorTimeout,s=void 0===a?0:a;n&&n(this.state.value),o&&setTimeout(function(){t.setState({isFocus:!1})},s),(0,v.ho)()&&setTimeout(function(){var e=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(e-1,0))},100)},ar([rr],t.prototype,"onBlur",null),t}(e.Component);var cr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lr=function(){return lr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lr.apply(this,arguments)},ur=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const pr=function(e){function r(t){return e.call(this,t)||this}return cr(r,e),r.prototype.render=function(){var e,r,n=this,i=this.props,o=i.id,a=i.suffixClass,s=i.disabled,c=i.allowClear,l=i.focusShowClear,u=void 0!==l&&l,p=i.errorMsg,d=i.errorMsgIcon,f=void 0===d?{}:d,h=i.prefixContent,y=i.centerContent,m=i.suffixContent,g=i.nodeType,v=i.label,_=i.subLabel,w=i.borderLine,b=i.size,k=i.type,C=i.closeType,I=i.title,O=ur(i,["id","suffixClass","disabled","allowClear","focusShowClear","errorMsg","errorMsgIcon","prefixContent","centerContent","suffixContent","nodeType","label","subLabel","borderLine","size","type","closeType","title"]),S=this.state,E=S.value,P=S.isFocus,x="m_input",T=Bt(x,((e={})[x+"_"+a]=a,e[x+"_disabled"]=s,e[x+"_"+b]=b,e)),N=lr(lr({},O),{type:k,disabled:s,className:Bt("input_val",(r={},r["input_val_"+a]=a,r)),value:E,onInput:function(e){return n.onChange(e)},onBlur:function(e){return n.onBlur(e)},allowclear:"false",closeType:C}),A="animate"===a;return t().createElement("div",{className:T},!A&&v?t().createElement("div",{className:"m_input_label_wrap"},t().createElement("div",{className:"m_input_label"},v),_?t().createElement("div",{className:"m_input_sub_label"},_):null):null,I?t().createElement("div",{className:"input_title"},I):null,t().createElement("div",{className:"m_input_content_wrap"},t().createElement("div",{className:"m_input_content"},h&&t().createElement("div",{className:"input_prefix"},h),y||("textarea"==g?t().createElement("textarea",lr({id:o},N)):t().createElement("input",lr({id:o},N,{ref:function(e){return n.inputRefs=e},onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}))),A&&v?t().createElement("span",{className:"m_input_label"},v):null,E&&c&&(u&&P||!u)?t().createElement($t,{type:C||"closecircle",onClick:this.onClear}):null,w?t().createElement("span",{className:"input_border"}):null,m?t().createElement("div",{className:"m_input_suffix"},m):null),p&&(u&&!P||!u)?t().createElement("div",{className:"m_input_msg_wrap"},t().createElement($t,{type:f.icon||"warnShape"}),t().createElement("div",{className:"m_input_msg"},p),t().createElement("div",{className:"m_input_msg_border"})):null))},r.defaultProps={nodeType:"input"},r}(sr);var dr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fr=function(){return fr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fr.apply(this,arguments)};const hr=function(e){function r(t){return e.call(this,t)||this}return dr(r,e),r.prototype.render=function(){var e=this,r=this.props,n=(r.searchTxt,r.prefixContent),i=(r.fstyle,r.closeType),o=r.title,a=fr(fr({closeType:i},this.props),{suffixClass:"search",allowClear:!0,prefixContent:t().createElement("div",{className:"input_prefix_content"},n,t().createElement($t,{type:"search"})),title:o||""});return t().createElement(pr,fr({},a,{ref:function(t){return e.searchInputRefs=t}}))},r.defaultProps={size:"default",nodeType:"input"},r}(Lt);var yr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mr=function(){return mr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mr.apply(this,arguments)},gr=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},vr=function(e){function n(t){return e.call(this,t)||this}return yr(n,e),n.prototype.sendLog=function(){if(this.props.log){var e=this.props.log,t=e.params,n=e.type;(0,r.fU)(t,n)}},n.prototype.render=function(){var e=this,r=this.props,n=r.log,i=void 0===n?{}:n,o=r.forwardRef,a=gr(r,["log","forwardRef"]);i||(i={});var s=i.params,c=void 0===s?{}:s,l=i.type;return"newClick"===(void 0===l?"":l)?t().createElement("div",mr({id:c&&c.key},a,{ref:o})):t().createElement("div",mr({},a,{ref:o,onClick:function(t){e.sendLog(),e.props.onClick&&e.props.onClick(t)}}))},n}(e.Component);const _r=t().forwardRef(function(e,r){return t().createElement(vr,mr({},e,{forwardRef:r}))});var wr=__webpack_require__(2370),br=function(e){return JSON.parse(JSON.stringify(e))};class kr extends Oe{constructor(e){super(e),this.platform=(0,i.By)().platform,this.isCtrip=(0,i.By)().channel===o.CE.ctrip,this.startAnimate=e=>{let{index:t}=this.state,{duration:r,delay:n,placeholderList:i}=this.props;const{height:o}=this.state,a=e||i;let s=0;if(t<a.length-1){const e=++t;s=-e*o,this.setState({index:e})}else s=0,this.setState({index:0});this.timer=setTimeout(()=>{t===a.length-1&&0===s&&this.animatedTransformY.setValue(o),(0,wr.Ew)(this.animatedTransformY,s,r,()=>{this.sendMetric(this.state.index),clearTimeout(this.timer),this.timer=null,this.startAnimate()})},n)},this.sendMetric=(e,t)=>{const{sendMetricRecord:n}=this.state,{pageId:i,cityId:a,cityName:s}=this.props;if(t=t||this.props.placeholderList,Array.isArray(n)&&-1===n.indexOf(e)){const c=br(n);c.push(e);const l=Array.isArray(t)?t[e]:{};if(l&&l.type){const t={key:"pkg_srchbox_dftexpos",pagetab:-1!==["10650020916","10320669884"].indexOf(String(i))?"act":"10320669188"===String(i)?"tkt":"ibuttd",channel:this.platform===o.Jv.RN?"app":this.platform===o.Jv.H5?"h5":"online",traceid:l.traceId,position:e+1,pageid:i,kwdtype:l.sourceType,kwd:l.name};this.isCtrip?(t.gsdistrictid=a,t.pagefrom=-1!==["10320669188","10650020916"].indexOf(String(i))?"home":"list"):(t.departcityid=a,t.departcityname=s,t.pagefrom=-1!==["10650021558","10650021557","10650014881"].indexOf(String(i))?"home":"list",t.locale=this.Head.clientInfo&&this.Head.clientInfo.locale),(0,r.fU)(t,"tracelog"),this.setState({sendMetricRecord:c})}}},this.state={index:0,sendMetricRecord:[],num:0,offset:0,transition:null,transform:null,height:e.isDynamicHeight?null:e.height,numberOfLines:e.isDynamicHeight?null:e.numberOfLines,placeholderList:e.placeholderList},this.animatedTransformY=(0,wr.XF)(0),this.timer=null,this.boxRef=t().createRef(),this.newPosition=0,this.itemsHeight={maxHeight:0,heightObj:{}}}componentDidMount(){const{placeholderList:e,height:t,isDynamicHeight:r,switchItem:n}=this.props;!r&&this.initAnimate(t,e,!0),n&&n(e[this.state.index])}initAnimate(e,t,r){if(Array.isArray(t)&&t.length>1)if(this.platform===o.Jv.RN)this.setState({index:0,sendMetricRecord:[]},()=>{clearTimeout(this.timer),this.timer=null,this.animatedTransformY.setValue(0),!this.timer&&this.startAnimate(t),r&&this.sendMetric(this.state.index,t)});else{const n=e;this.setState({num:n,offset:-n,index:0,sendMetricRecord:[]},()=>{this.init(),r&&this.sendMetric(this.state.index,t)})}}textContentLayout(e,t){const{height:r,numberOfLines:n,placeholderList:i,isDynamicHeight:o,onSetHeight:a}=this.props;if(o&&!(Object.keys(this.itemsHeight.heightObj).length>=i.length)&&(this.itemsHeight.maxHeight=Math.max(e,this.itemsHeight.maxHeight),this.itemsHeight.heightObj[t]||(this.itemsHeight.heightObj[t]=e),Object.keys(this.itemsHeight.heightObj).length>=i.length)){let e=Math.min(this.itemsHeight.maxHeight,r*n);this.setState({height:e,numberOfLines:n,placeholderList:i.map((t,r)=>Object.assign(Object.assign({},t),{showAfterIcon:this.itemsHeight.heightObj[r]-e>12}))},()=>{this.initAnimate(e,i,!0)}),a&&a(e)}}init(){this.timer&&clearInterval(this.timer),this.timer=setInterval(()=>{this.animate(),this.sendMetric(this.state.index)},this.props.delay)}animate(){this.newPosition+=this.state.offset;const e=this.state.index+1;if(this.boxRef.current){this.setState({index:e,transition:`transform ${this.props.duration/1e3}s`,transform:"translateY("+this.newPosition+"px)"}),this.newPosition<-this.state.num*(this.props.placeholderList.length-1)&&(this.setState({index:0}),setTimeout(()=>{this.newPosition=0,this.setState({index:e,transition:"",transform:"translateY(0)"})},this.props.duration));const{switchItem:t,height:r}=this.props,{placeholderList:n}=this.state,i=-1*this.newPosition/r%n.length;t&&r&&t(n[i])}}componentWillReceiveProps(e){const{id:t}=this.props;if(e.id!=t&&(this.setState({height:e.isDynamicHeight?null:e.height,numberOfLines:e.isDynamicHeight?null:e.numberOfLines}),this.itemsHeight={maxHeight:0,heightObj:{}}),Array.isArray(e.placeholderList)&&e.placeholderList.length>1){if(this.setState({placeholderList:e.placeholderList.map((r,n)=>Object.assign(Object.assign({},r),{showAfterIcon:e.id!=t?r.showAfterIcon:this.state.placeholderList[n]&&this.state.placeholderList[n].showAfterIcon}))},()=>{(!e.id||e.id&&e.id!=t)&&this.initAnimate(this.props.height,e.placeholderList,!0)}),e.keyword!==this.props.keyword&&!e.keyword)if(this.platform===o.Jv.RN)this.setState({index:0},()=>{clearTimeout(this.timer),this.timer=null,this.animatedTransformY.setValue(0),!this.timer&&this.startAnimate()});else{const e=this.props.height;this.setState({num:e,offset:-e},()=>{this.init()})}}else 1===e.placeholderList.length&&e.placeholderList!==this.props.placeholderList&&(this.setState({index:0,placeholderList:e.placeholderList.map((r,n)=>Object.assign(Object.assign({},r),{showAfterIcon:e.id&&e.id==t?this.state.placeholderList[n].showAfterIcon:r.showAfterIcon}))},()=>{this.animatedTransformY&&this.animatedTransformY.setValue(0),this.clearTimer()}),this.sendMetric(this.state.index,e.placeholderList))}componentWillUnmount(){this.clearTimer()}clearTimer(){this.timer&&(this.platform===o.Jv.RN?clearTimeout(this.timer):clearInterval(this.timer)),this.timer=null}}const Cr=class extends kr{render(){const e=[].concat(...this.props.placeholderList,this.props.placeholderList[0]),{height:r,fontStyle:n,fstyle:i}=this.props;return t().createElement("div",{ref:this.boxRef,className:"p_animate_wrap",style:i},t().createElement("div",{className:"animate_box"},t().createElement("div",{style:{transition:this.state.transition,transform:this.state.transform},className:"box"},e.map((e,i)=>t().createElement("div",{style:Object.assign({height:r+"px",lineHeight:r+"px"},n),className:"list_item",onClick:()=>this.props.onClick(e),id:`ibuact-${this.props.pageId}-search-click-${this.props.cityId}-home-${this.Head.clientInfo&&this.Head.clientInfo.locale}`,key:i},t().createElement("div",{className:"list_item_child"},t().createElement("span",null,e.name)))))))}};var Ir={},Or={},Sr=(0,i.By)().platform,Er=function(e,t){return!!Or[e]&&-1!=Or[e].indexOf(t.key)},Pr=function(e,t){Or[e]||(Or[e]=[]),-1===Or[e].indexOf(t.key)&&Or[e].push(t.key)},xr=function(e,t){Or[e]&&Or[e].indexOf(t.key)>-1&&Or[e].splice(Or[e].indexOf(t.key),1)},Tr=function(e,t){t.dom&&X(t.dom,function(r){var n=r.top+r.height,a=r.top,s=r.left,c=!!r.width||!!r.height,l=(0,i.Fs)().height;if(a>=0&&a<l&&c||c&&a<=0&&n>0)if(t.isRow){var u=(0,i.Fs)().width;s<u&&c||s-u<0?(Nr(e,t),Sr!==o.Jv.RN&&Pr(e,t)):Sr===o.Jv.RN&&xr(e,t)}else Nr(e,t),Sr!==o.Jv.RN&&Pr(e,t);else Sr===o.Jv.RN&&xr(e,t)}),Sr===o.Jv.RN&&Pr(e,t)},Nr=function(e,t){(0,r.fU)(t.params)};const Ar=function(e,t){!function(e,t){Er(e,t)||(Ir[e]||(Ir[e]=[]),Ir[e].push(t),Tr(e,t))}(e,t)};class Rr extends Oe{constructor(e){super(e)}}var Dr=__webpack_require__(2538),Lr=__webpack_require__.n(Dr),Mr=__webpack_require__(2397);class jr extends Qe{constructor(e){super(e),this.engineRef=t().createRef(),this.setTitleToArray=(e,t)=>e.split(t),this.state={}}componentDidUpdate(e){const t=e.activeIndex,r=this.props.activeIndex;if(null!=r&&r!==t){const e=this.engineRef.current.querySelector(`#engine-option-${r}`);if(!e)return;e.scrollIntoView({block:"nearest"})}}componentWillReceiveProps(e){e.ListEmptyComponent||(0,Mr.$Z)("searchCityErrorPage")}}class Br extends t().Component{constructor(e){super(e),this.header=(0,i.Fs)(),this.state={firstChildHover:!!e.firstChildHover&&e.firstChildHover,index:e.index?e.index:0,hoverIndex:e.hoverIndex?e.hoverIndex:0}}componentWillReceiveProps(e){e.firstChildHover==this.props.firstChildHover&&e.hoverIndex==this.props.hoverIndex||this.setState({firstChildHover:e.firstChildHover,hoverIndex:e.hoverIndex})}onClick(e,t){"pshowcates"==e.type&&(e.cityId=t.itemId,e.cityName=t.itemName),this.props.onClick&&this.props.onClick(e)}handleMouseEnter(e){this.props.changeStatus&&this.props.changeStatus(!1,e)}handleMouseLeave(e){this.props.changeStatus&&this.props.changeStatus(!0,e)}handleMouseDown(e,t){this.props.onMouseDown&&this.props.onMouseDown(e,t)}}__webpack_require__(9007);class Ur extends Qe{constructor(e){super(e)}}var Hr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fr=function(e){function t(t){var r=e.call(this,t)||this;r.renderTime=0;var n=function(){if(Q)return Q()}(),i=r.props.paddingWidth,o=void 0===i?0:i;return r.state={ready:!0,screenWidth:n||0,imgWidth:n-o||0,imgHeight:0},r}return Hr(t,e),t.prototype.setRenderTime=function(e){this.renderTime=e},t.prototype.componentDidMountCallBack=function(){var e,t,r,n=this,a=this.props,s=a.isFullScreen,c=a.componentDidMountCallBack,l=a.dynamicWidth,u=a.dynamicHeight;if((0,i.By)().platform===o.Jv.RN&&(s||l||u)){var p=this.props,d=p.url,f=p.paddingWidth,h=void 0===f?0:f,y=this.state.screenWidth,m=this;e=d,t=function(e,t){s&&m.setState({ready:!0,imgHeight:t*(y-h)/e}),l&&n.props.height&&m.setState({ready:!0,imgWidth:n.props.height/t*e,imgHeight:n.props.height}),u&&n.props.width&&m.setState({ready:!0,imgWidth:n.props.width,imgHeight:n.props.width/e*t})},r=function(){m.setState({ready:!1})},Z&&Z(e,t,r)}c&&c()},t.prototype.componentDidMount=function(){this.componentDidMountCallBack()},t.prototype.componentWillMount=function(){var e=this;if((0,i.Fs)().miniType!==o.Sd.wechat){var t=this.props,r=t.url,n=t.defaultUrl;if((0,i.By)().platform!==o.Jv.Node&&(0,i.By)().platform!==o.Jv.RN){var a=new Image;a.src=r,a.complete&&this.setState({ready:!0}),a.onload=function(){e.setState({ready:!0})},a.onerror=function(){if(n&&void 0!==r&&""!==r){var t=new Image;t.src=n,t.onload=function(){e.setState({defaultUrl:n,ready:!0})}}}}}},t.prototype.componentWillReceiveProps=function(){this.state.ready||this.setState({ready:!0})},t}(A.Z);const Kr=Fr;var Wr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]};const qr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wr.apply(void 0,e)};var Jr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$r=function(e){function t(t){var r=e.call(this,t)||this;r.pixel=0,r.isShow=!1;var n=(0,i.Fs)().enviroment;return r.isShow=n===o.aQ.DEV||n===o.aQ.FAT,r.state={width:0,height:0,componentWidth:0,componentHeight:0,isValid:!1},r.setImageSize=r.setImageSize.bind(r),r}return Jr(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.timer)},t.prototype.componentDidMount=function(){this.setImageSize()},t.prototype.setImageSize=function(){var e=this;if(this.isShow){var t=this.props.source.uri;if(this.Image)if((0,i.Fs)().platform===o.Jv.RN)this.Image.getSize(t,function(t,r){t=Math.round(t),r=Math.round(r),e.setState({width:t,height:r})},function(e){});else if((0,i.Fs)().platform===o.Jv.H5||(0,i.Fs)().platform===o.Jv.Online){var r=new Image;r.src=t,r.complete?this.setState({width:r.width,height:r.height}):r.onload=function(){e.setState({width:r.width,height:r.height})},this.setComponentSize()}}},t.prototype.setComponentSizeHandler=function(e){var t=0,r=0;if(e)e.nativeEvent&&e.nativeEvent.layout&&(t=e.nativeEvent.layout.width,r=e.nativeEvent.layout.height);else{var n=qr(this.inst)||{clientHeight:0,clientWidth:0},i=n.clientHeight;t=n.clientWidth,r=i}t=Math.round(t),(r=Math.round(r))>52&&this.setState({isValid:!0}),this.setState({componentWidth:t,componentHeight:r})},t.prototype.setComponentSize=function(e){var t=this;(!e||e.nativeEvent&&e.nativeEvent.layout)&&((0,i.Fs)().platform===o.Jv.RN?this.setComponentSizeHandler(e):this.timer=setTimeout(function(){t.setComponentSizeHandler(e)},1e3))},t.prototype.getProportion=function(e,t){return 100*Math.abs((e-t)/e)},t.prototype.getIsLegal=function(e,t){var r=e.componentWidth,n=e.componentHeight,i=t.width,o=t.height,a=r/n,s=i/o,c=this.getProportion(a,s),l=this.getProportion(3*r,i),u=this.getProportion(3*n,o);return r===i&&n===o?{color:"green",result:" "}:c<10&&l<10?{color:"#66DD00",result:" "}:c<50&&l<100&&u<100?{color:"#EE9900",result:" "}:{color:"#FF0000",result:" "}},t}(e.Component);const Gr=$r;var Vr=__webpack_require__(7196);!function(e){Wr=e}(Vr.findDOMNode);var zr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yr=function(){return Yr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yr.apply(this,arguments)},Qr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.Image=r,t}return zr(r,e),r.prototype.render=function(){var e=this.state,r=e.width,n=e.height,o=e.componentWidth,a=e.componentHeight,s=e.isValid,c=this.props.reactNodes;(0,i.sk)()||(this.pixel=devicePixelRatio);var l=this.getIsLegal({componentWidth:o,componentHeight:a},{width:r,height:n}),u=l.color,p=l.result;return t().createElement(t().Fragment,null,!this.isShow&&t().createElement(c,Yr({},this.props)),this.isShow&&t().createElement(t().Fragment,null,t().createElement(c,Yr({},this.props)),s&&t().createElement("div",{className:"dev_image_wraper",style:{position:"absolute",zIndex:100,top:"50%",backgroundColor:"white"}},t().createElement("span",{style:{color:"red",fontSize:10}},":",r+"*"+n),t().createElement("span",{style:{color:"orange",fontSize:10}},":",o+"*"+a),t().createElement("span",{style:{color:"green",fontSize:10}},"pixel:",this.pixel),t().createElement("span",{style:{color:u,fontSize:10}},p))))},r}(Gr);const Zr=Qr;var Xr,en,tn,rn=function(){function e(){}return e.prototype.formatIndex=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.prototype.formatHref=function(e){void 0===e&&(e=""),(0,i.sk)()||e.startsWith("http")||(e=window.location.protocol+"//"+window.location.host+e);var t=e.indexOf("?");return t>1&&"/"!==e[t-1]?e=e.replace("?","/?"):e&&!e.endsWith("/")&&(e+="/"),e},e}(),nn=__webpack_require__(85),on=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),an=function(){return an=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},an.apply(this,arguments)},sn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},cn=function(e){function r(t){var r=e.call(this,t)||this,n=!1;return(0,i.By)().platform===o.Jv.Node&&(n=!0),r.state={ready:n,defaultUrl:""},r}return on(r,e),r.prototype.render=function(){var e,r=this,n=this.props,a=n.url,s=n.isImage,c=n.suffixClass,l=n.size,u=n.isImgNode,p=(sn(n,["url","isImage","suffixClass","size","isImgNode"]),this.state.ready),d=(0,i.By)().channel===o.CE.trip?"trip":"ctrip",f="m_image",h=Lr()(f,((e={})[f+"_"+(l||"large")]=!p,e[f+"_"+d]=!p&&d,e[f+"_"+c]=c,e));return this.state.defaultUrl&&this.state.defaultUrl,t().createElement("div",{className:h},p&&(u?t().createElement(Zr,{node:this.node,source:{uri:a},reactNodes:function(){return t().createElement("img",{className:"m_image_node",src:a})}}):s?t().createElement(Zr,{source:{uri:a},node:this.node,reactNodes:function(){return t().createElement("div",{className:"img",style:{backgroundImage:'url("'+a+'")'}})}}):t().createElement(Zr,{node:this.node,source:{uri:a},reactNodes:function(){return t().createElement("div",an({},r.props,{className:"m_image_background",style:{backgroundImage:'url("'+a+'")'}}))}})))},r}(Kr);function ln(e){var r=an(an({},e),{url:(0,nn.N)(e.url)});try{var n=r,i=n.url,o=n.href,a=void 0===o?"":o,s=n.name,c=void 0===s?"":s,l=n.isSeo,u=void 0!==l&&l;return n.needALabel,u?(a=(Xr||(Xr=new rn),Xr).formatHref(a),t().createElement("a",{title:c,href:a,onClick:function(e){return e.preventDefault()}},t().createElement("img",{alt:c,src:i,style:{height:1,width:1,display:"none"}}),t().createElement(cn,an({},r)))):t().createElement(cn,an({},r))}catch(e){return t().createElement(cn,an({},r))}}class un extends Ur{render(){const{imgUrl:e,title:r,description:n}=this.props;let o="m_noresultprompt";return t().createElement("div",{className:`${o}`,tabIndex:0,role:"alert"},e&&"Online"!==(0,i.By)().platform&&t().createElement("div",{className:`${o}_img_con`},t().createElement(ln,{url:e,className:`${o}_img`})),r&&t().createElement("p",{className:`${o}_title`},r),n&&t().createElement("p",{className:`${o}_description`},n))}}class pn extends jr{constructor(){super(...arguments),this.renderItem=(e,r)=>{const{hitKey:n,renderItem:i,from:o}=this.props;if(n){let i=this.setTitleToArray(e.itemName,n),a=[];i.map((e,r)=>{0!==r&&("online-home"!=o?a.push(t().createElement("span",{className:"highlight",key:r},n)):a.push(t().createElement("span",{key:r},n))),a.push(e)}),this[`title${r}`]=t().createElement("span",null,a)}return i(e,r)}}render(){const{suffixClass:e,data:r,ListEmptyComponent:n,from:o,activeIndex:a}=this.props,s=[];if(0===r.length)n?s.push(n):s.push(t().createElement(un,{from:o,imgUrl:"https://webresource.english.c-ctrip.com/ares2/activity/ottd-h5-international-website-application/1.1.33/default/_next/static/images/no-search.png",title:this.IBUShark("key.v.page.index.searchfail","No results found"),description:this.IBUShark("key.v.page.index.noproduct","No activities are currently available in this city.")}));else{const e=r.map((e,t)=>this.renderItem(e,t));t().Children.map(e,(e,r)=>{s.push(t().cloneElement(e,{key:r,title:this[`title${r}`],index:r}))})}let c="m_searchengine";const l=Lr()(c,{[`${c}_${e}`]:e,[`${c}_empty`]:0===r.length});return t().createElement("div",Object.assign({id:"region-results",role:"listbox","aria-activedescendant":null!=a?`engine-option-${a}`:void 0,className:l,ref:this.engineRef},this.props),!("Online"!==(0,i.By)().platform||!s||!s.length)&&0!==r.length&&t().createElement("div",{role:"group","aria-labelledby":"group-0-heading"},t().createElement("div",{className:"m_searchresult_title",id:"group-0-heading"},this.IBUShark("key.v.page.productlist.searchdestinationresult","Results"))),s)}}pn.Item=class extends Br{constructor(e){super(e)}render(){const{suffixClass:e,avatar:r,title:n,description:i,item:o}=this.props,{firstChildHover:a,index:s,hoverIndex:c}=this.state;let l="m_searchengine_item";const u=Lr()(`${l}`,{m_searchengine_item_hover:a&&s===c,[`${l}_${e}`]:e}),p=Lr()(`${l}_avatar`,{[`${l}_avatar_${e}`]:e}),d=Lr()("wrapper_title",{[`wrapper_title_${e}`]:e}),f=Lr()("wrapper_description",{[`wrapper_description_${e}`]:e});return t().createElement("div",{className:u,role:"option",id:`engine-option-${s}`,"aria-selected":s===c,tabIndex:-1,onClick:this.onClick.bind(this,o),onMouseDown:this.handleMouseDown.bind(this,o),onMouseEnter:this.handleMouseEnter.bind(this,s),onMouseLeave:this.handleMouseLeave.bind(this,s)},r&&t().createElement("div",{className:p},r),t().createElement("div",{className:`${l}_wrapper`},t().createElement("p",{className:d},n),i&&t().createElement("p",{className:f},i),t().createElement("div",{className:`${l}_wrapper_line`})))}},function(e){e.act="act",e.tkt="tkt",e.ibuttd="ibuttd",e.gst="gst"}(en||(en={})),function(e){e.actHomeApp="10650020916",e.actListApp="10320669884",e.actListOnline="10650038368",e.actListH5="104801",e.actMixMiniProgramList="10650021045",e.tktHomeApp="10320669188",e.tktHomeH5="10320657096",e.tktListApp="10320662471",e.ibuttdHomeApp="10650021558",e.ibuttdListApp="10650019404",e.ibuttdHomeH5="10650021557",e.ibuttdListH5="10650012750",e.ibuttdHomeOnline="10650014881",e.ibuttdListOnline="10650012671",e.gstHomeApp="10650040486",e.gstHomeH5="10650040020",e.gstListApp="10650038923",e.gstListH5="10650040024"}(tn||(tn={}));const dn={[o.Jv.Online]:{[o.CE.ctrip]:114,[o.CE.trip]:118},[o.Jv.RN]:{[o.CE.ctrip]:115,[o.CE.trip]:119},[o.Jv.Hybrid]:{[o.CE.ctrip]:115,[o.CE.trip]:119},[o.Jv.H5]:{[o.CE.ctrip]:116,[o.CE.trip]:120},[o.Jv.MINI]:{[o.CE.ctrip]:117}},fn=(0,i.By)().platform,hn=(e,t,r,n)=>{const i={};return t.defaultPrams&&t.defaultPrams.forEach(function(e){i[e[0]]=e[1]}),t.params&&t.params.forEach(function(t){["from","cityId","cityName"].indexOf(t[1])>=0?"line"===e.type?i[t[0]]=e[t[1]]||r[t[1]]:i[t[0]]=r[t[1]]:i[t[0]]=e[t[1]]}),-1!==t.url.indexOf("list")&&"city"===n&&(i["extras-districtid"]=e.newCityId),[t.url,i]},yn=({pageId:e,pageType:t,cityType:r,cityId:n,locale:i,currency:o,platformId:a,traceId:s})=>({pageid:Number(e),pageType:Number(t),locale:i||"zh-CN",currency:o||"RMB",cityParam:{cityType:r,cityId:n},limitParam:{hotViewLimit:24===a?10:6,hotSearchLimit:24===a?10:6,hotPathLimit:24===a?10:6,hotCityLimit:24===a?5:3,hotActivityLimit:24===a?5:3,hotProductLimit:24===a?10:6,hotGuideLimit:3},platformId:a,traceId:s});function mn(e){return e?fn!==o.Jv.Online?e:encodeURIComponent(e):""}function gn(e){return e?fn===o.Jv.RN?e:encodeURIComponent(e):""}var vn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const _n={dftclick:"pkg_srchbox_dftclick",hotexpos:"pkg_srchbox_hotexpos",hotclick:"pkg_srchbox_hotclick",aroundExpos:"pkg_srchbox_around_expos",associate:"pkg_srchbox_associate",search:"pkg_srchbox_search",associateCardExpos:"ibu_listpage_searchassociateexpo_expo",associateCardClick:"ibu_listpage_searchassociateclick_click",associateFunctionClick:"ibu_listpage_searchfunctionclick_click"},wn=e=>_n[e];function bn(e){var{eventName:t,metricType:r,pageId:n,traceid:o,pagefrom:a}=e,s=vn(e,["eventName","metricType","pageId","traceid","pagefrom"]);if("tracelog"===r)kn(Object.assign({key:wn(t),pagetab:s.pagebu?null:Ve(n),channel:"RN"===(0,i.Fs)().platform?"app":"H5"===(0,i.Fs)().platform?(0,i.Fs)().isMiniProgram?"weixin":"h5":"online",pageid:n,pagefrom:a,traceid:o},s));else{let e=`${Ve(n)}-${n}`;switch(s.isCtrip||(e=`ibuact-${n}`),t){case"historyClear":e=`${e}-history-clear-${s.cityId}-${a}`,s.isCtrip||(e+=`-${s.locale}`);break;case"aroundClick":e=`${e}-around-click-${s.cityId}-${a}`}kn({key:e},"click")}}function kn(e,t="tracelog"){(0,r.fU)(e,t)}const Cn=(0,i.By)().channel===o.CE.ctrip,In=e=>{switch(e.toLocaleLowerCase()){case"ttdproduct":return 4;case"sight":return 2;case"cityparentdistrict":return 11;default:return 1}},On=({keyword:e,cityId:t,pageId:r,pageType:n,cityType:o,userLocation:a,traceId:s,locale:c,currency:l,platformId:u,head:p})=>{let d={searchType:1};[{pageIds:["10650020916","10320669884","600004824"],params:{searchType:3}},{pageIds:["10320669188","10320662471","10320657096"],params:{searchType:2}},{pageIds:["10650021558","10650021557","10650014881","10650019404","10650012750","10650012671","10650040486","10650040020"],params:{searchType:1}}].forEach(e=>{-1!==e.pageIds.indexOf(r)&&(d=e.params)});let f={};Cn||(f={channelId:`${dn[(0,i.Fs)().platform][(0,i.By)().channel]}`,needSightPrice:"true",needGsDistrict:"true",needPurePoi:"true",needBaseSuggest:"true",system:"",deviceName:"",screenWidth:window&&document?String(document.body.clientWidth||window.screen.width):"",screenHeight:window&&document?String(document.body.clientHeight||window.screen.height):""});const h=Object.assign({limit:10,keyword:e,cityParam:{cityType:o,cityId:t},locationCity:{cityType:o,cityId:a.cityId},associatedParams:[{key:"srhtraceid",value:s}],supParams:[{type:"1",value:"1"}],pageid:Number(r),pageType:n,saleType:2,needDistance:!0,displayTip:!0,locale:c,currency:l,platformId:u,extraParams:f,head:p},d);return a&&a.cityId&&(h.location={type:1,lon:a.longitude,lat:a.latitude}),(e=>{var t,r,n,o,a,s,c,l,u,p;const d=(0,i.Fs)(),f={client:{cid:d.cid,locale:(null==e?void 0:e.locale)||"en-US",currency:(null==e?void 0:e.currency)||"",version:null,source:"tnt_search_popover",variables:[{key:"BASE_SUGGEST",value:"true"},{key:"CHANNEL_ID",value:null===(t=null==e?void 0:e.extraParams)||void 0===t?void 0:t.channelId},{key:"SYSTEM",value:null===(r=null==e?void 0:e.extraParams)||void 0===r?void 0:r.system},{key:"DEVICE_NAME",value:null===(n=null==e?void 0:e.extraParams)||void 0===n?void 0:n.deviceName},{key:"SCREEN_WIDTH",value:null===(o=null==e?void 0:e.extraParams)||void 0===o?void 0:o.screenWidth},{key:"SCREEN_HEIGHT",value:null===(a=null==e?void 0:e.extraParams)||void 0===a?void 0:a.screenHeight}],trace:null,channel:null},keyword:e.keyword,tab:10,channel:d.platform,geo:{location:{id:null===(s=null==e?void 0:e.locationCity)||void 0===s?void 0:s.cityId,type:"gs_district",category:3}}};return(null===(c=null==e?void 0:e.extraParams)||void 0===c?void 0:c.needTripEntrance)&&f.client.variables.push({key:"NEED_TRIP_ENTRANCE",value:"true"}),(null===(l=null==e?void 0:e.extraParams)||void 0===l?void 0:l.tripEntrance)&&f.client.variables.push({key:"TRIP_ENTRANCE",value:"V3"}),e.location&&(f.geo.lonLat={lon:null===(u=e.location)||void 0===u?void 0:u.lon,lat:null===(p=e.location)||void 0===p?void 0:p.lat,type:null}),f})(h)},Sn=(e,t=!0)=>{let{minPriceType:r,rmbReferencePrice:n,sameReferencePrice:i,price:o,minusPromotions:a}=e,s=!1,c=!1,l=null,u=!1,p=!1,d=null;switch(r){case 1:case 5:s=!0;break;case 0:l=o,u=!0;break;case 2:case 3:p=!0,l=n,u=i?u:!u;break;default:c=!0}return s||c||p||(d=En(l,a,t)),Object.assign({isFree:s,noPrice:c,price:Je(l),showStart:u,showReference:p},d)},En=(e,t,r)=>{let n,i,o=0;if(e>0&&t&&t.length){let r;t.forEach(t=>{0===t.promotionStatus&&(r=3===t.type&&2===t.reductionMode?"startAmount":"amount",3===t.type&&3===t.reductionMode&&e<t.startAmount||(o=$e(o,t[r]),i=$e(e,-o)))})}const a=isNaN(i)?Je(e):Je(i);return n=!isNaN(i)&&i<=e?Je(e):n,{price:a,reducedAmountText:o?r?`${n} ${Je(o)}`:" ":""}};function Pn(e,t,r,n){const a=e.tags;let s={type:"tag",data:[]},c="",l={},u=null,p="";if(Array.isArray(a)&&a.length>0){const e=a.find(e=>"category"===e.tagType)||{},t=a.find(e=>"comment"===e.tagType)||{};l=a.find(e=>"statistics"===e.tagType)||{},u=a.find(e=>"studio"===e.tagType),Array.isArray(e.tagItems)&&e.tagItems.forEach(e=>{s.data.push({type:"categoray",text:e.tagName})}),t.tagItems&&t.tagItems.length>0&&(c+=`${t.tagItems[0].tagName}`),l.tagItems&&l.tagItems.length>0&&(p=l.tagItems[0].tagIconUrl)}const d="true"===e.vCert||e.vCert?[{type:"icon",icon:"guideV"}]:[];return u&&d.push({type:"img",imgUrl:"https://dimg04.c-ctrip.com/images/0AS03120003h60drbC4D8.png",imgStyle:{width:42,height:12}}),{type:"guidepopover",uid:e.uid,imcode:e.imCode,data:{id:e.id,imgInfo:{safeImg:p||"",imgUrl:e.imgUrl,safeImgStyle:{width:43,height:14}},content:[{type:"title",data:{title:e.name,titleRight:d,numberOfLines:1}},s,{type:"review",data:{score:e.cmtScore,reviews:c,productDesc:e.serviceTimeDesc?e.serviceTimeDesc:" "}}],buttonInfo:{text:" "},productUrl:`https://${(0,i.By)().enviroment.toUpperCase()===o.aQ.FAT||(0,i.By)().enviroment.toUpperCase()===o.aQ.DEV?"www.fat1.qa.nt.ctripcorp.com":"m.ctrip.com"}/webapp/ttdguide/guidedetail?guideId=${e.id}`,position:r+1,traceId:n},beforeChange:t}}const xn=({target:e,nextProps:t})=>{let r={},n=!1,i=!1;if(t)r=t;else if(e&&e.props&&e.props.cityId)r=e.props;else if(e&&e.props&&e.props.app&&e.props.app.urlQuery)r=e.props.app&&e.props.app.urlQuery,n=!0,i=!0;else{const{query:e={}}=(0,oe.H)(null);r=Object.assign({},e),n=!0}let a="act";if(r){if(r.cityType||(r.cityType=1),r.pagefrom||(r.pagefrom="home"),r.placeholdObj){if("string"==typeof r.placeholdObj)try{r.placeholdObj=decodeURIComponent(r.placeholdObj)}catch(e){}try{r.placeholdObj=JSON.parse(r.placeholdObj)}catch(e){}}const{pageId:t,pageType:i,cityType:s,cityId:c}=r;if(t){a=Ve(t);const r=qe(),l=[{request:yn({pageId:t,pageType:i,cityType:s,cityId:c,locale:e.header.language,currency:e.header.currency,platformId:e.isCtrip&&e.platform!==o.Jv.Online?null:e.platformId,traceId:r}),actionUrl:"12530/getHotWordV1"}];e.isCtrip&&(e.header.cid&&l.push({request:{UID:e.header.cid,QueryList:[{BizType:"ACTIVITY"},{BizType:"TICKET"},{BizType:"GUIDE"}],SortBy:"CREATE_TIME",SortType:0,StartOffset:1,EndOffset:10},actionUrl:"10108/json/myfavoritesquery"}),e.platform===o.Jv.RN&&(l.push({request:{pageid:t,dcid:c,type:1===s?0:1},actionUrl:"12530/gsLocationQOC"}),ft(t=>{e.afterFetch({userLocation:t||{cityId:0,cityName:"",isOverSea:!1,latitude:"",longitude:""}})}))),e.http(null,{list:l,loading:n,success:t=>{if(Array.isArray(t)){const n=((e,t,r,n)=>{const i={hotActivity:[],hotCity:[],hotLine:[],hotProduct:[],hotSearch:[],hotView:[],hotGuide:[]};if(e.hotViewArea&&Array.isArray(e.hotViewArea.items)&&e.hotViewArea.items.length>0){const o=e.hotViewArea.items.filter(e=>-1!==[1,2,3].indexOf(e.type));let a=1;for(let e of o){const o={key:`view${e.id}`,id:e.id,name:e.name,type:e.type,position:a++,eType:"hotView",traceId:t};2===e.type&&(o.poiCityId=n?e.districtId:e.cityId,o.poiCityName=e.cityName,o.isOversea=e.isOversea),o.pagebu=r,i.hotView.push(o)}}if(e.hotSearchArea&&Array.isArray(e.hotSearchArea.items)&&e.hotSearchArea.items.length>0){const n=e.hotSearchArea.items.filter(e=>-1!==[1007,1008].indexOf(e.type));let o=1;for(let e of n){const n={key:`search${e.value}`,name:e.name,position:o++,eType:"hotSearch",traceId:t};1007===e.type?n.id=e.value:n.code=e.value,n.pagebu=r,i.hotSearch.push(n)}}if(e.hotPathArea&&Array.isArray(e.hotPathArea.items)&&e.hotPathArea.items.length>0){let n=1;for(let o of e.hotPathArea.items)i.hotLine.push(Object.assign(Object.assign({key:`line${o.id}`,position:n++},o),{eType:"hotPath",traceId:t,pagebu:r}))}if(e.hotCityArea&&Array.isArray(e.hotCityArea.items)&&e.hotCityArea.items.length>0){let n=1;for(let o of e.hotCityArea.items)i.hotCity.push({key:`city${o.districtId}`,newCityId:o.districtId,position:n++,newCityName:o.name,eType:"hotCity",traceId:t,pagebu:r,isOversea:o.isOversea})}if(e.hotActivityArea&&Array.isArray(e.hotActivityArea.items)&&e.hotActivityArea.items.length>0){let n=1;for(let o of e.hotActivityArea.items)i.hotActivity.push(Object.assign(Object.assign({key:`activity${n}`,position:n++},o),{eType:"hotAct",traceId:t,pagebu:r}))}if(e.hotProductArea&&Array.isArray(e.hotProductArea.items)&&e.hotProductArea.items.length>0){let n=1;for(let o of e.hotProductArea.items)i.hotProduct.push(Object.assign(Object.assign({key:`product${n}`,position:n++},o),{eType:"hotPro",traceId:t,pagebu:r}))}return e.hotGuideArea&&Array.isArray(e.hotGuideArea.items)&&e.hotGuideArea.items.length>0&&(i.hotGuide=e.hotGuideArea.items.map((e,n)=>Object.assign({key:`guide${n}`,position:++n,eType:"hotGuide",traceId:t,pagebu:r},e))),i})(t[0].data||{},r,a,e.isCtrip);let i=!0,s="E",c="B";e.platform===o.Jv.Online&&Object.keys(n).forEach(t=>{(Array.isArray(n[t])&&n[t].length>0&&("hotActivity"===t||!e.isCtrip&&"zh_HK"!==e.header.language)||n[t].length>=5&&"hotActivity"!==t)&&(i=!1)});const l=[];let u=!1;t[1]&&(0===t[1].ResultCode||t[1].head&&0===t[1].head.errcode)&&(Array.isArray(t[1].ResultList)&&t[1].ResultList.length>0?t[1].ResultList.forEach(e=>{l.push(e.ProductID)}):t[1].data&&(u=t[1].data.isOversea)),t[2]&&t[2].head&&0===t[2].head.errcode&&(u=t[2].data.isOversea),e.afterFetch({hotSearchData:n,myFavotitesProductIds:l,isOverSea:u,noResult:i,tktAbRusult:s,associateAbResult:c})}}})}}return{initData:r,value:r.inputValue||"",pagebu:a,isPage:n,isOpenURL:i}},Tn=function(e,t){let r;return function(...n){const i=this;clearTimeout(r),r=setTimeout(function(){e.apply(i,n)},t)}}(({http:e,request:t,callback:r,fail:n})=>{e({request:t,actionUrl:"20684/suggest",success:e=>{const t=(e=>{var t,r;let n=e;const o=(null===(r=null===(t=null==e?void 0:e.modules)||void 0===t?void 0:t[0])||void 0===r?void 0:r.items)||[],a=[];return o.forEach(e=>{var t,r,n,o,s;let c=null===(t=null==e?void 0:e.priceInfo)||void 0===t?void 0:t.price;void 0===c&&(c=null),setTimeout(()=>{var t,r;"sight"!==(null===(r=null===(t=e.type)||void 0===t?void 0:t.toLocaleLowerCase)||void 0===r?void 0:r.call(t))&&(null==e?void 0:e.url)&&kn({key:"dev_ttd_search_has_url",platform:(0,i.By)().platform,type:null==e?void 0:e.type,url:null==e?void 0:e.url},"__devtracelog")},2e3);let l={id:e.id,type:In(e.type),name:null==e?void 0:e.name,parentName:null==e?void 0:e.upperName,price:c,minPriceType:null===(r=null==e?void 0:e.priceInfo)||void 0===r?void 0:r.displayPriceType,extraInfo:{},detailUrl:{app:null===(n=null==e?void 0:e.url)||void 0===n?void 0:n.app,online:null===(o=null==e?void 0:e.url)||void 0===o?void 0:o.online,h5:null===(s=null==e?void 0:e.url)||void 0===s?void 0:s.h5}};const{infos:u=[]}=e;u.forEach(e=>{"highLightTitle"===e.key&&(l.extraInfo.highLightTitle=e.value),"historyDesc"===e.key&&(l.extraInfo.historyDesc=e.value),"poiType"===e.key&&(l.extraInfo.poiType=e.value),"recommendDesc"===e.key&&(l.extraInfo.recommendDesc=e.value),"items"===e.key&&(l.extraInfo.items=e.value)}),a.push(l)}),n=Object.assign(Object.assign({},e),{data:{items:a}}),n})(e);r(t)},fail:e=>{n(e)}})},200),Nn=({target:e,keyword:t,callback:r})=>{const{pagebu:n,initData:i}=e.state,{pageId:a}=i||{},s={source:e.platform===o.Jv.H5?"h5":e.platform===o.Jv.RN?"app":"pc",keyword:t,locale:e.header.language,bizLine:n===en.gst?16:a===tn.actHomeApp?8:15};e.http({request:s,actionUrl:"20684/getKeywordLink",success:e=>{if(e&&e.data&&e.data.length>0){const n=e.data.find(e=>e.keyword===t);r(n&&n.linkUrl)}else r()},fail:e=>{r()}})};class An extends Qe{constructor(e){var r,n,a;super(e),this.header=(0,i.Fs)(),this.channel=(0,i.By)().channel,this.isCtrip=(0,i.By)().channel===o.CE.ctrip,this.platform=(0,i.By)().platform,this.platformId=this.platform===o.Jv.RN?25:this.platform===o.Jv.H5?26:24,this.popoverRef=t().createRef(),this.getHistory=e=>{if(e){let t="tripHistoryList";this.isCtrip&&(t="cTripHistoryList"),e===en.gst&&(t+="Gst");const r=`${t}_${this.header.language}_${this.channel}`;Pe.t.get(r,!1,{},e=>{Array.isArray(e)&&e.length>0&&(e=e.filter((e,t)=>{let r=Object.keys(e)[0];return!!e[r]&&!(!e[r].itemName||!e[r].itemName.trim())&&(e[r].position=t+1,e[r].oriType=e[r].type,e[r].eType="hist",e)}),this.setState({historyList:e,noResult:!1}))})}},this.onClickNearbyButton=()=>{const{initData:e}=this.state,{callback:t,pagefrom:r,cityId:n,pageId:i,cityName:o}=e,a={showNearby:!0,subDistance:10,cityId:n,cityName:o,pshowcode:"Ticket2"};let s="nearby";String(i)!==tn.tktHomeApp&&String(i)!==tn.tktHomeH5||(s="actNearby",a.needJump=!0),!t||a.needJump?this.onHandleClick(s)(a):(t(s,a),this.pop()),bn({eventName:"aroundClick",pagefrom:r,cityId:n,pageId:i})},this.onCancle=()=>{const{isPage:e}=this.state;var t;this.sendFunctionMetric("cancel"),this.setState({blur:!0},()=>{this.setState({blur:!1});let t="";e&&this.platform!==o.Jv.RN&&(t="/"),this.pop(t,this.header.isInMini)}),t=!1,(0,i.By)().platform===o.Jv.H5&&(document.body.style.cssText=t?"overflow-y: hidden":"overflow-y: auto")},this.onlineHomeSelected=e=>{const{selectKeysCallback:t}=this.state.initData;t&&t(e)},this.onHandleClick=(e,t)=>(r,n)=>{const{initData:i,pagebu:a}=this.state,{callback:s,onClose:c,tripfrom:l,cityId:u,cityName:p,cityType:d}=i;t&&this.onlineHomeSelected(Object.assign(Object.assign({},r),{type:e}));let f=null;if("activity"===e||"keyword"===e&&r.linkUrl)f="keyword"===e?r.linkUrl:r.url,this.setState({blur:!0},()=>{this.setState({blur:!1}),this.platform===o.Jv.RN&&a!==en.gst&&["10650020916","10320669188"].indexOf(i.pageId)<0&&"tangram"!=i.sourceFrom&&this.pop()}),this.platform===o.Jv.Online?this.push(f,"","",!0):this.push(f);else if(!s||r.needJump){const s=this.isCtrip?r.cityId||r.poiCityId||r.districtId||r.newCityId||u:r.districtId||r.cityId||r.poiCityId||r.newCityId||u,c=this.isCtrip?r.cityName||r.poiCityName||r.districtName||r.newCityName||p:r.districtName||r.cityName||r.poiCityName||r.newCityName||p;r=Object.assign(Object.assign({},r),{cityId:s,cityName:c,cityType:2==d?"ct":"dt"}),this.switchCity(e,r);const l=((e,t,r,n)=>{var i;const{pageId:o,cityType:a,cityId:s}=n;r=r||o;const c=We.urlRules[r||o];let l="mix",u=!1,p=!1;if(c){const r=c[e];if(r){if(r.isReplace)l=hn(t,r.rule,n,e);else{if(l=r.rule.completeUrl,p=r.rule.isThirdPartyPage,l.indexOf("{")>0)for(let e of Object.keys(t)){const r=`{${e}}`;let n=t[e];l=l.replace(r,gn(n))}if(r.rule.defaultPrams&&r.rule.defaultPrams.forEach(function(e){l=`${l}&${e[0]}=${e[1]}`}),r.rule.params&&r.rule.params.forEach(function(e){["from","cityId","cityName"].indexOf(e[1])>=0?(t[e[1]]=n[e[1]],l=`${l}&${e[0]}=${mn(n[e[1]])}`):l=`${l}&${e[0]}=${mn(t[e[1]]||"")}`}),-1!==l.indexOf("list")&&"city"===e){const e=`&extras-districtid=${t.newCityId}`;l+=e}}u=r.newPage}}return t.detailUrl&&(l=(null===(i=t.detailUrl)||void 0===i?void 0:i[fn.toLowerCase()])||l),{url:l,newPage:u,isThirdPartyPage:p}})(e,r,n,this.state.initData);f=l.url;const h=l.isThirdPartyPage;Array.isArray(f)?this.replace(f[0],f[1]):t||(l.newPage?this.push(f,"","",!0):this.push(f,void 0,void 0,void 0,void 0,void 0,void 0,h),this.platform===o.Jv.RN&&a!==en.gst&&["10650020916","10320669188"].indexOf(i.pageId)<0&&"tangram"!=i.sourceFrom&&this.pop()),this.setState({blur:!0},()=>{this.setState({blur:!1})})}else"hotPath"===(r=Object.assign(Object.assign({},r),{cityId:r.cityId||r.poiCityId||r.districtId||r.newCityId||u,cityName:r.cityName||r.poiCityName||r.districtName||r.newCityName||p,citytype:2==d?"ct":"dt"})).eType&&(r.code="1daytrip"),"hotSearch"===r.eType&&(r.id&&(e="category"),r.code&&(e="play",r.id=r.code)),this.switchCity(e,r),s(e,r),this.setState({blur:!0},()=>{this.setState({blur:!1}),this.platform===o.Jv.RN&&this.pop()});c&&c(),"nearby"!==e&&(r.url=f,this.addHistory(e,r))},this.addHistory=(e,t)=>{t=Object.assign(Object.assign({},t),{type:e}),-1!==["city","tktCity","acs","actCity"].indexOf(e)?(t.itemId=t.newCityId||t.districtId,t.itemName=t.newCityName||t.districtName):-1!==["tktKeyword","actKeyword","keyword"].indexOf(e)?(t.itemId=`keyword${t.keyword}`,t.itemName=t.keyword,delete t.cityId,delete t.cityName):"activity"===e?(t.itemId=`activity${t.name}`,t.itemName=t.name):"peopleCity"===e?(t.itemId=`peopleCity${t.newCityId}`,t.itemName=t.newCityName):"acsItem"===e?(t.itemId=t.pshowcode,t.itemName=t.name):("category"!==e&&"play"!==e||(t.type="playCategory","play"===e&&delete t.id),t.itemId=t.id,t.itemName=t.name);let r="tripHistoryList";this.isCtrip&&(r="cTripHistoryList"),this.state.pagebu===en.gst&&(r+="Gst");const n=`${r}_${this.header.language}_${this.channel}`,i=this.platform!==o.Jv.Online?3:this.isCtrip||"zh-HK"===this.header.language?5:3;t.itemName&&Ot(n,t,i,e=>{this.setState({historyList:e})})},this.onClickHistory=e=>{const{pagebu:t,initData:r}=this.state,{callback:n,tripfrom:i}=r,a=e;if((a.url&&!n||a.url&&a.needJump)&&t===a.pagebu&&-1!==a.type.indexOf("keyword"))Array.isArray(a.url)?(a.url[1]&&a.url[1].kwdFrom&&(a.url[1].kwdFrom="hist"),this.replace(a.url[0],a.url[1])):(-1!==a.url.indexOf("kwdFrom")&&(a.url=a.url.replace(/(keyFrom=)([^&]*)/gi,"keyFrom=hist")),this.push(a.url),this.platform===o.Jv.RN&&t!==en.gst&&["10650020916","10320669188"].indexOf(r.pageId)<0&&"tangram"!=r.sourceFrom&&this.pop()),this.switchCity(a.type,a),this.addHistory(a.type,a);else{if(t!==a.pagebu){const{type:e,needJump:r}=function(e,t,r){let n=r;if("act"===t)switch(e){case"actCity":e="city",n=!1;break;case"actKeyword":e="keyword",n=!1;break;case"poi":case"line":case"acs":n=!1;break;case"tktPoi":n=!0}if("tkt"===t)switch(e){case"city":e="actCity",n=!0;break;case"keyword":e="actKeyword",n=!0;break;case"poi":case"line":case"acs":n=!0;break;case"tktCity":e="city",n=!1;break;case"tktKeyword":e="keyword",n=!1;break;case"tktPoi":case"playCategory":n=!1}return{type:e,needJump:n}}(a.type,t,a.needJump);a.type=e,a.needJump=r}a.kwdFrom="hist",this.onHandleClick(a.type)(a)}},this.onClearHistory=e=>{e&&e.stopPropagation();const{hotSearchData:t,initData:r,pagebu:n}=this.state,{pagefrom:i,cityId:a,pageId:s}=r;let c="cTripHistoryList";this.channel===o.CE.trip&&(c="tripHistoryList"),n===en.gst&&(c+="Gst"),Pe.t.set(`${c}_${this.header.language}_${this.channel}`,[]),this.platform===o.Jv.RN&&bn({eventName:"historyClear",pagefrom:i,cityId:a,pageId:s,locale:this.header.language,isCtrip:this.isCtrip});let l=!0;this.platform===o.Jv.Online&&Object.keys(t).forEach(e=>{(Array.isArray(t[e])&&t[e].length>0&&("hotActivity"===e||!this.isCtrip&&"zh_HK"!==this.header.language)||t[e].length>=5&&"hotActivity"!==e)&&(l=!1)}),this.setState({historyList:[],noResult:l})},this.onSearch=(e,t,r)=>{const{myFavotitesProductIds:n,initData:i,userLocation:a}=this.state;let s=i;s.pageId||(s=t),t||this.setState(Object.assign({},this.state,{value:e})),this.sendFunctionMetric("srch");const c=e&&e.trim(),{cityId:l,pageId:u,cityType:p,pageType:d,cityName:f}=s,h=qe();if(c){const t=Object.assign({},this.Head).head,i=On({keyword:e,cityType:this.isCtrip?p:1,cityId:l,pageType:d,pageId:u,userLocation:a,traceId:h,locale:this.header.language,currency:this.header.currency,platformId:this.isCtrip?null:this.platformId,head:{cid:String(t.cid),syscode:String(t.syscode)}});Tn({request:i,http:this.http,callback:e=>{if(e&&e.data){const t=((e=[],t,r,n,i=[],a,s,c,l,u,p,d,f,h)=>{const y=[];let m=!1;if(e.forEach((e,r)=>{if(e.showTabs=!1,e.hasBorder=!0,e.distancedesc="",3!==e.type&&2!==e.type||s===en.gst||("B"===f&&c?4===e.jumpType?e.type=2:e.type=3:-1===We.actPageId.indexOf(n)&&("true"!==t.curCity_isOverSea||String(n)!==tn.tktHomeApp&&String(n)!==tn.tktHomeH5)||3!==e.type||(e.type=2)),1===e.type&&c&&(n===tn.tktListApp?e.rightText="   ":Array.isArray(e.categories)&&e.categories.length?(0===r&&(e.showTabs=n!==tn.tktListApp),e.categories=e.categories.slice(0,24===l?5:3),e.rightText="gst"===s?"   ":"    "):e.rightText="gst"===s?"  ":"   "),7!==e.type&&1!==e.type||c||Array.isArray(e.categories)&&e.categories.length&&(0===r&&(e.showTabs=!0),e.categories=e.categories.slice(0,24===l?5:3)),2===e.type&&c&&"gst"!==s&&"B"!==f&&(e.rightText="   "),(2===e.type||3===e.type)&&c&&s!==en.gst&&n!==tn.tktListApp&&"B"===f&&e.categories&&e.categories.length>0&&(e.showCategory=!0,e.categories=(e.categories||[]).slice(0,2)),6===e.type&&c&&(e.rightText=(tn.tktListApp,"   ")),e.partTip&&r>0){const e=y.length;y[e-1].hasBorder=!1}if(e.distance&&1!==e.type&&!h&&"0"===e.distanceType&&(e.distancedesc=" ",e.distance>1?(e.distance=e.distance.toFixed(1),e.distancedesc=e.distance>10?"":e.distancedesc+`${e.distance} `):1e3*e.distance>100?e.distancedesc=e.distancedesc+Math.floor(1e3*e.distance)+" ":e.distancedesc=" 100 "),3!==e.type&&4!==e.type||!c||(e.priceControl=Sn(e)),c||(e.needShowTripPrice=5!==e.minPriceType),3===e.type&&-1!==i.indexOf(String(e.scenicSpotId))&&(e.favorityText=" "),4===e.type&&-1!==i.indexOf(String(e.id))&&(e.favorityText=" "),8===e.type&&(e.extraInfo&&(e=Object.assign(Object.assign({},e),e.extraInfo)),e.guideCardInfoList=[],e.guideCardInfoList.push(Pn(e,d,r,a))),9===e.type&&(e.parentName=p),1!==e.type&&7!==e.type||(m=!0),e.traceId=a,e.pagebu=s,u===o.Jv.Online&&6===e.type||y.push(e),1===e.type&&Array.isArray(e.guides)&&e.guides.length>0){const t=br(e);t.showTabs=!1,t.name=t.name+"  ",t.rightText="  ",t.hasBorder=!1,t.guideCardInfoList=[],e.guides=e.guides.slice(0,3),e.guides.forEach(e=>{t.guideCardInfoList.push(Pn(e,d,1,a))}),y.push(t)}}),r&&-1!==We.showResortFlagshipPgIds.indexOf(String(n))){const e=r.tags,t={type:10,hasBorder:!0,traceId:a,name:r.name,url:r.jumpLink,logoUrl:r.logo,tagInfo:Array.isArray(e)?e.reduce((e,t)=>e?`${e} | ${t.tagName}`:t.tagName,""):null};m?y.splice(1,0,t):y.unshift(t)}return y})(e.data.items||[],e.data.extraInfo||{},e.data.resortFlagship,u,n,h,this.state.pagebu||r,this.isCtrip,this.platformId,this.platform,f,this.onClickGuideCard,this.state.associateAbResult,this.isReducedAccuracy);this.setState({associateDataList:t,isSearched:!0})}else this.setState({associateDataList:[],isSearched:!0})},fail:()=>{this.setState({isSearched:!0})}})}else this.setState({isSearched:!1})},this.onClearInput=()=>{this.sendFunctionMetric("dltkwd"),this.setState({value:"",isSearched:!1,associateDataList:[]})},this.onSearchSubmit=(e,t,r)=>{var n;const{associateDataList:i,pagebu:a,isOverSea:s,initData:c}=this.state,{pageId:l,poiItem:u={},pshowcode:p,placeholdObj:d,tripfrom:f,cityId:h,cityName:y}=c,{pagefrom:m}=this.props;let g=d||t,v=this.state.value||e;const _=this.handleCommonMetricParams();this.sendFunctionMetric("srch");let w="online-home"!=f?v&&v.trim():v&&v.trim()||!v;if(g&&g.type&&!v)this.onSearchPlaceholdObj(g),bn(Object.assign(Object.assign({},_),{traceid:g.traceId,eventName:"dftclick",kwdtype:g.sourceType,kwd:g.name,position:g.position}));else{if(!w&&this.platform!==o.Jv.Online)return!1;{if(a===en.act&&/^\d{2,}$/.test(v)&&this.platform===o.Jv.RN){const e={ver:this.header.app_version,id:v,imageSize:"C_640_360"};(({http:e,request:t,callback:r})=>{e({request:t,actionUrl:"10220/json/ActivityInfo",success:e=>{r(e)}})})({http:this.http,request:e,callback:e=>{e&&e.newdata?(this.pop(),this.push(`/activity/index.html#/webapp/acitivity/dest/t${v}.html?isHideNavBar=YES`)):this.onHandleClick("keyword")({keyword:v,code:"10650020916"===l?"1daytrip":"",showCurrent:"yes",pagebu:a,kwdFrom:"srch"})}})}else if(u&&u.type&&u.id&&"poi"===u.type)this.onHandleClick("poi")({id:u.id,name:u.name});else{if(r=r||p,"home"===m)if(this.platform===o.Jv.RN)ie.traceSearch({module:"tnt",search_term:v.trim()});else if(this.platform===o.Jv.H5){const{prd_type:e,region:t,language:r,pvid:i}=se();null===(n=null===window||void 0===window?void 0:window.dataLayer)||void 0===n||n.push({event:"search",region:t,search_term:v.trim(),prd_type:e,page_id:"10650021557",language:r,pvid:i})}Nn({target:this,keyword:v.trim(),callback:e=>{const t={keyword:v.trim(),code:"10650020916"===l?"1daytrip":r||"",showCurrent:"yes",pagebu:a};let n="keyword";e?t.linkUrl=e:(String(l)!==tn.tktHomeApp&&String(l)!==tn.tktHomeH5||(s?(n="actKeyword",t.needJump=!0):(n="actKeyword",t.code="Ticket2",t.needJump=!0)),!s||String(l)!==tn.tktHomeApp&&String(l)!==tn.tktHomeH5||(n="actKeyword",t.needJump=!0),t.kwdFrom="srch"),this.onHandleClick(n)(t)}})}const e=Object.assign(Object.assign({},_),{pagebu:a,eventName:"search",kwd:v,showass:i&&i.length?1:0,inass:i&&i.some(e=>e.name&&e.name.toUpperCase()===v.toUpperCase())?1:0,addinfo:{pageid:l}});this.isCtrip?e.departcityid=Number(h)||0:(e.departcityid=Number(h)||0,e.departcityname=y,e.version=this.header.version),bn(e)}}},this.onClickAssociateCard=(e,t)=>{const{initData:r,isOverSea:n}=this.state,{pageId:i,tripfrom:o,cityId:a,cityName:s}=r,{type:c,handleObj:l}=(({item:e,isCtrip:t,cityId:r,cityName:n,isTktHome:i,isActHome:o,currentIsOverSea:a})=>{let s={},c="";switch(e.type){case 1:c=e.guideCardInfoList?"peopleCity":"city",s={newCityId:e.id,newCityName:e.name,isOversea:e.isOverSea},e.rightText&&-1!==e.rightText.indexOf("   ")&&(s.code="    "===e.rightText?"":"1daytrip",i&&(c="actCity",s.needJump=!0,s.code="Ticket2")),e.guideCardInfoList&&(s.needJump=!0);break;case 2:c="poi",s={id:e.id,name:e.name,poiCityId:e.districtId,poiCityName:e.districtName,code:o?"1daytrip":"",isOversea:e.isOverSea,detailUrl:e.detailUrl},s.needJump="tkt"===e.pagebu||"ibuttd"===e.pagebu;break;case 3:c="tktPoi",s={id:e.scenicSpotId,poiId:e.id,name:e.name,needJump:!0};break;case 4:c="product",s={id:e.id,name:e.name,needJump:!0};break;case 6:c="keyword",s={name:e.name,keyword:e.name,code:Array.isArray(e.categories)&&e.categories[0]?e.categories[0].code:""},i&&(a?(c="actKeyword",s.needJump=!0):(c="actKeyword",s.code="Ticket2",s.needJump=!0));break;case 7:3===e.cityType?(c="cityKey",s={name:e.name,id:e.id}):(c="city",s={districttype:1===e.cityType?1:2,pagetype:1===e.cityType?"country":"province",pshowcode:"-1",newCityId:e.id,newCityName:e.name});break;case 8:c="guide",s={id:e.id,name:e.name,needJump:!0};break;case 9:c="acsItem",s={name:e.name,pshowcode:e.code,districtId:r,districtName:n};break;case 10:c="activity",s={url:e.url,name:e.name}}return s.kwdFrom="assword",s.pagebu=e.pagebu,{type:c,handleObj:s}})({item:e,isCtrip:this.isCtrip,cityId:a,cityName:s,isTktHome:i===tn.tktHomeApp||i===tn.tktHomeH5,isActHome:i===tn.actHomeApp,currentIsOverSea:n});"keyword"===c?Nn({target:this,keyword:l.keyword,callback:e=>{e&&(l.linkUrl=e),this.onHandleClick(c,!1)(l)}}):this.onHandleClick(c,!1)(l),this.handleAssociateMetric(e,t+1)},this.onSearchPlaceholdObj=e=>{const{pagebu:t,initData:r}=this.state,{type:n,handleObj:i}=((e,t,r)=>{let n={id:e.id,name:e.name},i="";switch(e.type){case 1:i="tktPoi",n.needJump=!0;break;case 2:case 5:case 6:i="product",n.needJump=!0;break;case 3:i="poi",n.poiCityId=e.cityid,n.poiCityName=e.cityName;break;case 4:e.url?(i="activity",n=Object.assign(Object.assign({},n),{url:e.url})):(i="act"===t?"tktKeyword":"keyword",r&&(i="actKeyword",n.needJump=!0,n.code="Ticket2"),n=Object.assign(Object.assign({},n),{keyword:e.name}))}return n.kwdFrom="srch",n.pagebu=t,{type:i,handleObj:n}})(e,t,r.pageId===tn.tktHomeApp);this.onHandleClick(n)(i)},this.onCickAcs=(e,t,r)=>{const{initData:n,pagebu:i}=this.state,{pageId:o}=n;let a={},s="";this.isCtrip?(a={pshowcode:t.code,pagebu:i},s="acs",r?"Ticket2"===t.code?(a={poiId:e.id,id:e.scenicSpotId,needJump:!0},s="tktPoi"):(a=Object.assign({id:e.id,name:e.name,poiCityId:e.cityId,poiCityName:e.cityName,code:t.code},a),s="poi"):a=Object.assign({districtId:e.id,districtName:e.name},a),String(o)===tn.tktHomeApp&&(a.needJump=!0),a.keyFrom="assword"):(s="city",3===e.cityType?(s="cityKey",a={name:e.name,id:e.id,pshowcode:t.code}):a={districttype:1===e.cityType?1:2,pagetype:1===e.cityType?"country":"province",newCityId:e.id,newCityName:e.name,pshowcode:t.code},a.keyFrom="assword"),e.categorycode=t.code,this.handleAssociateMetric(e,1),this.onHandleClick(s)(a)},this.handleCommonMetricParams=()=>{const{cityId:e,cityName:t,pageId:r,pagefrom:n}=this.state.initData,i={metricType:"tracelog",pageId:r,pagefrom:n,gsdistrictid:0,departcityid:0};return this.isCtrip?i.gsdistrictid=e?Number(e):0:(i.departcityid=e?Number(e):0,i.departcityname=t,i.locale=this.header.language),i},this.switchCity=(e,t)=>{},this.state=Object.assign({historyList:[],metricParams:{},hotSearchData:{hotActivity:[],hotCity:[],hotLine:[],hotProduct:[],hotSearch:[],hotView:[],hotGuide:[]},associateDataList:[],userLocation:{cityId:0,cityName:"",isOverSea:!1,latitude:null,longitude:null},blur:!1,fadeInOpacity:(0,wr.XF)(this.channel===o.CE.ctrip?.2:1),isSearched:!1,myFavotitesProductIds:[],isOverSea:!1,noResult:!0,isPage:!1,isOpenURL:!1},xn({target:this})),this.afterFetch=this.afterFetch.bind(this),this.refreshInputValue=this.refreshInputValue.bind(this),this.onClickGuideCard=this.onClickGuideCard.bind(this),this.handleAssociateMetric=this.handleAssociateMetric.bind(this),this.initPage=this.initPage.bind(this),this.isReducedAccuracy=!1,(void 0===r&&(r=!1),void 0===n&&(n=!1),new Promise(function(e,t){ut.getLocation(function(t,r){r?e(" "===r?{status:0,res:t,err:r}:{status:3,res:t,err:r}):t.isReducedAccuracy?e({status:2,res:t,err:r}):e({status:1,res:t,err:r})},tt.all,r,n,a)})).then(({status:e})=>{this.isReducedAccuracy=2===e})}static getSharkConfig(){return{"key.v.page.searchpage.layer.placehold":{id:"key.v.page.searchpage.layer.placehold"},"key.v.page.searchpage.toast.noresult":{id:"key.v.page.searchpage.toast.noresult"},"key.v.page.orderoption.feeree":{id:"key.v.page.orderoption.feeree"},"key.v.page.searchpage.layerclear":{id:"key.v.page.searchpage.layerclear"},"key.v.page.searchpage.layer.hotcity":{id:"key.v.page.searchpage.layer.hotcity"},"key.v.page.searchpage.layer.hissearch":{id:"key.v.page.searchpage.layer.hissearch"},"key.v.page.searchpage.layer.hotspot":{id:"key.v.page.searchpage.layer.hotspot"},"key.v.page.searchpage.layer.hotsearch":{id:"key.v.page.searchpage.layer.hotsearch"},"key.v.page.searchpage.layer.hotroute":{id:"key.v.page.searchpage.layer.hotroute"},"key.v.page.searchpage.layer.hotproduct":{id:"key.v.page.searchpage.layer.hotproduct"},"key.v.page.searchpage.layer.hotevent":{id:"key.v.page.searchpage.layer.hotevent"}}}static getInitialData(){return{title:"   ",desc:"",keys:"",pageId:"10650021561",isNotFullSSR:!0}}static isSSR(){return!1}setMetricParams(){const{pageId:e,cityId:t,cityName:r,pagefrom:n,page_name:i}=this.state.initData,o={pageId:e,pagefrom:n,cityId:t,cityName:r,isCtrip:!1,pagebu:this.state.pagebu,pageName:i||"搜索联想页",locale:this.Head.clientInfo&&this.Head.clientInfo.locale,currency:this.Head.clientInfo&&this.Head.clientInfo.currency};this.setState({metricParams:o})}sendFunctionMetric(e){const{metricParams:t}=this.state;bn(Object.assign({eventName:"associateFunctionClick",metricType:"tracelog",button:e},t))}componentDidMount(){this.initPage(),this.setMetricParams()}initPage(){ee("darkContent"),this.platform!==o.Jv.H5&&this.isCtrip&&this.platform===o.Jv.RN&&(0,wr.Ew)(this.state.fadeInOpacity,1,500);const{initData:e,pagebu:t}=this.state;e.inputValue&&this.onSearch(e.inputValue,e,t),this.getHistory(t);const r=this.pageRef&&this.pageRef.offsetHeight;r&&(document.body.style.height=`${r}px`)}componentWillReceiveProps(e){if(ee("darkContent"),this.platform===o.Jv.H5)if(this.props.pageId!==e.pageId){const t=xn({target:this,nextProps:e}),{pagebu:r,value:n,initData:i}=t;this.setState(Object.assign({},t)),this.getHistory(r),t.value&&this.onSearch(n,i,r)}else e.inputValue===this.state.value||e.inputValue||this.refreshInputValue(e);this.platform===o.Jv.Online&&this.props.inputValue!==e.inputValue&&this.refreshInputValue(e)}componentDidUpdate(e){this.showErrorPage();const t=e.AssociateHoverIndex,r=this.props.AssociateHoverIndex;if(null!=r&&r!==t){const e=this.popoverRef.current.querySelector(`#associate-option-${r}`);if(!e)return;e.scrollIntoView({block:"nearest"})}}showErrorPage(){this.state.noResult&&(0,Mr.$Z)("searchErrorPage")}componentWillUnmount(){this.setState({fadeInOpacity:null})}afterFetch(e){this.setState(Object.assign(this.state,Object.assign({},e)))}refreshInputValue(e){e.inputValue?this.onSearch(e.inputValue):this.setState({value:"",associateDataList:[]})}getAssociateDataList(){return this.state.associateDataList}onClickGuideCard(e){const t={type:"guide",pagebu:"gst",id:e.id,name:Array.isArray(e.content)&&e.content[0]&&e.content[0].data&&e.content[0].data.title,needJump:!0};this.addHistory("guide",t),this.handleAssociateMetric({type:8,traceId:e.traceId,name:t.name,id:t.id},e.position)}handleAssociateMetric(e,t){const{initData:r,pagebu:n}=this.state,{pageId:i,cityId:o,cityName:a}=r,s=this.handleCommonMetricParams(),c=Object.assign(Object.assign({},s),{pagebu:n,atctraceid:e.traceId,eventName:"associate",associatekwd:e.name,kwdfrom:"assword",userinput:this.state.value,associateid:3===e.type?String(e.scenicSpotId):e.id?String(e.id):"",associate_pos:t,addinfo:{pageid:i},categorycode:e.categorycode||""});this.isCtrip?(c.departcityid=Number(o)||0,c.associatekwdtype=["","d","ss","shortcut","shortcut","","query","","guide","category","store"][~~e.type]||""):(c.departcityid=Number(o)||0,c.departcityname=a,c.associatekwdtype=["","","ss","shortcut","shortcut","","kwd"][~~e.type]||"",7===e.type&&(c.associatekwdtype=1===e.cityType?"country":2===e.cityType?"province":"city"),c.locale=this.header.language,c.region="",c.currency=this.header.currency,c.version=this.header.app_version+"."+wt()),"shortcut"!==c.associatekwdtype&&"guide"!==c.associatekwdtype||(n===en.gst?c.lob=4===e.type?"gst":"gstsearch":c.lob=3===e.type?"tkt":"act"),bn(c)}}class Rn extends Oe{constructor(e){super(e),this.adNoDataCallback=()=>{this.setState({isShowAd:!1})},this.adCallback=()=>{this.setState({isLoadedAd:!0})},this.callback=e=>{const{initData:t}=this.props;["10650020916","10320669188"].indexOf(t.pageId)<0&&"tangram"!=t.sourceFrom&&this.pop(),this.push(e)},this.handleSearchContent=(e,t)=>{const r=[];return Array.isArray(e)&&("history"===t?e.forEach(e=>{let t=Object.keys(e)[0];e=e[t],r.push({key:t,text:e.name||e.newCityName||e.itemName,item:e})}):"city"===t?e.forEach(e=>{r.push({key:e.key,text:e.newCityName,item:e})}):e.forEach(e=>{r.push({key:e.key,text:e.name||e.itemName,item:e})})),r},this.adWidth=this.header.width-32,this.adHeight=.1999*this.adWidth,this.state={isShowAd:!0,isLoadedAd:!1}}componentWillReceiveProps(e){this.props.showNearbyButton!==e.showNearbyButton&&e.showNearbyButton&&We.showNearbyButton.indexOf(e.pageId)>=0&&bn({eventName:"aroundExpos",metricType:"tracelog",pageId:this.props.pageId,pagefrom:this.props.pagefrom,gsdistrictid:this.props.cityId})}}class Dn extends Oe{constructor(e){super(e),this.isCtrip=(0,i.By)().channel===o.CE.ctrip,this.header=(0,i.Fs)(),this.handleData=e=>{const{type:t}=this.props,r=this.header.platform===o.Jv.Online?5:3,n=this.header.platform===o.Jv.Online?10:6,i=e.slice(0,this.isCtrip||"zh-HK"===this.header.language||"hotCity"===t?r:6);if(0!==i.length&&("hist"===t||!this.isCtrip&&"zh-HK"!==this.header.language&&"hotCity"!==t||"hotAct"===t||i.length<=r)&&this.setState({show:!0,firstRowData:i}),this.isCtrip||"zh-HK"===this.header.language){const t=e.slice(r,n);t.length>0&&this.setState({secondRowData:t})}},this.state={show:!1,firstRowData:[],secondRowData:[]}}componentDidMount(){this.handleData(this.props.dataList)}componentWillReceiveProps(e){e.dataList!==this.props.dataList&&e.dataList.length>0&&this.handleData(e.dataList)}}class Ln extends Oe{constructor(e){super(e),this.getKwdType=e=>({hist:"hist",hotView:"hotpoi",hotSearch:"hotfilter",hotPath:"hotline",hotAct:"hotact",hotCity:"hotcity",hotPro:"hotpkg",hotGuide:"hotguide"}[e]),this.onClickItem=e=>{const{metricParams:t,isCtrip:r}=this.props;if("hist"!==e.eType){let n="keyword";switch(e.eType){case"hotView":1===e.type?(n="tktPoi",e.needJump=!0):2===e.type?(n="poi","act"===e.pagebu&&(e.code="1daytrip")):n="product";break;case"hotSearch":n="playCategory",t.pageId!==tn.tktHomeApp&&t.pageId!==tn.tktHomeH5||(n="actPlayCategory",e.needJump=!0);break;case"hotPath":n="line";break;case"hotAct":e.url?n="activity":(n="keyword",e.keyword=e.name);break;case"hotCity":n=r?"city":"cityKey","act"===e.pagebu&&(e.code="1daytrip"),"cityKey"===n&&(e.id=e.newCityId,e.name=e.newCityName),t.pageId!==tn.tktHomeApp&&t.pageId!==tn.tktHomeH5||(n="actCity",e.code="Ticket2",e.needJump=!0);break;case"hotPro":n="product",e.needJump=!0;break;case"hotGuide":n="guide",e.needJump=!0}e.kwdFrom="hot",this.props.onClick(n,e)}else this.props.onClickHistory(e);const n={eventName:"hotclick",metricType:"tracelog",pageId:t.pageId,traceid:"hist"===e.eType?null:e.traceId,pagefrom:t.pagefrom,kwdtype:this.getKwdType(e.eType),id:e.id||e.code||e.newCityId,kwd:e.name||e.newCityName||e.itemName,position:e.position};t.isCtrip?n.gsdistrictid=t.cityId||0:(n.departcityid=t.cityId||0,n.departcityname=t.cityName,n.locale=this.Head.clientInfo&&this.Head.clientInfo.locale,n.id=String(n.id)),bn(n)}}componentDidMount(){const{metricParams:e,item:t}=this.props;let r=t.item;const n={eventName:"hotexpos",metricType:"tracelog",pageId:e.pageId,traceid:"hist"===r.eType?null:r.traceId,pagefrom:e.pagefrom,kwdtype:this.getKwdType(r.eType),id:r.id||r.code||r.newCityId,kwd:r.name||r.newCityName||r.itemName,position:r.position};e.isCtrip?n.gsdistrictid=e.cityId||0:(n.departcityid=e.cityId||0,n.departcityname=e.cityName,n.locale=this.Head.clientInfo&&this.Head.clientInfo.locale),bn(n)}}class Mn extends Ln{render(){var e;const{item:r,language:n}=this.props,i={};return!!(null===(e=null==r?void 0:r.item)||void 0===e?void 0:e.type)&&Object.assign(i,{"data-ignorechecktext":!0}),t().createElement("div",{onClick:()=>{this.onClickItem(r.item)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.onClickItem(r.item))},className:"card_item_wrap "+("zh-HK"===n||this.isCtrip?"card_item_wrap_HK":""),role:"option",tabIndex:0},"zh-HK"===n||this.isCtrip?t().createElement("div",Object.assign({},i),r.text):t().createElement("div",{className:"card_item_wrap_child wrap"},t().createElement("span",Object.assign({},i),r.text)))}}class jn extends Oe{constructor(e){super(e),this.getIconType=e=>{let t="hotSearch";switch(e){case"city":case"cityKey":t="hotCity";break;case"poi":case"hotView":t="hotView";break;case"keyword":case"hotSearch":t="hotSearch";break;case"line":case"hotPath":t="hotPath";break;case"product":case"hotPro":t="hotPro";break;case"activity":case"hotAct":t="hotActivity"}return t}}}class Bn extends jn{render(){return t().createElement($t,{type:this.getIconType(this.props.type)})}}class Un extends Dn{constructor(){super(...arguments),this._renderItem=({index:e,item:r,rowText:n})=>{const{typeText:i,metricParams:o,onClick:a,onClickHistory:s}=this.props;return t().createElement(Mn,{index:e,item:r,onClick:(e,t)=>{a(e,t)},onClickHistory:e=>{s(e)},metricParams:o,typeText:i,key:`${i}${n}${e}`,isCtrip:this.isCtrip,language:"hotCity"===r.item.eType?"zh-HK":this.header.language})}}render(){const{typeText:e,onClear:r,metricParams:n,type:i}=this.props,{show:o,firstRowData:a,secondRowData:s}=this.state,c=this.header.language,l="zh-HK"===c||"hotCity"===i||this.isCtrip;return t().createElement("div",null,o&&t().createElement("div",{className:"popover_card "+(l?"popover_card_HK":"")},t().createElement("div",{className:"popover_card_title"},t().createElement("span",{className:"popover_card_title_name",role:"header",tabIndex:0},e),r&&t().createElement("span",{onClick:e=>r(e),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r(e))},className:"popover_card_title_clear",role:"button",tabIndex:0,id:`ibuact-${n.pageId}-history-clear-${n.cityId}-${n.pagefrom}-${this.header&&this.header.language}`},this.IBUShark("key.v.page.searchpage.layerclear"," "))),t().createElement("div",{className:"popover_card_content "+(l?"popover_card_content_HK":"")},0!==a.length&&a.map((r,n)=>{const i="hist"!==r.item.eType?r.item.eType:r.item.oriType||r.item.type;return"zh-HK"===c||this.isCtrip||"hotCity"===r.item.eType?t().createElement("div",{className:(0===n?"no_padding_left ":"")+"popover_card_content_row_carditem_box"},this._renderItem({index:n,item:r,rowText:"first"})):t().createElement("div",{className:"popover_card_content_row",key:`${e}firstrow${n}`},t().createElement("div",{className:"popover_card_content_row_icon_box",style:{fontSize:-1!==["product","hotPro"].indexOf(i)?"22px":"20px",lineHeight:-1!==["product","hotPro"].indexOf(i)?"22px":"20px"}},t().createElement(Bn,{type:i})),t().createElement("div",{className:"popover_card_content_row_carditem_box flexone"},this._renderItem({index:n,item:r,rowText:"first"})))})),s.length>0&&t().createElement("div",{className:"popover_card_content "+(l?"popover_card_content_HK":"")},s.map((e,r)=>t().createElement("div",{className:(0===r?"no_padding_left ":"")+"popover_card_content_row_carditem_box"},this._renderItem({index:r,item:e,rowText:"first"}))))))}}class Hn extends Rn{render(){const{historyList:e,hotActivity:r,hotCity:n,hotLine:i,hotProduct:o,hotSearch:a,hotView:s,pageId:c,onClickHotSearch:l,onClickHistory:u,onClearHistory:p,pagefrom:d,cityId:f,tripfrom:h}=this.props,y={pageId:c,pagefrom:d,cityId:f};return t().createElement("div",null,Array.isArray(e)&&e.length>0&&t().createElement(Un,{key:"hist",dataList:this.handleSearchContent(e,"history"),typeText:this.IBUShark("key.v.page.searchpage.layer.hissearch"," "),type:"hist",onClickHistory:u,onClear:p,metricParams:y}),We.showViewPgIds.indexOf(c)>=0&&t().createElement(Un,{key:"hotspot",dataList:this.handleSearchContent(s,"view"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotspot"," "),onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}),We.showSearchPgIds.indexOf(c)>=0?t().createElement(Un,{key:"hotsearch",dataList:this.handleSearchContent(a,"search"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotsearch"," "),onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}):null,We.showLinePgIds.indexOf(c)>=0?t().createElement(Un,{key:"hotroute",dataList:this.handleSearchContent(i,"line"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotroute"," "),onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}):null,We.showActivityPgIds.indexOf(c)>=0?t().createElement(Un,{key:"hotevent",dataList:this.handleSearchContent(r,"activity"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotevent"," "),type:"hotAct",onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}):null,We.showCityPgIds.indexOf(c)>=0?t().createElement(Un,{key:"hotcity",dataList:this.handleSearchContent(n,"city"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotcity"," "),type:"hotCity",onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}):null,We.showProductPgIds.indexOf(c)>=0?t().createElement(Un,{key:"hotproduct",dataList:this.handleSearchContent(o,"product"),typeText:this.IBUShark("key.v.page.searchpage.layer.hotproduct"," "),onClick:(e,t)=>{l(e,!1)(t)},metricParams:y}):null)}}class Fn extends Oe{constructor(e){super(e)}}class Kn extends Oe{constructor(e){super(e),this.onMouseEvent=(e,t)=>r=>{r.stopPropagation(),"parent"===e?"over"===t?(this.setState({hoverParent:!0}),this.props.getHoverCallBack&&this.props.getHoverCallBack({index:this.props.index,status:!1})):(this.setState({hoverParent:!1}),this.props.getHoverCallBack&&this.props.getHoverCallBack({index:this.props.index,status:!0})):"over"===t&&this.setState({hoverParent:!1})},this.state={hoverParent:!1,AssociateHoverIndex:e.AssociateHoverIndex||0},this.props.AssociateHoverIndex===this.props.index&&(this.state={hoverParent:!0})}getMetricData(){const{metricParams:e={},item:t,index:r,total:n,keyword:i}=this.props,o={eventName:"associateCardExpos",metricType:"tracelog",pageid:e.pageId,associate_pos:r+1,page_name:e.pageName,pagefrom:e.pagefrom||"",gsdistrictid:e.cityId||0,gsdistrictname:e.cityName||"",locale:e.locale,currency:e.currency,associatekwd_id:t.id||"",associatekwd_name:t.name||"",kwd:i,associatekwdtype:t.type,associateid:3===t.type?String(t.scenicSpotId):t.id?String(t.id):"",associate_tot:n};return"shortcut"!==o.associatekwdtype&&"guide"!==o.associatekwdtype||(o.lob=3===t.type?"tkt":"act"),o}componentDidMount(){bn(this.getMetricData())}componentWillReceiveProps(e){e.AssociateHoverIndex!=this.props.AssociateHoverIndex&&(this.props.index===e.AssociateHoverIndex&&e.AssociateHoverStatus?this.setState({hoverParent:!0,AssociateHoverIndex:e.AssociateHoverIndex}):this.setState({hoverParent:!1}))}}class Wn extends Oe{constructor(e){super(e),this.getIconType=(e,t,r)=>{const n=t&&this.platform!==o.Jv.Online;let i=n?"ctripHotSearch":"hotSearch";switch(Number(e)){case 1:case 7:i=n?"ctripHotCity":"hotCity";break;case 2:i=n?"ctripHotSearch":"hotView";break;case 3:i=n?"ctripHotView":"hotView";break;case 4:i=n?"ctripHotPro":"hotPath";break;case 6:i=n?"ctripHotSearch":"hotSearch";break;case 9:i=function(e){let t="guidedEscorts";switch(e){case"peiyou_guide":t="guidedEscorts";break;case"privatetour1":t="customCharter";break;case"daiding_guide":t="bookingService";break;case"xianluyou_guide":t="guidedTour";break;case"tesety_guide":t=""}return t}(r);break;case 10:i="flagshipStore"}return i}}}class qn extends Wn{render(){const{isCtrip:e}=this.props;return t().createElement($t,{type:this.getIconType(this.props.type,e)})}}class Jn extends Oe{constructor(e){super(e),this.language=(0,i.Fs)().language,this.handleText=e=>{const{item:t,keyword:r}=this.props;let n=e||r||"";const i=[];let o=t.name||"";n=n.toLocaleLowerCase();let a=o.toLocaleLowerCase();if(n&&a){if(a===n)i.push(n);else{const e=a.split(n);e.forEach((t,r)=>{i.push(t),e.length!==r+1&&i.push(n)})}let e=0;i.forEach((t,r)=>{i[r]=o.substr(e,t.length),e+=t.length}),this.setState({textResult:i})}},this.state={textResult:[]}}componentDidMount(){this.handleText()}componentWillReceiveProps(e){e.keyword!==this.props.keyword&&this.handleText(e.keyword)}}class $n extends Oe{constructor(e){super(e),this.header=(0,i.Fs)(),this.judgeShowPrice=e=>{let t,r;return r=[e.isFree,e.showReference,e.noPrice].some((e,r)=>(e&&(t=r),e)),{index:t,showPriceText:r}}}}var Gn=__webpack_require__(3706),Vn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const zn=function(e){function t(t){var r=e.call(this,t)||this;return r.getFromTranslate=function(){return(0,R.Z)("key.v.page.index.minprice"," ")},r.priceFormat=function(e,t,r){var n=(0,i.Fs)().language,o="undefined"!=typeof l10n;return void 0!==Gn.Z[e]&&Gn.Z[e],o?l10n.NumberFormat(n).currencyString(parseFloat(t)||0,e,!0,void 0,void 0,r):t},r.state={},r}return Vn(t,e),t.defaultProps={},t}(t().Component);var Yn=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const Qn=function(e){function r(t){return e.call(this,t)||this}return Yn(r,e),r.prototype.getContentList=function(){var e,r,n,a=this.props,s=a.currency,c=a.value,l=a.suffixClass,u=a.from,p=a.reverse,d=a.lineThrough,f=a.fstyle,h=void 0===f?{}:f,y=a.free,m=a.tripFreeText,g=a.isShowMinus,v=a.isShowStart,_=a.preText,w=a.useMinus,b=a.reversePreText,k="undefined"!=typeof l10n,C="u_price",I=(Bt(""+C,((e={})[C+"_"+l]=l,e)),Bt(C+"_content",((r={})[C+"_content_lineThrough"]=d,r[C+"_content_"+l]=l,r))),O=Bt(C+"_from",((n={})[C+"_from_reverse"]=p,n[C+"_from_"+l]=l,n)),S=[];return u&&S.push(t().createElement("span",{className:O,key:0},"boolean"==typeof u?this.getFromTranslate():u)),(0,i.By)().channel===o.CE.trip?(!y&&g&&S.push(t().createElement("span",{className:I},"-")),S.push(y?t().createElement("span",{className:"u_price_free"},m):t().createElement("span",{key:1,className:I,style:h.productPriceTextColor,dangerouslySetInnerHTML:{__html:k?this.priceFormat(s,c,{currencyFormatCustomized:"<span class='u_price_currency'>${value}</span>",numberFormatCustomized:"<span class='u_price_number'>${value}</span>"}):c||0}}))):(b||!_||y||S.push(t().createElement("span",{className:"u_price_pre",key:"preText"},_)),S.push(y?t().createElement("span",{className:"u_price_free"}," "):t().createElement("span",{className:I,key:2},!!g&&!!w&&t().createElement("span",{className:"u_price_currency"},"-"),t().createElement("span",{className:"u_price_currency"},"¥"),t().createElement("span",{className:"u_price_number"},c||0))),v&&S.push(t().createElement("span",{className:"u_price_start_text",key:"startText"}," ")),b&&_&&!y&&S.push(t().createElement("span",{className:"u_price_pre",key:"preText"},_))),p&&S.reverse(),S},r.prototype.render=function(){var e,r,n,o,a=this.props,s=a.suffixClass,c=a.reverse,l=a.lineThrough,u="undefined"!=typeof l10n,p="u_price",d=Bt(""+p,((e={})[p+"_"+s]=s,e)),f=Bt(p+"_content",((r={})[p+"_content_lineThrough"]=l,r[p+"_content_"+s]=s,r)),h=Bt(p+"_from",((n={})[p+"_from_reverse"]=c,n[p+"_from_"+s]=s,n)),y="boolean"==typeof this.props.from?this.getFromTranslate():this.props.from,m=(this.props.fstyle&&this.props.fstyle.productPriceTextColor,this.priceFormat(this.props.currency,this.props.value,{}));m=u?m:this.props.value||0;var g=(0,i.Fs)().isNativeMini;return g||(o=this.getContentList()),t().createElement(t().Fragment,null,!g&&t().createElement("div",{className:d},o),g&&t().createElement("div",{className:d},!this.props.reverse&&!!this.props.from&&t().createElement("span",{className:h,key:0},y),this.props.reverse?t().createElement("span",null):t().createElement("div",null,this.props.preText&&!this.props.free?t().createElement("span",{className:"u_price_pre",key:"preText"},this.props.preText):null,this.props.free?t().createElement("span",{className:"u_price_free"}," "):t().createElement("span",{className:f,key:2},t().createElement("span",{className:"u_price_currency"},"¥"),t().createElement("span",{className:"u_price_number"},this.props.value||0)),!!this.props.isShowStart&&t().createElement("span",{className:"u_price_start_text",key:"startText"}," ")),this.props.reverse?t().createElement("span",null,!!this.props.isShowStart&&t().createElement("span",{className:"u_price_start_text",key:"startText"}," "),this.props.free?t().createElement("span",{className:"u_price_free"}," "):t().createElement("span",{className:f,key:2},t().createElement("span",{className:"u_price_currency"},"¥"),t().createElement("span",{className:"u_price_number"},this.props.value||0)),this.props.preText&&!this.props.free?t().createElement("span",{className:"u_price_pre",key:"preText"},this.props.preText):null):t().createElement("span",null),this.props.reverse&&!!this.props.from&&t().createElement("span",{className:h,key:0},y)))},r}(zn);class Zn extends $n{render(){const{price:e}=this.props.item,r=this.header.currency,{isCtrip:n}=this.props;return t().createElement("div",{className:"price_component "+(n?"price_component_ctrip":"price_component_trip")},t().createElement(Qn,{currency:r,value:e,free:!e,tripFreeText:this.IBUShark("key.v.page.orderoption.feeree"," "),isShowStart:n}))}}class Xn extends Jn{render(){const{keyword:e,item:r,onCickAcs:n,onMouseEvent:i,hoverParent:o,tripfrom:a,noShowAcs:s}=this.props,{textResult:c}=this.state,l=!this.isCtrip&&r.needShowTripPrice&&null!==r.price;return t().createElement("div",{className:"associate_card_item",style:{color:o?"#fff":"#333"}},t().createElement("div",{className:"associate_card_item_line_one"},t().createElement("div",{className:"associate_card_item_div",style:1!==r.type&&2!==r.type&&6!==r.type&&7!==r.type||!this.isCtrip?{}:{width:"100%"}},t().createElement("div",{className:"associate_card_item_wrap"},c.map((r,n)=>r.toLocaleLowerCase()===e.toLocaleLowerCase()?t().createElement("span",{className:"associate_card_item_wrap_text associate_card_item_wrap_text_highlight",style:{color:o?"#fff":"#3264ff"},key:`text${n}`},r):t().createElement("span",{className:"associate_card_item_wrap_text associate_card_item_wrap_text_normal",style:{color:o?"#fff":"#333"},key:`text${n}`},r)),1!==r.type&&7!==r.type||!r.parentName?null:t().createElement("span",{className:"associate_card_item_wrap_text_gray",style:{color:o?"#fff":"#4F5563"}},"zh-HK"===this.language||"zh-TW"===this.language?",":", ",r.parentName))),t().createElement("div",{className:"price"},1===r.type&&r.showTabs?t().createElement($t,{type:"iconArrowForward"}):null,r.distancedesc||4!==r.type?null:t().createElement(Zn,{item:r,isCtrip:this.isCtrip,currency:this.Head.clientInfo?this.Head.clientInfo.currency:"RMB"}))),!s&&r.showTabs&&"online-home"!=a&&t().createElement("div",{className:"associate_card_item_tab_box"},(r.categories||[]).map((e,o)=>t().createElement("div",{className:"associate_card_item_tab_box_item",key:o,onClick:t=>{t.stopPropagation(),n(r,e)},onMouseOver:i("child","over"),onMouseOut:i("child","out")},t().createElement("div",{className:"associate_card_item_tab_box_item_elp",style:{WebkitBoxOrient:"vertical"}},t().createElement("span",{className:"associate_card_item_tab_box_item_elp_text"},e.name))))),2===r.type&&t().createElement("div",{className:"associate_card_item_line_two "+(l?"associate_card_item_line_two_flex":""),style:{color:o?"#fff":"#4F5563"}},t().createElement("div",null,t().createElement("span",null,3===r.type||2===r.type&&r.parentName?t().createElement("span",null,r.parentName):null,r.parentName&&r.distancedesc?t().createElement("span",null,"zh-HK"===this.language||"zh-TW"===this.language?",":", "):null,r.distancedesc)),(l||r.distancedesc&&4===r.type)&&t().createElement("div",{className:l?"price":""},t().createElement(Zn,{item:r,isCtrip:this.isCtrip,currency:this.Head.clientInfo?this.Head.clientInfo.currency:"RMB"}))))}}class ei extends Kn{render(){const{item:e,index:r,keyword:n,onClick:i,onCickAcs:o,isCtrip:a,tripfrom:s,noShowAcs:c,AssociateHoverIndex:l}=this.props,{hoverParent:u}=this.state;return t().createElement("div",{key:`${e.id}${e.cityType||""}`,onClick:()=>{i()},"data-ignorecheckblock":4!==e.type||null,role:"option",id:`associate-option-${r}`,"aria-selected":l===r},e.partTip?t().createElement("div",{className:"part_tip"},t().createElement("div",{className:"part_tip_text"},e.partTip)):null,t().createElement("div",{className:"associate_card_wrap",onMouseOver:this.onMouseEvent("parent","over"),onMouseOut:this.onMouseEvent("parent","out"),style:{backgroundColor:u?"#3264ff":"#fff"},tabIndex:-1,role:"button"},t().createElement("div",{className:"icon_box",style:{color:u?"#fff":"#bec7d6"}},t().createElement(qn,{type:e.type,isCtrip:a})),t().createElement("div",{className:"card_item_box",style:{borderBottomColor:u?"#3264ff":"#D9DFE7"},onClick:this.jumpDetail},t().createElement(Xn,{tripfrom:s,item:e,numberOfLinesNum:4===e.type?2:1,tag:e.ctripTag,keyword:n,onCickAcs:o,isCtrip:a,onMouseEvent:this.onMouseEvent,hoverParent:u,noShowAcs:c}))))}}class ti extends Fn{render(){const{dataList:e,keyword:r,onClickItem:n,onCickAcs:i,isCtrip:o,AssociateHoverIndex:a,tripfrom:s,getHoverCallBack:c,AssociateHoverStatus:l,noShowAcs:u,metricParams:p}=this.props;return t().createElement("div",null,e.map((d,f)=>t().createElement(ei,{item:d,tripfrom:s,keyword:r,index:f,total:e.length,onClick:()=>{n(d,f)},onCickAcs:i,isCtrip:o,AssociateHoverIndex:a,AssociateHoverStatus:l,getHoverCallBack:c?e=>{c(e)}:null,noShowAcs:u,metricParams:p})))}}class ri extends t().Component{getMetricData(){const{metricParams:e={},keyword:t,eventName:r}=this.props,n={eventName:r,metricType:"tracelog",pageid:e.pageId,page_name:e.pageName,pagefrom:e.pagefrom||"",gsdistrictid:e.cityId||0,gsdistrictname:e.cityName||"",locale:e.locale,currency:e.currency,kwd:t,associate_tot:0};if(r)return n}componentDidMount(){const e=this.getMetricData();e&&bn(e)}render(){const{imgUrl:e,title:r,description:n}=this.props;let i="o_emptycomponent";return t().createElement("div",{className:`${i}`},e&&t().createElement("div",{className:`${i}_img_con`},t().createElement(ln,{url:e,className:`${i}_img`})),r&&t().createElement("p",{className:`${i}_title`,tabIndex:0,role:"alert"},r),n&&t().createElement("p",{className:`${i}_description`},n))}}const ni=(0,i.By)().channel===o.CE.ctrip;class ii extends An{constructor(e){super(e)}render(){const{historyList:e,hotSearchData:r,userLocation:n,associateDataList:i,value:o,isSearched:a,noResult:s,initData:c,metricParams:l}=this.state,{pageId:u,cityId:p,pagefrom:d,cityName:f,AssociateHoverIndex:h,AssociateHoverStatus:y,tripfrom:m,getHoverCallBack:g,noShowHotWord:v,noShowAcs:_}=c,{isShowOnline:w}=this.props;return t().createElement("div",{className:"serach_popover",role:"listbox",id:"keywords-results",tabindex:"-1","aria-activedescendant":null!=this.props.AssociateHoverIndex?`associate-option-${this.props.AssociateHoverIndex}`:void 0,ref:this.popoverRef},w&&t().createElement("div",{className:"p_popover"},t().createElement("div",{className:"m_content"},o?Array.isArray(i)&&i.length>0?t().createElement(ti,{tripfrom:m,dataList:i,pageId:u,onClickItem:this.onClickAssociateCard,keyword:o,onCickAcs:this.onCickAcs,isCtrip:ni,AssociateHoverIndex:this.props.AssociateHoverIndex,AssociateHoverStatus:y,getHoverCallBack:g?e=>{g(e)}:null,noShowAcs:_,metricParams:l}):a?t().createElement("div",{className:"m_content_empty"},t().createElement(ri,{keyword:o,title:this.IBUShark("key.v.page.searchpage.toast.noresult"," "),metricParams:l,eventName:"associateCardExpos",key:0,imgUrl:this.isCtrip?"https://webresource.c-ctrip.com/ares2/activity/ottd-pic-service/1.0.22/default/ctrip/noReault.png":"http://webresource.tripcdn.com/ares2/activity/ottd-pic-service/1.0.35/default/trip/searchNoResults.png"})):null:!s&&!v||e&&e.length?t().createElement("div",{className:"m_content_hot"},t().createElement(Hn,Object.assign({tripfrom:m,historyList:e,isCtrip:ni,pageId:u},r,{onClickHotSearch:this.onHandleClick,onClickHistory:this.onClickHistory,onClearHistory:this.onClearHistory,showNearbyButton:n.cityId.toString()===p.toString(),onClickNearbyButton:this.onClickNearbyButton,pagefrom:d,cityId:p,cityName:f}))):null)))}}const oi="RN"===(0,i.Fs)().platform;var ai=function(e,t,r,n){var i="_C_"+t+"_"+r+"_Q"+n;if(!e)return"";var o=e.split(/\w(\.gif|\.jpeg|\.png|\.jpg|\.bmp)/i);return i+=o[1],e.replace(o[1],i)};const si="RN"===(0,i.Fs)().platform;let ci=(0,i.Fs)();const li=()=>{const e=new Date,t=e=>e<10?"0"+e:e;return[e.getFullYear(),t(e.getMonth()+1),t(e.getDate())].join("")},ui=({districtId:e,districtName:t,keyword:r,link:n})=>n||`/rn_ttd_act/_crn_config?CRNModuleName=rn_ttd_act&CRNType=1&initialPage=mix&type=k&districtId=${e}&districtName=${t}&keyword=${encodeURIComponent(r)}&pshowcates=40`;class pi extends Qe{constructor(e){super(e),this.header=(0,i.Fs)(),this.cityId=this.props.cityId,this.cityName=this.props.cityName,this.channel=(0,i.By)().channel,this.state={datasource:[],historyList:[],products:[],historyListKeyword:[]},this.onClear=()=>{let e=this.getStorageTitle();Pe.t.set(`${e}`+this.header.language+"_"+this.channel,[]);let t=`${e.substr(0,e.length-1)}`;-1!==t.indexOf("historyListKeyword")?this.setState({historyListKeyword:[]}):-1!==t.indexOf("homeHistoryList")?this.setState({historyList:[]}):this.setState({[t]:[]})},this.onHistoryClick=e=>{const{from:t}=this.props;Ot(("online-home"==t?"homeHistoryList_":"historyList_")+this.header.language+"_"+this.channel,e,3,e=>{this.setState({historyList:e})}),this.props.onCityClick&&this.props.onCityClick(e)},this.onClick=(e,t,r=!1)=>{const{onCityClick:n,searchType:i,from:o}=this.props;"pshowcates"!=e.type?(e.itemUrl&&e.itemUrl.replace(/(kwdfrom=assword)|(kwdfrom=srch)/g,"kwdfrom=hist"),r||(e.urlType&&1!==e.urlType?Ot("historyListKeyword1_"+this.header.language+"_"+this.channel,e,3,e=>{this.setState({historyListKeyword:e})}):(Ot(("online-home"==o?"homeHistoryList_":"historyList_")+this.header.language+"_"+this.channel,e,3,e=>{1!==i&&this.setState({historyList:e})}),Ot("historyListKeyword1_"+this.header.language+"_"+this.channel,e,3,e=>{1===i&&this.setState({historyListKeyword:e})}))),n&&n(e,t)):n&&n(e,t)}}set stateHotCity(e){e&&this.setState({datasource:e})}set historyCity(e){e&&this.setState({historyList:e})}set historyCityKeyword(e){e&&this.setState({historyListKeyword:e})}set product(e){e&&this.setState({products:e})}componentWillMount(){const{from:e}=this.props;let t=Pe.t.get("hotcityList_"+this.header.language+"_"+this.channel,!1,{},e=>{this.stateHotCity=e});this.stateHotCity=t,Pe.t.get(("online-home"==e?"homeHistoryList_":"historyList_")+this.header.language+"_"+this.channel,!1,{},e=>{this.historyCity=e}),Pe.t.get("historyListKeyword1_"+this.header.language+"_"+this.channel,!1,{},e=>{this.historyCityKeyword=e}),this.fetchHotData(),this.fetchCurrentCity()}componentDidMount(){this.handleFetchProducts()}handleFetchProducts(){this.channel===o.CE.trip&&"Online"!==(0,i.By)().platform&&setTimeout(()=>{this.fetchProducts()},1e3)}handlerCallbackData(e){let{SuggestList:t}=e;t&&(this.setState({datasource:t}),Pe.t.set("hotcityList_"+this.header.language+"_"+this.channel,t,43200))}fetchCtripHotData(){((e,t)=>{const r={cityid:e.cityId,citytype:1,contentType:"json",debug:!1,limit:8,searchmode:"act-home"==e.props.from?2:1,ver:(0,i.Fs)().app_version};(0,n.dJ)({request:r,actionUrl:"14580/json/hotWordListQOC",success:e=>{"function"==typeof t&&t(e)}})})(this,e=>{this.handlerCallbackData((e=>{const{hotWordData:t,cityId:r,cityName:n,from:o}=e,a={SuggestList:[{title:" ",itemList:[]}]};return t.data.hwords&&t.data.hwords.length&&t.data.hwords.forEach((e,t)=>{let s={itemUrl:ui({districtId:r,districtName:n,keyword:e.hword,link:e.link}),itemId:e.hword,itemName:e.hword,itemHot:e.highlight,itemCityName:n,log:{key:"pkg_srchbox_associate",pagebu:ht[o]&&ht[o].pagebu,pagefrom:ht[o]&&ht[o].pagefrom,channel:"app",atctraceid:"",departcityid:r,departcityname:n,gsdistrictid:r,associatekwd:e.hword,associatekwdtype:["","d","ss","ss","shortcut"][e.type],lob:4==e.type?"act":"",associateid:e.id,kwdfrom:"hot",userinput:"",associate_pos:t+1,addinfo:{pageid:"10650021561"},version:(0,i.Fs)().app_version+"."+li()}};a.SuggestList[0].itemList.push(s)}),a})({hotWordData:e,cityId:this.cityId,cityName:this.cityName,from:this.props.from}))})}get cityInfo(){const{cityId:e}=this.props,t=_t(),r=t.cityid||t.cityId||t.cityID;return{cityId:e||r}}fetchHotData(){if(this.channel===o.CE.ctrip)null!=this.cityId?this.fetchCtripHotData():ft((e,t)=>{this.cityId=t?"2":e.cityId,this.cityName=t?" ":e.cityName,this.fetchCtripHotData()});else{const e=(0,i.By)().platform,{biz:t}=this.props;this.http({request:{clientInfo:{platformId:"RN"===e?25:"Online"===e?24:26,version:"608.000",currency:this.header.currency,locale:this.header.language},biz:t},actionUrl:"24528/getDistrictList",success:e=>{this.handlerCallbackData((e=>{let t=(0,i.Fs)(),r={SuggestList:[]},{platform:n}=t;return e.destinationCountries&&e.destinationCountries.forEach(e=>{let t={title:e.country.countryName,itemList:[]};e.cities.forEach(e=>{let r=`${e.districtId}`;e.enCityName&&(r=`${Xe(e.enCityName)}-${e.cityId}`),t.itemList.push({itemUrl:oi?"mainPage":`/things-to-do/${r}/`,queryObj:{cityId:e.districtId},itemId:e.districtId,itemName:e.cityName})}),r.SuggestList.push(t)}),r})(e))}})}}get productSearchRequest(){return{clientInfo:{platformId:"RN"===(0,i.By)().platform?25:26,version:"611.000",location:this.cityInfo,locale:this.header.language,currency:this.header.currency,extension:[]},searchParameter:{searchType:1,categoryCode:"-1",sortType:0,pageSetting:{pageIndex:1,pageSize:6}}}}fetchProducts(){this.http({request:this.productSearchRequest,actionUrl:"14857/productSearch",success:e=>{this.product=(e=>{let t=[];const{currency:r}=ci;return e.products&&e.products.length>0&&(t=e.products.map((e,t)=>{let n=e.tags.map(e=>({text:e.tagName,icon:e.iconUrl,type:"warning"}));const i={id:e.productId,itemId:e.productId,name:e.productName,itemName:e.productName,type:"picture",urlType:3,itemUrl:si?"productdetail":`${ci.platform===o.Jv.H5?"/m":""}/things-to-do/detail/${e.productId}`,url:si?"productdetail":`${ci.platform===o.Jv.H5?"/m":""}/things-to-do/detail/${e.productId}`,productUrl:si?"productdetail":`${ci.platform===o.Jv.H5?"/m":""}/things-to-do/detail/${e.productId}`,productTags:n,minPrice:{currency:r,price:e.minPrice},marketPrice:{currency:r,price:e.marketPrice},queryObj:{productid:e.productId,productName:e.productName,tags:e.tags,featureTags:e.featureTags,minPrice:e.minPrice,marketPrice:e.marketPrice,imgUrls:[e.imgUrls&&e.imgUrls[0]&&ai(e.imgUrls[0],568,320,40)],currency:r},tripOrigin:!(!e.voiceGuide||!e.voiceGuideUrl)&&e.voiceGuideUrl,imgInfo:{imgUrl:e.imgUrls&&e.imgUrls[0]&&ai(e.imgUrls[0],250,250,80),imgTags:[]}};return e.commentCount&&(i.score=e.commentScore&&e.commentScore.toFixed(1)||"",i.reviewsNum=e.commentCount),e.featureTags&&e.featureTags.length&&(i.imgInfo.imgTags=[{text:"HOT",icon:"hot",type:"hot"}]),e.cityName&&(i.cityName=e.cityName),i.logId=`ibuact-10650012750-hot-product-${e.cityId}-${t+1}-${e.productId}`,i})),t})(e)}})}fetchCurrentCity(){this.channel===o.CE.trip&&ft((e,t)=>{if(t)return;const{latitude:r,longitude:n}=e;this.http({request:{lat:r,lng:n},actionUrl:"17073/lbs/getcurrentcity",success:e=>{let t=this.productSearchRequest;t.clientInfo.location.cityId=e.CityId,this.http({request:t,actionUrl:"14857/productSearch",success:t=>{const r={itemId:e.CityId,itemName:e.CityName,itemUrl:`${this.header.platform===o.Jv.H5?"/m":""}/things-to-do/${Xe(e.CityName)}-${e.CityId}/`};t.products&&t.products.length>0&&this.setState({currentCity:r})}})},fail:e=>{}})})}static _getIconType(e){const{iconType:t,itemUrl:r}=e;if(!t){if(r.indexOf("list"))return"poi";if(r.indexOf("detail"))return"picture"}return e.iconType}getStorageTitle(){const{searchType:e,from:t}=this.props;return 1===e?"historyListKeyword1_":"online-home"==t?"homeHistoryList_":"historyList_"}}pi.defaultProps={isShowCityBlock:!0};class di extends Qe{constructor(){super(...arguments),this.onItemClick=e=>{const{onItemClick:t}=this.props;t&&t(e)}}}class fi extends di{constructor(e){super(e)}render(){let{title:e,data:r=[],cityId:n}=this.props;return t().createElement("div",{className:"m_citygrid"},t().createElement("div",{className:"m_citygrid_title ellipsis",role:"header",tabIndex:0},e),t().createElement("ul",{className:"m_citygrid_list",role:"listbox"},r.map((e,r)=>{let o="Online"!==(0,i.By)().platform?{onClick:()=>this.onItemClick(e)}:{onMouseDown:()=>this.onItemClick(e)};return t().createElement("li",Object.assign({id:`ibuact-10650012750-destarea-dest-${n}-${r+1}-${e.itemId}`,key:e.itemId},o,{role:"option",tabIndex:0}),t().createElement("div",{className:"citygrid_list_item"},t().createElement("div",{className:"citygrid_list_item_name"},e.itemName)))})))}}class hi extends pi{constructor(e){super(e)}render(){const{historyList:e,historyListKeyword:r,datasource:n,products:o,currentCity:a}=this.state;let{showBottomTip:s,searchType:c}=this.props,l=1===c?r:e;return t().createElement("div",Object.assign({className:"m_hotcity"},this.props,{role:"listbox"}),!(!this.props.isShowCityBlock||!a)&&"Online"!==(0,i.By)().platform&&t().createElement("div",{className:"m_hotcity_history m_module_normal"},t().createElement("ul",{className:"m_hotcity_history_list",tabIndex:-1,"aria-hidden":"true"},t().createElement("li",{onClick:this.onClick.bind(this,a),style:{padding:"12px 0"},role:"button"},t().createElement($t,{type:"located",style:{color:"#333333",fontSize:"13px",marginRight:"9.5px"}}),t().createElement("div",{className:"history_list_item",style:{fontSize:"14px",height:"18px",lineHeight:"18px"}},a.itemName)))),!!(l.length>0)&&t().createElement("div",{className:"m_hotcity_history m_module_normal"},t().createElement("div",{className:"m_hotcity_history_titlecontainer"},t().createElement("span",{className:"title",role:"header",tabIndex:0},this.IBUShark("key.v.page.index.viewhistory","    ")),t().createElement("span",{className:"clear",onClick:this.onClear.bind(this),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.onClear())},tabIndex:0,role:"button"},this.IBUShark("key.v.page.index.clearhistory"," "))),t().createElement("ul",{className:"m_hotcity_history_list",tabIndex:-1,"aria-hidden":"true"},l.map(e=>{let r=Object.keys(e)[0],n="Online"!==(0,i.By)().platform?{onClick:()=>this.onClick(e[r])}:{onMouseDown:()=>this.onClick(e[r])};return t().createElement("li",Object.assign({key:r},n),t().createElement($t,{type:e[r].type||"locate"}),t().createElement("div",{className:"history_list_item",onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.onClick(e[r]))},role:"button",tabIndex:0},t().createElement("span",null,e[r].displayName||e[r].itemName),e[r].secondName&&t().createElement("div",{className:"history_list_second_item"},e[r].secondName)))}))),!!this.props.isShowCityBlock&&n.map((e,r)=>t().createElement("div",{className:"m_hotcity_citylist"},t().createElement(fi,{key:r,title:e.title,data:e.itemList,onItemClick:this.onClick}))),!!(this.props.isShowHotActivity&&o&&o.length)&&t().createElement("div",Object.assign({className:"m_hotcity"},this.props),t().createElement("div",{className:"m_hotcity_history m_module_normal m_activity"},t().createElement("div",{className:"m_hotcity_history_titlecontainer"},t().createElement("span",{className:"title"},this.IBUShark("key.v.page.index.hotactivity"," "))),t().createElement("ul",{className:"m_hotcity_history_list",tabIndex:-1,"aria-hidden":"true"},o.map((e,r)=>(e.itemUrl=e.url,t().createElement("li",{key:r,onClick:this.onClick.bind(this,e),role:"button",tabIndex:0},t().createElement($t,{type:e.type}),t().createElement("div",{className:"history_list_item"}," ",t().createElement("span",null,e.name)))))))),!!(s&&n&&n.length)&&t().createElement("div",{className:"m_hotcity_tip",role:"footer"},t().createElement("span",{tabIndex:0},this.IBUShark("key.v.page.index.searchmore"," "))))}}class yi extends Rr{render(){const{showLayer:e,hoverIndex:r,hoverStatus:n,showSearchPop:i,poiItem:o,AssociateHoverIndex:a,AssociateHoverStatus:s,from:c,biz:l,cityId:u,cityName:p,searchType:d,selectCityCallback:f,isTangram:h,showType:y,data:m,cityData:g,value:v,olSuggestVal:_,getHotWordVCallback:w,selectKeysCallback:b,getSearchHoverCallBack:k,onMouseDown:C,setEngineStatus:I,onClick:O,setHotCityRef:S,setSearchPopover:E}=this.props;return t().createElement("div",{className:"ol_citypage_layer "+(e?"":"hidden_layer"),"aria-hidden":!e,style:e?{}:{display:"none"}},t().createElement("div",{className:"m_content"},t().createElement("div",{className:d===Et.suggest?"suggest_hotcity_wrapper":"key_hotcity_wrapper"},d===Et.suggest?t().createElement("div",null,"HotCity"===y&&t().createElement(hi,{searchType:d,cityId:this.props.cityId,isShowHotActivity:this.props.isShowHotActivity,isShowCityBlock:this.props.isShowCityBlock,onCityClick:O.bind(this),ref:e=>{e&&S&&S(e)},showBottomTip:!0,biz:l,from:c}),"SearchCity"===y&&t().createElement(pn,{from:c,data:d===Et.suggest?g:m,activeIndex:r,renderItem:(e,i)=>t().createElement(pn.Item,{index:i,hoverIndex:r,firstChildHover:n,changeStatus:I.bind(this),avatar:t().createElement($t,{type:e.type||"locate",size:16}),description:e.secondName,item:e,onMouseDown:C.bind(this,e,i)}),hitKey:d===Et.suggest?v:_})):null,d!==Et.suggest&&u?t().createElement("div",{className:"search-popover"},t().createElement(ii,{tripfrom:c,ref:e=>{e&&E&&E(e)},from:"mainHome",autoFocus:!0,cityType:1,cityId:Number(u),cityName:p,pageType:7,pageId:"10650014881",placeholdObj:null,pagefrom:"home",inputValue:_,selectKeysCallback:b.bind(this),selectCityCallback:f,getHotWordVCallback:w.bind(this),poiItem:o,AssociateHoverIndex:a,AssociateHoverStatus:s,getHoverCallBack:k.bind(this),isShowOnline:!h||h&&i})):null)))}}var mi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gi=function(e){function t(t){var r=e.call(this,t)||this;return r.show=function(e){r.setState({visible:!0,content:e})},r.hide=function(){r.setState({visible:!1})},r.isShow=function(){return r.state.visible},U[t.keys]=r,r.state={visible:!!t.visible&&t.visible,content:t.content?t.content:""},r}return mi(t,e),t}(A.Z);const vi=gi;var _i=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wi=function(e){function t(t){return e.call(this,t)||this}return _i(t,e),t}(A.Z);const bi=wi;var ki=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ci=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return ki(r,e),r.prototype.render=function(){var e=this.props,r=e.keys,n=e.content,i=e.children,o=e.fclass,a=void 0===o?"":o,s=e.hasIcon;return t().createElement("div",{className:"error_tip_comtent error_tip_show "+a,id:"error_tip_"+r},i||t().createElement("div",null,!!s&&t().createElement($t,{type:"warning",style:{color:"#EE3B28",fontSize:"14px"}}),t().createElement("span",{className:"error_tip_arrow"}),n))},r}(bi);const Ii=Ci;var Oi=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Si=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return Oi(r,e),r.prototype.render=function(){var e=this.props,r=e.keys,n=e.hasIcon,i=this.state,o=i.visible,a=i.content;return o?t().createElement(Ii,{content:a,keys:r,hasIcon:n}):null},r}(vi);const Ei=Si;class Pi extends At{constructor(e){super(e)}render(){const{cityName:e,cityId:r,switchCityLayer:n,keySearchClick:o,onEnsureHandler:a,tntOnEnsureHandler:s,onInput:c,value:l,olSuggestVal:u,inputLog:p,cityLog:d,placeholderList:f,showLayer:h,from:y,showRegionLayer:m=!1,setHotCityRef:g,setSearchPopover:v,hasCityError:_,closeCityLayer:w}=this.props,{currentPalcehold:b,cityActive:k,keyActive:C,regionAnnounce:I,regionFocused:O,keywordFocused:S}=this.state,E=O?{outline:"2px solid #2346FF",outlineOffset:1}:{},P=S?{outline:"2px solid #2346FF",outlineOffset:1}:{};return t().createElement("div",{className:"header_search_content",onClick:e=>{e.stopPropagation()}},t().createElement("div",{className:"switch_header"},"online-home"!=y?t().createElement(_r,{className:"switch_city_input",onClick:n,log:d},t().createElement("div",{className:"text_container",id:d&&d.params&&d.params.key,ref:e=>{r&&(0,Vr.findDOMNode)(e)&&Ar("home-trip",{dom:(0,Vr.findDOMNode)(e),key:"ibuact_first_site_trans_10650021558",params:{key:"123716",locale:(0,i.Fs)().language,departCityid:r}})}},e),t().createElement($t,{type:"arrowforward",className:"mg_source"})):t().createElement("div",{className:"ol_cityselect_region_search ol_cityselect_search  "+(k?"active":""),onClick:n,style:E,tabIndex:-1},t().createElement(hr,{placeholder:this.IBUShark("key.v.page.triponline.searchbox.destinationprompt"," "),ref:e=>this.regionInput=e,title:"",type:"text",autocomplete:"off",onKeyDown:e=>{s(e,l,b)},onChange:e=>{c(e)},onFocus:e=>{this.foucsInput(e),this.handleFocus("region")},onBlur:e=>{this.onblueInput(e),this.handleBlur("region")},onMouseEnter:this.countryInputMouseEnter.bind(this),onMouseLeave:this.countryInputMouseLeave.bind(this),id:"tnt-online-input",role:"combobox",tabIndex:0,"aria-autocomplete":"list","aria-controls":"region-results","aria-haspopup":"listbox","aria-expanded":m,"aria-activedescendant":m&&null!=this.props.hoverIndex?`option-${this.props.hoverIndex}`:void 0,"aria-label":this.IBUShark("key.88806001.v.page.homepage.placeholder.search"," ")}),t().createElement($t,{tabIndex:-1,"aria-hidden":"true",type:m?"drop_up":"drop_down",className:"ol_cityselect_region_search_icon"}),t().createElement(yi,{from:this.props.from,biz:this.props.biz,cityId:this.props.cityId,cityName:this.props.cityName,searchType:this.props.searchType,selectCityCallback:this.props.selectCityCallback,isTangram:this.props.isTangram,showLayer:m,hoverIndex:this.props.hoverIndex,hoverStatus:this.props.hoverStatus,showSearchPop:this.props.showSearchPop,poiItem:this.props.poiItem,AssociateHoverIndex:this.props.AssociateHoverIndex,AssociateHoverStatus:this.props.AssociateHoverStatus,showType:this.props.showType,data:this.props.data,cityData:this.props.cityData,value:this.props.value,olSuggestVal:this.props.olSuggestVal,getHotWordVCallback:this.props.getHotWordVCallback,selectKeysCallback:this.props.selectKeysCallback,getSearchHoverCallBack:this.props.getSearchHoverCallBack,onMouseDown:this.props.onMouseDown,setEngineStatus:this.props.setEngineStatus,onClick:this.props.onClick,setHotCityRef:g,setSearchPopover:v})),t().createElement("div",{className:"ol_cityselect_key_search ol_cityselect_search "+(C?"active":""),ref:e=>{r&&(0,Vr.findDOMNode)(e)&&Ar("home-trip",{dom:(0,Vr.findDOMNode)(e),key:"ibuact_first_search_box_10650021558",params:{key:"123717",locale:(0,i.Fs)().language,departCityid:r}})},style:P,tabIndex:-1},Array.isArray(f)&&f.length>0&&!h?t().createElement("div",{tabIndex:0,onFocus:()=>this.handleFocus("keyword")},"online-home"!==y&&t().createElement("div",{style:{marginTop:16,marginLeft:16,fontSize:14,lineHeight:1.2,color:"#8592a6",letterSpacing:0,textAlign:"left"}},this.IBUShark("key.v.page.triponline.searchbox.keywordoptional"," ( )")),t().createElement("div",{style:{flex:"1",overflow:"hidden"}},t().createElement(Cr,{height:"online-home"==y?22:26,placeholderList:f,delay:4e3,duration:600,onClick:e=>{this.onClickPlacehold(e),o()},fstyle:{height:26},fontStyle:"online-home"!=y?{fontSize:16,color:"#4F5563",fontWeight:600,marginTop:1}:{fontSize:20,color:"#8592A6",fontWeight:"normal",marginTop:1},pageId:T(),cityId:r,switchItem:this.onClickPlacehold}))):t().createElement(_r,{className:"online-home"===y?"":"key_search_searchinput",onClick:o,log:p},t().createElement(hr,{title:"",placeholder:b.name||this.IBUShark("key.v.page.triponline.searchbox.searchprompt"," "),autoFocus:"online-home"!==y||h,ref:e=>this.input=e,onChange:this.onOlKeyInput.bind(this),onClear:this.onClear.bind(this),onFocus:e=>{this.keyFoucsInput(e),this.handleFocus("keyword")},onBlur:e=>{this.keyBlueInput(e),this.handleBlur("keyword")},onKeyDown:e=>{a(e,l,b)},type:"text",autocomplete:"off",id:"tnt-online-keyinput","aria-label":_?this.IBUShark("key.v.page.triponline.searchbox.nocityerror"," "):b.name||this.IBUShark("key.v.page.triponline.searchbox.searchprompt"," "),tabIndex:0,"aria-autocomplete":"list","aria-controls":"keywords-results","aria-haspopup":"listbox","aria-expanded":h,"aria-activedescendant":h&&null!=this.props.AssociateHoverIndex?`option-${this.props.AssociateHoverIndex}`:void 0}),t().createElement("div",{className:"online-error-tip",tabIndex:_?0:-1,role:"alert"},t().createElement(Ei,{keys:"online-home"})),t().createElement(yi,{from:this.props.from,biz:this.props.biz,cityId:this.props.cityId,cityName:this.props.cityName,searchType:this.props.searchType,selectCityCallback:this.props.selectCityCallback,isTangram:this.props.isTangram,showLayer:h,hoverIndex:this.props.hoverIndex,hoverStatus:this.props.hoverStatus,showSearchPop:this.props.showSearchPop,poiItem:this.props.poiItem,AssociateHoverIndex:this.props.AssociateHoverIndex,AssociateHoverStatus:this.props.AssociateHoverStatus,showType:this.props.showType,data:this.props.data,cityData:this.props.cityData,value:this.props.value,olSuggestVal:this.props.olSuggestVal,getHotWordVCallback:this.props.getHotWordVCallback,selectKeysCallback:this.props.selectKeysCallback,getSearchHoverCallBack:this.props.getSearchHoverCallBack,onMouseDown:this.props.onMouseDown,setEngineStatus:this.props.setEngineStatus,onClick:this.props.onClick,setHotCityRef:g,setSearchPopover:v})))),t().createElement("div",{className:"search-icon",onClick:a.bind(this,{keyCode:"13"},u,b,!0),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a({keyCode:"13"},u,b,!0))},onFocus:w,tabIndex:0,role:"button","aria-label":_?this.IBUShark("key.v.page.triponline.searchbox.nocityerror"," "):this.IBUShark("key.v.page.orderedit.layer.search","")},t().createElement($t,{type:"search",className:"mg_source"}),"online-home"===y&&t().createElement("div",{className:"search_text"},this.IBUShark("key.v.page.orderedit.layer.search",""))),t().createElement("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"sr-only"},I))}}class xi extends Nt{constructor(e){super(e)}render(){const{cityName:e,cityId:r,placeholderList:n,selectCityCallback:i,from:o="",isTangram:a,biz:s}=this.props;let{showLayer:c,searchType:l,defaultVal:u}=this.state;return t().createElement("div",{className:"input_container ol_cityselect",ref:e=>{this.cityPageContent=e},onClick:e=>{e.stopPropagation()}},t().createElement("div",{className:"ol_citypage_height",onClick:e=>{e.stopPropagation()}},t().createElement(Pi,{ref:e=>this.headerSearchRef=e,from:o,onblueInput:this.onblueInput.bind(this),cityName:e,cityId:r,defaultVal:u,switchCityLayer:this.switchCityLayer.bind(this),closeCityLayer:this.closeCityLayer.bind(this),keySearchClick:this.keySearchClick.bind(this),onOlKeyInput:this.onOlKeyInput.bind(this),onClear:this.onClear.bind(this),setTipStatus:this.setTipStatus.bind(this),hasCityError:this.state.hasCityError,setTipDown:this.setTipDown.bind(this),onblueInputCallBack:this.onblueInputCallBack.bind(this),onEnsureHandler:this.onEnsureHandlerNew,onInput:this.onInput.bind(this),onKeyInputFocus:this.checkOriginStatus.bind(this),tntOnEnsureHandler:this.onEnsureHandler,value:this.state.value,olSuggestVal:this.state.olSuggestVal,inputLog:{type:"click",params:{key:`ibuact-10650014881-search-click-${r}-home-${this.header.language}`}},cityLog:{type:"click",params:{key:`actibu_ttdhomepg_changecity_${r}`}},placeholderList:n,showLayer:c&&l!==Et.suggest,showRegionLayer:c&&l===Et.suggest,biz:s,searchType:this.state.searchType,selectCityCallback:i,isTangram:a,hoverIndex:this.state.hoverIndex,hoverStatus:this.state.hoverStatus,showSearchPop:this.state.showSearchPop,poiItem:this.state.poiItem,AssociateHoverIndex:this.state.AssociateHoverIndex,AssociateHoverStatus:this.state.AssociateHoverStatus,showType:this.state.showType,data:this.state.data,cityData:this.state.cityData,getHotWordVCallback:this.getHotWordVCallback.bind(this),selectKeysCallback:this.selectKeysCallback.bind(this),getSearchHoverCallBack:this.getSearchHoverCallBack.bind(this),onMouseDown:this.onMouseDown.bind(this),setEngineStatus:this.setEngineStatus.bind(this),onClick:this.onClick.bind(this),setHotCityRef:e=>this.hotCityRef=e,setSearchPopover:e=>this.searchPopover=e}),t().createElement("div",{className:"city-online-error-tip"},t().createElement(Ei,{keys:"city-input-search"}))),t().createElement("div",{className:"ol_citypage_layer "+(c?"":"hidden_layer")},t().createElement("div",{className:"m_content"},"online-home"!=o?t().createElement("div",{onClick:e=>{e.stopPropagation()},className:"city_select_searchinput",style:{display:l===Et.suggest?"":"none"}},t().createElement(hr,{closeType:"whiteclose",placeholder:this.IBUShark("key.v.page.index.searchlocation","Country or region"),defaultVal:this.state.value,ref:e=>this.input=e,onChange:this.onInput.bind(this),onClear:this.onClear.bind(this),onKeyDown:e=>{this.onEnsureHandler(e,this.state.value)},type:"search"})):null)))}}var Ti;!function(e){e[e.suggest=0]="suggest",e[e.keyWord=1]="keyWord"}(Ti||(Ti={}));class Ni extends ze{constructor(e){super(e)}render(){let{cityId:e,cityItem:r,cityName:n,placeholderList:i}=this.state;const{from:o,biz:a}=this.props,{onSearchClick:s}=this.props;return t().createElement("div",{className:"trip-search"},t().createElement("div",{className:"citypage-content",ref:e=>this.cityPageContent=e},t().createElement(xi,{setCityId:this.setCityId.bind(this),cityId:e,cityItem:r,cityName:n,from:"online-home",isTangram:"online-tangram"===o,biz:a,autoFocus:!1,searchInputValue:"",ref:e=>this.citySelectRef=e,searchType:Ti.keyWord,selectCityCallback:()=>{},onSearchClick:s,placeholderList:i})))}}})(),__webpack_exports__})()},module.exports=factory(__webpack_require__(0),__webpack_require__(37))}).call(this,__webpack_require__(225))},17:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},18:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},2110:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return v});var n=r(17),i=r.n(n),o=r(18),a=r.n(o),s=r(59),c=r.n(s),l=r(40),u=r.n(l),p=r(60),d=r.n(p),f=r(0),h=r.n(f),y=r(1500),m=r.n(y);r(2111);function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}r(95);var v=function(e){function t(){return i()(this,t),e=this,r=t,n=arguments,r=u()(r),c()(e,g()?Reflect.construct(r,n||[],u()(e).constructor):r.apply(e,n));var e,r,n}return d()(t,e),a()(t,[{key:"render",value:function(){try{window.i("jJn")}catch(e){}return h.a.createElement(m.a,this.props)}}])}(f.PureComponent)},2111:function(e,t,r){},225:function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,p=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},37:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__37__},4:function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},40:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},59:function(e,t,r){var n=r(11).default,i=r(136);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},60:function(e,t,r){var n=r(71);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},71:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},95:function(e,t,r){"use strict";r.r(t);var n=r(4),i=r.n(n);function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function s(r,n,i,o){var s=n&&n.prototype instanceof l?n:l,u=Object.create(s.prototype);return a(u,"_invoke",function(r,n,i){var o,a,s,l=0,u=i||[],p=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,a=0,s=e,d.n=r,c}};function f(r,n){for(a=r,s=n,t=0;!p&&l&&!i&&t<u.length;t++){var i,o=u[t],f=d.p,h=o[2];r>3?(i=h===n)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=f&&((i=r<2&&f<o[1])?(a=0,d.v=n,d.n=o[1]):f<h&&(i=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,d.n=h,a=0))}if(i||r>1)return c;throw p=!0,n}return function(i,u,h){if(l>1)throw TypeError("Generator is already running");for(p&&1===u&&f(u,h),a=u,s=h;(t=a<2?e:s)||!p;){o||(a?a<3?(a>1&&(d.n=-1),f(a,s)):d.n=s:d.v=s);try{if(l=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=e}else if((t=(p=d.n<0)?s:r.call(n,d))!==c)break}catch(t){o=e,a=1,s=t}finally{l=1}}return{value:t,done:p}}}(r,i,o),!0),u}var c={};function l(){}function u(){}function p(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),f=p.prototype=l.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,i,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=p,a(f,"constructor",p),a(p,"constructor",u),u.displayName="GeneratorFunction",a(p,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,n,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:h}})()}function a(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}a=function(e,t,r,n){if(t)i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){a(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},a(e,t,r,n)}var s=function(){var e=i()(o().m(function e(){return o().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(){return e.apply(this,arguments)}}(),c=s,l=s,u=s;window.disableAutoReport=!1;var p={getStorageFn:function(e){var t=e.key;return new Promise(function(e){try{e(window.localStorage.getItem(t))}catch(t){e("")}})},setStorageFn:function(e){var t=e.key,r=e.value;return new Promise(function(e){try{e(window.localStorage.setItem(t,r))}catch(t){e("")}})},removeStorageFn:function(e){var t=e.key;return new Promise(function(e){try{e(window.localStorage.removeItem(t))}catch(t){e("")}})},fetchFn:function(e){var t=e.url,r=e.body,n=e.method,a=e.header;try{return window.fetch(t,{method:n,headers:a,body:JSON.stringify(r)}).then(function(){var e=i()(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:if(t.ok){e.n=1;break}return e.a(2,{data:"Network response was not ok"});case 1:return e.n=2,t.json();case 2:return e.a(2,e.v)}},e)}));return function(t){return e.apply(this,arguments)}}())}catch(e){return Promise.resolve("")}}};function d(e){var t=e.getStorageFn,r=e.setStorageFn,n=e.removeStorageFn,i=e.fetchFn;c=t,l=n,u=i}d(p);var f="_700405_ibu$online-home_ares_20250722192946_0_8617",h="700405_ibu$online-home_INJECT_FNLIST_CACHE",y="700405_ibu$online-home_BUILD_VERSION_CACHE",m={},g=[],v={},_=!0,w=!1;function b(){return(b=i()(o().m(function e(){var t,r,n,i;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return w=!0,e.p=1,e.n=2,c({key:y});case 2:if(n=e.v){e.n=3;break}n="";case 3:if((t=n)&&t===f){e.n=6;break}return e.n=4,l({key:h});case 4:return e.n=5,l({key:y});case 5:return e.a(2);case 6:return e.n=7,c({key:h});case 7:if(i=e.v){e.n=8;break}i="";case 8:"string"==typeof(r=i)&&(r=r&&JSON.parse(r)||[]),(g=g.concat(r)).forEach(function(e){m[e]=1}),e.n=10;break;case 9:e.p=9,e.v;case 10:return e.a(2)}},e,null,[[1,9]])}))).apply(this,arguments)}function k(){window["700405_ibu$online-home_timer"]&&(clearTimeout(window["700405_ibu$online-home_timer"]),window["700405_ibu$online-home_timer"]=null)}function C(){if(!window.disableAutoReport){var e=window.reportInterval||2e4;!window["700405_ibu$online-home_timer"]&&Object.keys(v).length>0&&(window["700405_ibu$online-home_timer"]=setTimeout(function(){k(),I()},e))}}function I(){if(k(),_){var e=Object.keys(v);0!==e.length&&(u({url:"https://m.ctrip.com/restapi/soa2/28967/reportInjectFnInfo",method:"POST",header:{"Content-Type":"application/json"},body:{buildVersion:f,fnInfo:e.join("")}}).then(function(e){(_=!!(e&&e.data&&e.data.injectSwitch))&&C()}).catch(function(e){C()}),function(){O.apply(this,arguments)}(),v={})}}function O(){return(O=i()(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:Object.keys(v).forEach(function(e){var t=g.indexOf(e);if(-1!==t&&(g.splice(t,1),delete m[e]),g.push(e),m[e]=1,g.length>5e3){var r=g.shift();delete m[r]}});case 1:return e.a(2)}},e)}))).apply(this,arguments)}window.i=function(e){if(w||function(){b.apply(this,arguments)}(),!_)return k(),void(v={});(function(e){return!v[e]&&!m[e]&&(v[e]=1,!0)})(e)&&(Object.keys(v).length>=1e3?I():C())},window.reportInjectFnInfo=I,window.registerFn=d,t.default={registerFn:d,reportInjectFnInfo:I}}})});
//# sourceMappingURL=https://static.ares.fws.qa.nt.ctripcorp.com/modules/ibu/online-home-map/tnt.js.map?t=1753183785835