!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}var l={resObserve:!0,openVitals:"T",injectScript:!1,openUIInspector:"T",uiInspectorBlockCount:30,openBlankCheckInApp:"F",sampleRate:.6,scriptUrl:"https://static.tripcdn.com/packages/ares/nfes-libs/*/dynamic.js",whiteList:["PAYMENT2_","SALESOBJ","SALES_OBJECT","UNION","SALES","AUTHSTORE","HEADSTORE","PAUTH","C_CLEAR_OVERDUE","SOURCEID"],cookieLimit:1024,lsLimit:1048576,indexDBLimit:1048576,openOID:"T",disablesw:!1,swBlackList:[],swVersion:"20250310",blankScreenConfig:{domThreshold:5,threshold:.6},openScreenshot:"F",ubtConfig:{nameRule:{"tripcdn.cn":["bd-s","ws-s","ak-s","aw-s","bd-d","ws-d","ak-d","aw-d"],"tripcdn.com":["bd-s","ws-s","ak-s","aw-s","static","bd-d","ws-d","ak-d","aw-d"],"ctrip.com":["webresource","webresource.english","pic","pic.english"],"c-ctrip.com":["webresource","webresource.english","pic","pic.english","dimg04","images3"],"travix.com":["assets","static-assets","s1"]}},appUaRegex:"/alipayclient|EBKAPP|TRIPEBK|tripPal|ctripVBKwireless|miniprogram|alipayide|aliapp|amapclient|MicroMessenger|APXWebView|CoreInside|IBUCtrip|_Trip.com_|_trainpal_|Feishu TTWebView|Feishu EEMicroApp|((Ctrip|Unicom|Pro|com|Youth|AndroidTV|Discount)_CtripWireless)|((sml|gs|we)_wireless)|Tieyou_TieyouWireless|mode-quickapp|(hap|OPPO/Hybrid)\\/\\d/i"},f=function(){try{var e=navigator.userAgent||"";return!!(/APXWebView|IBUCtrip|_Trip.com_|_trainpal_|Feishu TTWebView|Feishu EEMicroApp|((Ctrip|Unicom|Pro|com|Youth|AndroidTV|Discount)_CtripWireless)|((sml|gs|we)_wireless)|Tieyou_TieyouWireless|mode-quickapp|(hap|OPPO\/Hybrid)\/\d/i.test(e)||/MiniProgram/i.test(e)||e.indexOf("micromessenger")>-1)}catch(e){}},p=function(e,t,n){if(e){var r=(window.__CORE_SDK__||{}).AppID||"";switch(e.mode){case"all":return t;case"whitelist":var o=e.whitelist;if(o&&o.includes(r))return t;break;case"blacklist":var i=e.blacklist;if(i&&!i.includes(r))return t}return n}},m=function(e){var t;try{if(!(t=window.__CORE_CONFIG__)){var n=localStorage.getItem("NFES_CORE_cache");n&&(t=JSON.parse(n))}}catch(e){}var r=t||l;if(e){var o=r[e];if(o&&"T"===o.versionCheck){try{for(var i={">":function(e,t){return e>t},">=":function(e,t){return e>=t},"=":function(e,t){return e===t},"<=":function(e,t){return e<=t},"<":function(e,t){return e<t}},a=o.rules||[],c=0;c<a.length;c++){var s=a[c],u=s.ver.match(/([>=<]+)(.+)/);if(u&&u[1]){var d=u[1];if(i[d]&&i[d]("002.000.066",u[2]))return p(s.abtest,s.value,o.defaultValue)||s.value}}}catch(t){_({module:"mobileConfig",category:"getRules-".concat(e),error:t})}return o.defaultValue}return o&&o.abtest?p(o.abtest,o.abtest.value,o.defaultValue):o}return r},v=function(e){e.pureUrl="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),e.captainAppId=(window.__CORE_SDK__||{}).AppID||"",e.fromSDK=!0,e.version="2.0.66",e.framework=(window.__CORE_SDK__||{}).framework;var t=(window.__NFES_DATA__||window.__NEXT_DATA__||{}).assetPrefix;"string"==typeof t&&(e.nfesResVersion=t.split("/").pop())},g=function(e,t,n,r,o){try{window.UBT_API||(window.UBT_API=[]),window.UBT_API.push({type:"send",data:{type:e,key:t,data:n||{}},pvId:r,options:o})}catch(e){}},h=function(e){var t=e.data||{};v(t);var n=e.value;g("metric",e.key,{tag:t,value:void 0!==n?n:n||1},void 0,{force:!!e.force})},_=function(e){try{var t=e.module,n=void 0===t?"unknown":t,r=e.error,o=void 0===r?{}:r,i=e.category,a=void 0===i?"default":i;h({key:"web_core_error",data:{message:o.message||"",stack:"".concat(o.stack)||"",category:a,module:n}})}catch(e){console.log(e)}},w=function(){var e;return"undefined"!=typeof window&&((null===(e=window.__CORE_SDK__)||void 0===e?void 0:e.isTravix)||"travix"===(window.__NFES_DATA__||window.__NEXT_DATA__||{}).company)},y=function(){var e,t,n=w();"undefined"!=typeof window&&(e=null===(t=window.__CORE_SDK__)||void 0===t?void 0:t.oversea);var r=(void 0!==e?!!e:/\.trip\.com/i.test(location.host))?"www.trip.com":"m.ctrip.com",o={};return n&&(o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prod",n=location.hostname.match(/^www\.(.+)/);e=n?n[1]:"budgetair.com";var r={prod:"rest.".concat(e),uat:"m.uat.trip.travix.com",fat:"m.fws.trip.travix.com",uatqa:"m.uat.trip.travix.com",baolei:"rest.".concat(e)};return"all"===t?r:r[t]||r.prod}("all"),r=o.prod),/\.uat\.qa/i.test(location.host)?r="gateway.m.uat.qa.nt.ctripcorp.com":/(\.ui\.|\.dev\.|\.fat)|(localhost|172\.16|127\.0|10\.15|10\.32)|(\.fws\.)|(\.faas\.qa)|(\.lpt)/i.test(location.host)&&(r=n?o.fat:"gateway.m.fws.qa.nt.ctripcorp.com"),r},b=[],S={},T=0,k=void 0,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;try{var r=(window.__CORE_SDK__||{}).resPerfSampleRate,o="force"===n?1:r||n||1,a=Math.ceil(e.length*o),c=0;if(e.forEach((function(e){var t=function(e){if(!e||!e.name)return!1;var t=e.name.match(/^(?:https?:\/\/)?(?:www\.)?([^:/\n?]+)/im);if(!t||/(bee\/collect)|(\/_ma.gif)|(\/bf.gif)/.test(e.name))return!1;var n=t[1],r=(null==n?void 0:n.split("."))||[],o=r.splice(-2).join(".")||"",i=r.join(".")||"";if("navigation"!==e.entryType){if(!(o in S))return!1;if(-1===S[o].indexOf(i))return!1}return n}(e),n=/_fr=wc/.test(e.name);if(!n){if(!t)return;if(e.duration<=0)return}var r=(window.__CORE_SW__||{})[e.name]||{},o=i({name:e.name,domain:t,totalTime:e.duration,responseStatus:e.responseStatus,initiatorType:e.initiatorType,transferSize:e.transferSize},r),s=I(e);if(s||(o=Object.assign(o,{entryType:e.entryType,startTime:e.startTime,ttfb:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,dnsTime:e.domainLookupEnd-e.domainLookupStart,tcpTime:e.connectEnd-e.connectStart,redirectTime:e.redirectEnd-e.redirectStart})),n)try{return void(window.__CORE_IMAGE__[e.name]=o)}catch(e){}s&&!o.isDown&&c>a||(b.push(o),c++)})),0===b.length)return;var s=T?3e3-(Date.now()-T):0;if(!(t||s<=0))return void(k||(k=window.setTimeout((function(){E(void 0,!0,n),k=void 0}),s)));h({key:"bbz_perf_resource_timing",data:{timings:JSON.stringify(b),category:"webcore"}}),T=Date.now(),b=[]}catch(e){}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(e.length>100)for(var n=function(n){setTimeout((function(){E(e.slice(n,n+100),!1,t)}),16)},r=0;r<e.length;r+=100)n(r);else E(e,!1,t)},I=function(e){var t=e.domainLookupEnd-e.domainLookupStart,n=e.requestStart?e.responseStart-e.requestStart:0;return!(t>100||n>800||200!==e.responseStatus)};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof performance&&"function"==typeof performance.getEntriesByType){var t=performance.getEntriesByType("resource");if(C(t,"force"),e.resObserve)new PerformanceObserver((function(t){var n=t.getEntries();n&&C(n,e.sampleRate)})).observe({entryTypes:["resource","navigation"]})}}var x,A,D,R,P,B=function(e,t){return new Promise((function(n,r){var o=new XMLHttpRequest;o.open("POST",e,!0),o.onload=function(){n({json:function(){return Promise.resolve(o.responseText).then(JSON.parse)}})},o.onerror=r,o.send(t.body||null)}))},L=-1,N=function(e){addEventListener("pageshow",(function(t){t.persisted&&(L=t.timeStamp,e(t))}),!0)},F=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},M=function(){var e=F();return e&&e.activationStart||0},j=function(e,t){var n=F(),r="navigate";L>=0?r="back-forward-cache":n&&(document.prerendering||M()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},H=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},U=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},W=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},q=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},V=function(e){var t=!1;return function(){t||(e(),t=!0)}},K=-1,G=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},X=function(e){"hidden"===document.visibilityState&&K>-1&&(K="visibilitychange"===e.type?e.timeStamp:0,z())},J=function(){addEventListener("visibilitychange",X,!0),addEventListener("prerenderingchange",X,!0)},z=function(){removeEventListener("visibilitychange",X,!0),removeEventListener("prerenderingchange",X,!0)},Y=function(){return K<0&&(K=G(),J(),N((function(){setTimeout((function(){K=G(),J()}),0)}))),{get firstHiddenTime(){return K}}},$=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Z=[1800,3e3],Q=[.1,.25],ee=function(e,t){t=t||{},function(e,t){t=t||{},$((function(){var n,r=Y(),o=j("FCP"),i=H("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-M(),0),o.entries.push(e),n(!0)))}))}));i&&(n=U(e,o,Z,t.reportAllChanges),N((function(r){o=j("FCP"),n=U(e,o,Z,t.reportAllChanges),W((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))}(V((function(){var n,r=j("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},c=H("layout-shift",a);c&&(n=U(e,r,Q,t.reportAllChanges),q((function(){a(c.takeRecords()),n(!0)})),N((function(){o=0,r=j("CLS",0),n=U(e,r,Q,t.reportAllChanges),W((function(){return n()}))})),setTimeout(n,0))})))},te=[1800,3e3],ne=0,re=1/0,oe=0,ie=function(e){e.forEach((function(e){e.interactionId&&(re=Math.min(re,e.interactionId),oe=Math.max(oe,e.interactionId),ne=oe?(oe-re)/7+1:0)}))},ae=function(){"interactionCount"in performance||x||(x=H("event",ie,{type:"event",buffered:!0,durationThreshold:0}))},ce=[],se=new Map,ue=0,de=function(){return(x?ne:performance.interactionCount||0)-ue},le=[],fe=function(e){if(le.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=ce[ce.length-1],n=se.get(e.interactionId);if(n||ce.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};se.set(r.id,r),ce.push(r)}ce.sort((function(e,t){return t.latency-e.latency})),ce.length>10&&ce.splice(10).forEach((function(e){return se.delete(e.id)}))}}},pe=function(e){var t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=V(e),document.addEventListener("visibilitychange",e,{once:!0}),t((function(){e(),document.removeEventListener("visibilitychange",e)})))},me=[200,500],ve=function(e,t){t=t||{},$((function(){var n;ae();var r,o=j("INP"),i=function(e){e.forEach(fe);var t,n=(t=Math.min(ce.length-1,Math.floor(de()/50)),ce[t]);n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())},a=H("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=U(e,o,me,t.reportAllChanges),a&&("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),pe((function(){i(a.takeRecords()),r(!0)})),N((function(){ue=0,ce.length=0,se.clear(),o=j("INP"),r=U(e,o,me,t.reportAllChanges)})))}))},ge=[2500,4e3],he={},_e=[800,1800],we=function(e){document.prerendering?$((function(){return we(e)})):"complete"!==document.readyState?addEventListener("load",(function(){return we(e)}),!0):e()},ye={passive:!0,capture:!0},be=new Date,Se=function(e,t){A||(A=t,D=e,R=new Date,Ee(removeEventListener),Te())},Te=function(){if(D>=0&&D<R-be){var e={entryType:"first-input",name:A.type,target:A.target,cancelable:A.cancelable,startTime:A.timeStamp,processingStart:A.timeStamp+D};P.forEach((function(t){t(e)})),P=[]}},ke=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Se(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,ye),removeEventListener("pointercancel",r,ye)};addEventListener("pointerup",n,ye),addEventListener("pointercancel",r,ye)}(t,e):Se(t,e)}},Ee=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,ke,ye)}))},Ce=[100,300],Ie=function(e,t){t=t||{},$((function(){var n,r=Y(),o=j("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},c=H("first-input",a);n=U(e,o,Ce,t.reportAllChanges),c&&(q(V((function(){a(c.takeRecords()),c.disconnect()}))),N((function(){var r;o=j("FID"),n=U(e,o,Ce,t.reportAllChanges),P=[],D=-1,A=null,Ee(addEventListener),r=i,P.push(r),Te()})))}))},Oe=function(e){try{if("string"==typeof e)return document.evaluate(e,document,null,0,null);if(!e||1!==e.nodeType)return"";if(e.id)return"//*[@id='".concat(e.id,"']");var t=[].filter.call(e.parentNode.children,(function(t){return t.tagName===e.tagName}));return"".concat(Oe(e.parentNode),"/").concat(e.tagName.toLowerCase()).concat(t.length>1?"[".concat([].indexOf.call(t,e)+1,"]"):"")}catch(e){return""}},xe=!1;void 0===window.__nfes_pf__&&(window.__nfes_pf__={});var Ae,De={FID:1,CLS:"web_core_cls",LCP:"web_core_lcp",FCP:"web_core_fcp",TTFB:1,INP:"web_core_inp"},Re={},Pe={},Be=function(e){try{if(De[e.name]){if(Re[e.name])return;Re[e.name]=!0,e.value=Math.round(100*e.value)/100,Pe[e.name]=e.value;var t="";try{"function"==typeof window["__on".concat(e.name,"Ext__")]&&(t=window["__on".concat(e.name,"Ext__")](e),Pe.extraData=t)}catch(e){console.log("Custome EXT Func error",e.message)}var n=window.__CORE_SDK__||{},r="OfflinePlugin"!==n.AppID&&"T"!==n.checkAntiBot&&"T"!==n.isBotFeat;if("LCP"===e.name){if(e.entries&&e.entries.length>0){for(var o=e.entries[e.entries.length-1],i=o&&o.element,a=null,c="F",s=e.entries.length-1;s>=0;s--){var u=e.entries[s]&&e.entries[s].element;if(!u||!u.hasAttribute||!u.hasAttribute("lcpignore")&&!u.hasAttribute("data-lcpignore")){a=u;break}c="T"}var d=i?Oe(i):"";d.indexOf("nfes-verification-code")>-1&&(c="V",d="");var l=(i&&i.innerHTML||"").replace(/\s|\n/g,"").substring(0,400);Pe.lcpEle=d,Pe.isFake=c,Pe.domString=l;var f="T"===c&&a&&a.renderTime;f&&(Pe.fakeLcpEle=Oe(a)||""),e.value="V"===c?0:f||e.value,r&&h({key:De[e.name],value:e.value,data:Pe})}}else"FCP"===e.name&&(window.__FCP=!0),"string"==typeof De[e.name]&&r&&h({key:De[e.name],value:e.value,data:Pe});window.__nfes_pf__[e.name]=e.value,"function"==typeof window["__on".concat(e.name)]&&window["__on".concat(e.name)](Pe)}}catch(e){}},Le="__CORE_TTI_CHECK__";function Ne(){if(!xe){xe=!0,"T"===m("openSotp")&&(Pe.isSotp="T");try{!function(e,t){t=t||{};var n=j("TTFB"),r=U(e,n,_e,t.reportAllChanges);we((function(){var o=F();o&&(n.value=Math.max(o.responseStart-M(),0),n.entries=[o],r(!0),N((function(){n=j("TTFB",0),(r=U(e,n,_e,t.reportAllChanges))(!0)})))}))}(Be),ee(Be),Ie(Be),function(e,t){t=t||{},$((function(){var n,r=Y(),o=j("FCP"),i=H("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-M(),0),o.entries.push(e),n(!0)))}))}));i&&(n=U(e,o,te,t.reportAllChanges),N((function(r){o=j("FCP"),n=U(e,o,te,t.reportAllChanges),W((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))}(Be),function(e,t){t=t||{},$((function(){var n,r=Y(),o=j("LCP"),i=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-M(),0),o.entries=[e],n())}))},a=H("largest-contentful-paint",i);if(a){n=U(e,o,ge,t.reportAllChanges);var c=V((function(){he[o.id]||(i(a.takeRecords()),a.disconnect(),he[o.id]=!0,n(!0))}));["keydown","click","visibilitychange"].forEach((function(e){addEventListener(e,(function(){return pe(c)}),{capture:!0,once:!0})})),q(c),N((function(r){o=j("LCP"),n=U(e,o,ge,t.reportAllChanges),W((function(){o.value=performance.now()-r.timeStamp,he[o.id]=!0,n(!0)}))}))}}))}(Be),ve(Be)}catch(e){}}}var Fe,Me=function(e){return e[e.sessionIndex=0]="sessionIndex",e[e.typeIndex=1]="typeIndex",e[e.actseqIndex=2]="actseqIndex",e[e.pgstepIndex=3]="pgstepIndex",e[e.spmIndex=4]="spmIndex",e[e.scmIndex=5]="scmIndex",e[e.h5Index=12]="h5Index",e}(Me||{}),je="referConfig",He="clickId",Ue="viewID",We="ubtKey",qe="__ubt_common_data",Ve="o_app_no_trace_exposure_refer_key",Ke="web_expose_auto",Ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=1<<Me.h5Index,this.options|=1<<Me.sessionIndex,this.options|=1<<Me.actseqIndex,this.options|=1<<Me.pgstepIndex,this.type="",this.spm="",this.scm=""}return n=e,(r=[{key:"setType",value:function(e){this.type=e,this.options|=1<<Me.typeIndex}},{key:"setSPM",value:function(e){this.spm=e,this.options|=1<<Me.spmIndex}},{key:"setSCM",value:function(e){this.scm=e,this.options|=1<<Me.scmIndex}},{key:"getValueByIndex",value:function(t){switch(t){case Me.sessionIndex:return e.sessid?"[".concat(e.sessid,"]"):"";case Me.typeIndex:return this.type?"[".concat(this.type,"]"):"";case Me.actseqIndex:return e.actseq?"[".concat(e.actseq,"]"):"";case Me.pgstepIndex:return e.pgstep?"[".concat(e.pgstep,"]"):"";case Me.spmIndex:return this.spm?"[".concat(this.spm,"]"):"";case Me.scmIndex:return this.scm?"[".concat(this.scm,"]"):"";default:return""}}},{key:"getOIDRefer",value:function(){return"[F:".concat(this.options,"]").concat(this.getValueByIndex(Me.sessionIndex)).concat(this.getValueByIndex(Me.typeIndex)).concat(this.getValueByIndex(Me.actseqIndex)).concat(this.getValueByIndex(Me.pgstepIndex)).concat(this.getValueByIndex(Me.spmIndex)).concat(this.getValueByIndex(Me.scmIndex))}}])&&t(n.prototype,r),o&&t(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}();Ae=Ge,r(Ge,"sessid",(Fe=Math.floor(900*Math.random())+100,"".concat(Date.now(),"#").concat(Fe))),r(Ge,"actseq",0),r(Ge,"pgstep",1),r(Ge,"plist",[]),r(Ge,"elist",[]),r(Ge,"incrementActSeq",(function(){Ae.actseq++})),r(Ge,"mergePlist",(function(e){return Ae.mergeList(Ae.plist,e)})),r(Ge,"mergeElist",(function(e){return Ae.mergeList(Ae.elist,e)})),r(Ge,"mergeList",(function(e,t){var r,o=n(t);try{var i=function(){var t=r.value;e.findIndex((function(e){return e._oid===t._oid}))<0&&e.push(t)};for(o.s();!(r=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return c(e)}));var Xe=function(e){try{var t=e.getAttribute("testID");return t?JSON.parse(t):null}catch(e){return null}},Je=function(e){var t=Xe(e);return t?t[je]:null},ze=function(e,t){var n=Je(e);return t?"_ec":null!=n&&n.isPage?"_pv":"_ev"},Ye=function(e){try{return JSON.parse(e.getAttribute("data-exposure")||"{}")}catch(e){return{}}},$e=function(e){var t=Xe(e);if(!t)return!1;var n=t[je];if(!n)return!1;try{var r=Ye(e),o=t[We]||t[Ue]||r[We],i=n.reportExposure;if(!(o&&o!==Ke||i))return!1}catch(e){return!1}return!0},Ze=function(e,t,n){if(!t&&!$e(e))return{};var o=function(e){for(var t=[],n=e,r=5;n&&n!==window.document.body&&r>0;)Je(n)&&t.push(n),n=n.parentNode,r--;return t}(e);if(0===o.length)return{};var a=function(e){return e.map((function(e){var t=Je(e),n=t.oid,r=t.position,o="";return n?o=void 0!==r?"".concat(n,":").concat(r):n:o})).join("|")}(o),c=Array(o.length).fill(":::").join("|"),s=function(e,t){var n=[],r=[];return e.forEach((function(e){try{var o=Je(e),a=o.isPage,c=o.oid,s=o.position;if(a){var u={_oid:c,_pgstep:0,_psrefer:"",_pgrefer:""};void 0!==t&&(u._ratio=t.toString()),n.push(u)}else{var d=i({},o);delete d.oid,delete d.position,delete d.isPage;var l=i({_oid:c},d);void 0!==t&&(l._ratio=t.toString()),void 0!==s&&(l._pos=s),r.push(l)}}catch(e){}})),{plist:n,elist:r}}(o,n),u=s.plist,d=s.elist,l=Ge.mergePlist(u),f=Ge.mergeElist(d),p=new Ge,m=Je(o[0]);p.setType(null!=m&&m.isPage?"p":"e"),p.setSPM(a),p.setSCM(c);var v=JSON.stringify([p.getOIDRefer()]),g={};try{g=i({},function(e){var t=Xe(e);return t&&t.userData||{}}(e))}catch(e){g={}}return i(r({},qe,{_actseq:Ge.actseq,_elist:f,_eventcode:ze(e,t),_multirefers:v,_plist:l,_scm:c,_sessid:Ge.sessid,_sidrefer:"",_spm:a,from:"h5",logtime:(new Date).getTime()}),g)},Qe=function(e,t){var n=Xe(e);n&&n[He]&&t[qe]&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;v(t),g(n?"dev_trace":"trace",e,t,r)}(n[He],t,!1)};window.__CORE_OID__={getUbtCommonData:Ze,getViewID:function(e){var t=Xe(e);if(!t)return"";var n=Ye(e),r=t[We]||t[Ue]||n[We];return r===Ke?Ve:r||Ve},shouldReportExposure:$e};var et=(window.__CORE_SDK__||{}).framework||"",tt=["nfes","nfes-web-core"].includes(et)?"NfesCore-Error":"WebCore-Error",nt=function(e,t,n){var r=i({from:"framework",catcher:"auto_".concat("2.0.66","_").concat(t),captainAppId:(window.__CORE_SDK__||{}).AppID||""},null==e?void 0:e.extendedField),o=i(i({},e),{},{category:tt,framework:et||"web-core",extendedField:r});e.message&&/Minified React error #(418|423|425)/.test(e.message)&&(window._hasHydrationErr=!0),e.stack?g("error",void 0,o,n,{force:!0}):h({key:"web_core_nostack_error",data:o})},rt=function(e,t){console.error("[UBT ERROR] ".concat(e),t)},ot=function(e,t){return null==e?0:("number"==typeof e&&(e=e.toString()),parseInt(e,t))},it={start_point:null,start_touch:!1,moving:!1};function at(){return/Googlebot|AdsBot-Google|Storebot-Google|Bingbot|DuckDuckBot|baiduspider|LinkedInBot|bitlybot|Twitterbot|applebot|redditbot|Slackbot|Discordbot/i.test(navigator.userAgent)}function ct(e){if(!at())try{if(!e||!e.reason)return;var t=e.reason;if(t.__IGNORE__)return;var n="string"==typeof t?null:function(e){var t;if(e){var n=e.split("\n"),r=n[n.length-1],o=(r=null===(t=r)||void 0===t?void 0:t.substring(r.indexOf("(")+1,r.indexOf(")"))).split(":");if(!(o.length<3))return{column:o.pop(),line:o.pop(),file:o.join(":")}}}(null==t?void 0:t.stack),r={name:t.message||t,message:t.message||t,stack:null==t?void 0:t.stack,line:null==n?void 0:n.line,column:null==n?void 0:n.column,file:null==n?void 0:n.file};nt(r,"rejection")}catch(e){rt("handleRejection error.",e)}}function st(e,t,n,r,o){if(!at())try{var i,a={name:(null==o?void 0:o.name)||(null==e?void 0:e.message)||e,stack:(null==o?void 0:o.stack)||(null==e||null===(i=e.error)||void 0===i?void 0:i.stack),message:(null==o?void 0:o.message)||(null==e?void 0:e.message),line:n||(null==e?void 0:e.lineno),column:r||(null==e?void 0:e.colno),file:t||(null==e?void 0:e.file)},c=function(e){if(e&&"string"==typeof e){var t=e.match(/Loading (chunk|CSS chunk) ([\W\w]*) failed.\n\(((error|missing|timeout): )?([^ ]+)\)/i);if(t&&t.length>=6)return t[5]}return""}(a.message);c?h({key:"o_webcore_resource_fail",data:{category:"handleError",rsurl:c}}):nt(a,"error")}catch(o){rt("handleError error.",o)}}var ut=0;function dt(e){if(!at())try{if(!e||!e.blockedURI||/\/bee\/collect$/.test(e.blockedURI)||ut>20)return;ut++,h({key:"web_core_csp_error",data:{blockedURI:e.blockedURI,sourceFile:e.sourceFile,violatedDirective:e.violatedDirective,statusCode:e.statusCode}})}catch(e){}}function lt(e,t){var n=0;if("DIV"===t&&(e.attributes["page-url"]||e.getAttribute("page-url")))return"";if(e.parentNode)for(var r=e.parentNode.firstChild;r&&r!==e;)1===r.nodeType&&r.tagName===e.tagName&&n++,r=r.nextSibling;return n>0?"[".concat(++n,"]"):""}function ft(e){try{if(!e||!e.target)return;var t=e.target,n=window.document.documentElement,r=window.document.body;if(t&&1===t.nodeType&&t.nodeName&&t.getBoundingClientRect){var o,a,c,s,u=t.nodeName.toUpperCase(),d=t.getBoundingClientRect(),l="",f=Math.max(n.scrollLeft,r.scrollLeft),p=Math.max(n.scrollTop,r.scrollTop),m=(null===(o=it.start_point)||void 0===o?void 0:o.pageX)||e.pageX||0,v=(null===(a=it.start_point)||void 0===a?void 0:a.pageY)||e.pageY||0,h=ot((n.clientWidth||r.clientWidth)/2,10);if("SELECT"===u&&v-d.top-p<0?(l+="[@x='".concat(ot(m+d.left+f-h,10),"'][@y='").concat(ot(v+d.top,10),"']"),c=m,s=v-p):(l+="[@x='".concat(m-h,"'][@y='").concat(v,"']"),c=ot(m-d.left-f,10)||0,s=ot(v-d.top-p,10)||0),c>=0&&s>=0&&c<=screen.width+f){l+="[@rx='".concat(c,"']"),l+="[@ry='".concat(s,"']");var _=function(e){for(var t,n=[],r=0;e&&9!==e.nodeType;){if(1===e.nodeType){var o=(e.nodeName||"").toUpperCase(),i=e.id||"",a=o+lt(e,o);i&&"function"==typeof i.indexOf&&-1===i.indexOf("client_id_viewport")&&(a+="[@id='".concat(i,"']")),(t=e.getAttribute("data-ubt-key"))&&(a+="[@cid='".concat(t,"']")),n[r++]=a}e=e.parentNode}return n.length>2?n.reverse().join("/"):""}(t);if(_){var w=function(e){return window.__CORE_CONFIG__&&"T"===window.__CORE_CONFIG__.openOID?(Ge.incrementActSeq(),Ze(e,!0)):{}}(t),y=(b=w,(S=Xe(t))&&!S[He]&&b[qe]?"o_app_no_trace_refer_key":"action");!function(){g("action",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"action",arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(i({xpath:_+l,action:"auto"},w),y),Qe(t,i({xpath:_+l},w))}}}}catch(e){rt("handleClick error.",e)}var b,S}function pt(e){it.start_point=e.touches&&e.touches[0]||e,it.moving=!1,it.start_touch=!0}function mt(e){if(it.start_touch){var t,n,r,o,i=e.touches&&e.touches[0]||e;r=Math.abs(i.pageX-((null===(t=it.start_point)||void 0===t?void 0:t.pageX)||0)),o=Math.abs(i.pageY-((null===(n=it.start_point)||void 0===n?void 0:n.pageY)||0)),it.moving=!(r<6||o<6)}}function vt(e){!it.moving&&it.start_touch&&ft(e),it.start_touch=!1,it.start_point=null}var gt,ht=!1,_t=!1,wt={errorMessage:"",isBlank:!1},yt=!1,bt=!1,St=!1,Tt=!1,kt={rootElementSelector:null,threshold:.6,domThreshold:5},Et=0,Ct=!1,It=0,Ot=Date.now(),xt=Ot,At=Ot;window.performance&&window.performance.timing&&(xt=window.performance.timing.navigationStart,At=window.performance.timing.fetchStart);var Dt="";function Rt(){var e,t,n,r,o,a,c,s,u,d,l,p,m,v,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=g.stage,w=void 0===_?"":_,y=g.domString,b=void 0===y?"":y;if(!_t){_t=!0;var S=wt.isBlank,T=Date.now(),k=T-xt,E=(e={stage:w,isBlank:S,domString:b,checkTime:k,endTime:T},n=(t=wt).ratio,r=void 0===n?0:n,o=t.imgSrc,a=void 0===o?"":o,c=t.errorType,s=void 0===c?"":c,u=t.errorMessage,d=t.captureMethod,l=void 0===d?"":d,p={isWebCore:"true",pageType:"H5",isSuccess:"true",isFirstCheck:"true",hybridVersion:"1.6",fetchStartTime:At,startTime:xt,checkStartTime:Ot,totalTime:e.checkTime,tti:e.checkTime||"",newTTI:e.checkTime||"",endTime:e.endTime||"",h5startTime:xt,scanTexts:"",scanTextsForH5:e.domString||""},m={pureUrl:"".concat(location.protocol,"//").concat(location.host).concat(location.pathname),url:location.href,version:"2.0.66"},v=i(i({ratio:r,isBlank:e.isBlank,errorType:s,errorMessage:u,captureMethod:l,blankCheckCount:Et,imgSrc:a,stage:e.stage,isInApp:f(),hasHydrationError:!!window._hasHydrationErr},m),p),(JSON.stringify(v).length/1024>60||!1===v.isBlank&&v.imgSrc)&&delete v.imgSrc,v),C=window.__CORE_SDK__||{};"T"!==C.checkAntiBot&&"T"!==C.isBotFeat&&h({key:"web_core_blank_check",data:E,value:k,force:!!S})}}function Pt(){return document.documentElement?{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:null}function Bt(e,t,n,r,o){for(var i=Pt(),a=i.width*i.height,c=!1,s=0;s<o.checkedNodes.length;s++)if(o.checkedNodes[s]===e){c=!0;break}if("IFRAME"===e.nodeName&&e.contentWindow){if(!e.contentDocument)return!1;if(e.clientWidth*e.clientHeight/a>.3&&e.contentWindow.document.body.innerText.length>8)return It=0,Ct=!0,!1}if("EMBED"===e.nodeName&&(e.clientWidth*e.clientHeight/a>.3&&e.src))return It=0,Ct=!0,!1;var u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=0;e&&"__next"!==e.id&&"BODY"!==e.tagName&&e!==t&&r<n&&(!e.style||"none"!==e.style.display);)e=e.parentElement,r++;return r}(e,t,10);if(("IMG"===e.nodeName||"VIDEO"===e.nodeName)&&e.clientWidth&&e.clientHeight){if(!c){o.checkedNodes.push(e),o.backgroundImgCount=o.backgroundImgCount+1,o.backgroundImgSize=o.backgroundImgSize+e.clientWidth*e.clientHeight;var d=o.backgroundImgSize/a;(o.backgroundImgCount>=2&&d>=.3||d>1)&&(It=0,Ct=!0)}return!1}if(e.innerText){if(i&&i.width&&i.height){if(!c){o.checkedNodes.push(e),o.textCount=o.textCount+e.innerText.replace(" ","").length;var l=e.clientWidth*e.clientHeight/(i.width*i.height);u<n&&l>.8&&e.innerText.length<10&&(It=17,Ct=!0)}o.textCount>20&&(It=0,Ct=!0)}else It=17,Ct=!0;return!1}var f=function(e,t,n,r,o){if(o<t){if(e&&window.getComputedStyle&&"function"==typeof window.getComputedStyle){var i=getComputedStyle(e),a=getComputedStyle(e,"after"),c=getComputedStyle(e,"before");if("none"!==i.backgroundImage||"none"!==a.backgroundImage||"none"!==c.backgroundImage){n||(r.checkedNodes.push(e),r.backgroundImgCount=r.backgroundImgCount+1,r.backgroundImgSize=r.backgroundImgSize+e.clientWidth*e.clientHeight);var s=Pt();if(s&&s.width&&s.height){var u=r.backgroundImgSize/(s.width*s.height);if(u>=.5||r.backgroundImgCount>=2&&u>=.3)return It=0,Ct=!0,!1}else It=17,Ct=!0}}return!0}return r.domDepCount=r.domDepCount+1,!1}(e,n,c,o,u);return f}function Lt(e,t,n,r,o,i){if("CANVAS"===e.nodeName)return!1;if(Bt(e,n,r,0,i)){var a=e.getBoundingClientRect(),c=!1;if(a.width>=window.innerWidth&&a.height>=window.innerHeight)for(var s=0;s<3;s++)if(t[s+1]){var u=t[s+1];if("CANVAS"===u.nodeName)continue;if(!Bt(u,n,r,0,i)){c=!0;break}}if(!c)return!0}return!1}function Nt(){try{var e,t=0,n={backgroundImgSize:0,backgroundImgCount:0,textCount:0,checkedNodes:[],depImageSize:0,domDepCount:0},r=function(e){var t=[],n=null;e&&(n=e.getBoundingClientRect());var r=n?n.height:window.innerHeight,o=n?n.width:window.innerWidth;t.push({x:o/2,y:r/2,locate:"M"});for(var i=1;i<10;i++)5!==i&&(t.push({x:o*i/10,y:r/2,locate:i<5?"L":"R"}),t.push({y:r*i/10,x:o/2,locate:i<5?"T":"B"}));return t}(e);if(!r.length)return 1;for(var o=0;o<r.length&&!Ct;o++){var i=r[o],a=i.x,c=i.y,s=(i.locate,document.elementsFromPoint(a,c)||[]),u=s[0];if(u&&"__next"!==u.id&&"BODY"!==u.tagName&&"HTML"!==u.tagName&&"STYLE"!==u.tagName&&"SCRIPT"!==u.tagName){if(0===o||4===o||5===o||6===o||12===o||13===o){var d=(u.innerHTML||"").replace(/\s|\n/g,""),l=(u.innerText||"").replace(/\s|\n/g,"");Dt="".concat(Dt,"@@").concat(d.substring(0,50),"@T@").concat(l.substring(0,50))}Lt(u,s,e,kt.domThreshold,0,n)&&t++}else t++}return Dt=Dt.substring(0,500),n.domDepCount>10&&n.textCount<10?(n.checkedNodes=[],1):Ct?(Ct=!1,n.checkedNodes=[],It/r.length):(n.checkedNodes=[],t/r.length)}catch(e){return Dt="error:".concat(e.message,"|_domString:").concat(Dt),1}}function Ft(){var e=Nt();(ht=e>=kt.threshold,wt.ratio=e,ht)?(Date.now()-Ot>=6e3&&function(){if(Tt)window.__webCoreScreenshot&&"function"==typeof window.__webCoreScreenshot&&function(){if(!bt&&!wt.imgSrc){bt=!0;try{var e=window.__webCoreScreenshot(document.body);e instanceof Promise&&e.then((function(e){wt.imgSrc=e})).catch((function(e){h({key:"web_core_error",data:{message:e.message||"",stack:e.stack||"",category:"blankScreen->screenshot->promise",module:"foundation"}})}))}catch(e){h({key:"web_core_error",data:{message:e.message||"",stack:e.stack||"",category:"blankScreen->screenshot->jserror",module:"foundation"}})}}}()}(),wt.isBlank=!0):wt.isBlank=!1;return ht}function Mt(){if(!yt){yt=!0;var e=document.createElement("script");e.type="text/javascript",e.src=function(e){try{var t=(window.__NFES_DATA__||window.__NEXT_DATA__||{}).assetPrefix,n=(void 0===t?"":t).match(/https:\/\/([a-zA-Z0-9-.]+)(\/ares)?\/NFES/),r=n&&n[1];r&&(e=e.replace("static.tripcdn.com",r))}catch(e){}return w()&&(e=e.replace("static.tripcdn.com","static-assets.travix.com")),/nfes-libs-canary/.test(e)&&(e="".concat(e,"?t=2.0.66")),e}("https://static.tripcdn.com/packages/ares/nfes-libs/2.0.66/screenshot.js"),e.async=!0,e.crossOrigin="anonymous",document.head.appendChild(e)}}function jt(){if(function(){try{if(Et++,!document.elementsFromPoint||"function"!=typeof document.elementsFromPoint)return;var e=Ft();return e||(gt&&(clearTimeout(gt),gt=null),Rt({stage:"scan->check",domString:Dt})),e}catch(e){h({key:"web_core_error",data:{message:e.message||"",stack:e.stack||"",category:"blankScreen->checkScreenByChunks",module:"foundation"}})}}()){if(Date.now()-Ot>=9e3)return Rt({stage:"timeout",domString:Dt}),void clearTimeout(gt);gt=setTimeout(jt,500)}else gt&&(clearTimeout(gt),gt=null)}function Ht(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:.6,domThreshold:5,rootElementSelector:"",autoBlankScreenshot:!0};try{if(St)return;St=!0;var t=600-Math.abs(Date.now()-(performance.timing&&performance.timing.navigationStart||Ot)),n=m("blankScreenConfig"),r="T"===m("openScreenshot"),o=n||{},i=o.domThreshold,a=o.threshold;Tt=r&&e.autoBlankScreenshot,setTimeout((function(){var t=(window.__CORE_SDK__||{}).blankScreenConfig,n=void 0===t?{}:t;!f()&&Tt&&Mt(),i&&(e.domThreshold=i),a&&(e.threshold=a);var r=Object.assign({},e,n);kt=r,window.addEventListener("pagehide",(function(){Rt({stage:"pagehide",domString:Dt})})),window.addEventListener("beforeunload",(function(){Rt({stage:"beforeunload",domString:Dt})})),jt()}),t<0?0:t)}catch(e){h({key:"web_core_error",data:{message:e.message||"",stack:e.stack||"",category:"blankScreen->autoCheckBlankScreen",module:"foundation"}})}}var Ut,Wt=["googlebot","baiduspider","bingbot","yandexbot","bytespider","ahrefsbot","semrushbot","petalbot","Bytespider","spider","crawler","python","headless","phantomjs","selenium","puppet","dalvik","okhttp","Google-Travel-Flights"],qt=["__playwright_evaluate__","__playwright_mouse__","__playwright_param__","__playwright_result__","__playwright_utility__","__playwright_symbol__"],Vt=!1,Kt=!1,Gt=!1,Xt="",Jt="",zt=function(){return function(){for(var e=navigator.userAgent.toLowerCase(),t=!1,n=0;n<Wt.length;n++)if(new RegExp(Wt[n],"i").test(e)){t=!0,Xt="".concat(Xt+Wt[n],"-UA|");break}return t}()||((t=!navigator.languages||0===navigator.languages.length)&&(Xt="".concat(Xt,"lang-Nav|")),t)||((e=navigator.webdriver||null!==window.document.documentElement.getAttribute("webdriver"))&&(Xt="".concat(Xt,"-WebDrive-Nav|")),e)||function(){for(var e=0,t=qt;e<t.length;e++){var n=t[e];if(n in window)return Xt="".concat(Xt+n,"-windowPlaywright|"),!0}var r=window.localStorage?"":"localStorage",o=window.sessionStorage?"":"sessionStorage",i="string"!=typeof window.document.cookie?"cookie":"";return!!(r||o||i)&&(Xt="".concat(Xt,"-").concat(r,"-").concat(o,"-").concat(i,"-feat-Storage|"),!0)}();var e,t},Yt=function(e,t,n){window.localStorage.setItem("__CORE_URL__","".concat(e,"@Core_TP@").concat(t,"@Core_TP@").concat(n))},$t=function(e,t,n){if(!Kt){Kt=!0;var r=(window.__CORE_SDK__||{}).checkAntiBot||"";h({key:"o_webcore_checkbot",data:{stage:n,featStr:Xt,isBot:e?"T":"F",hasEvent:t?"T":"F",eventStr:Jt,isFetchBot:"T"===r?"T":"F",isFequencyReq:Gt?"T":"F"}})}},Zt=["duration","success","url"],Qt=!0,en=!1,tn=!1,nn=function(e){try{if(/Google-Travel-Flights/.test(navigator.userAgent))return void O({resObserve:!0});tn&&!en||((t={mpaasAppID:"700273",modules:["Core_New"]},new Promise((function(e,r){var o=t||{},i=o.mpaasAppID,a=o.modules,c=function(e){_({module:"mconfig",category:"fetchMConfig",error:e}),r(e)},s="";try{for(var u=/(CtripWireless|sml_wireless|gs_wireless|we_wireless|TieyouWireless|_CFWireless_)/i.test(navigator.userAgent),d=u?"_n_cid":"GUID",l=document.cookie.split("; "),f=0,p=l.length;f<p;f++){var m=l[f].split("=");m[0]===d&&(s=m[1])}if(s||(s=localStorage.getItem("GUID")),!s&&u){try{s=JSON.parse(window.name).clientID}catch(e){}s||(s="00000000000000000000")}}catch(e){s=""}try{B("https://".concat(y(),"/restapi/soa2/18088/getAppConfig.json"),{body:JSON.stringify({appId:i,categoryList:a,head:{appid:i,cid:s||"",ctok:"",cver:"100000",lang:"01",sid:"8888",syscode:"09",auth:"",xsid:"",extension:[]}})}).then((function(e){return e.json()})).then((function(t){try{if(null!=t&&t.configList){var r,o={},i=n(t.configList);try{for(i.s();!(r=i.n()).done;){var a=r.value;o[a.configCategory]=JSON.parse(a.configContent)}}catch(e){i.e(e)}finally{i.f()}e(o)}}catch(e){c(e)}})).catch((function(e){c(e)}))}catch(e){c(e)}}))).then((function(t){try{tn=!0,t=t.Core_New,window.__CORE_CONFIG__=t,localStorage.setItem("NFES_CORE_cache",JSON.stringify(t));var n=t,r=n.resObserve,o=n.ubtConfig,i=void 0===o?{}:o,a=n.injectScript,c=n.scriptUrl,s=n.openVitals,u=n.sampleRate,d=n.openPolling;if(en="T"===d,(f=i.nameRule)&&(S=f),e||O({resObserve:r,sampleRate:u}),Qt&&(Qt=!1,"T"!==s||e||Ne(),a&&c)){var l=document.createElement("script");l.type="text/javascript",l.src="".concat(c,"?ts=").concat((new Date).getTime()),l.async=!0,l.crossOrigin="anonymous",document.body.appendChild(l)}}catch(e){}var f})).catch((function(){e||(O({resObserve:!0}),Ne())})),setTimeout((function(){nn(!0)}),3e5))}catch(e){}var t};!function(){window.addEventListener("error",st),window.addEventListener("unhandledrejection",ct),window.addEventListener("securitypolicyviolation",dt),window.__CORE_INIT__=!0;var e="ontouchstart"in window,t=e?"touchstart":"mousedown",n=e?"touchmove":"mousemove",r=e?"touchend":"mouseup";(window.UBT_BIZCONFIG||{}).isTravix||(window.document.addEventListener(t,pt,!0),window.document.addEventListener(n,mt,!0),window.document.addEventListener(r,vt,!0))}();var rn=(window.__CORE_SDK__||{}).disableBlankScreen;if(!(void 0!==rn&&rn)&&-1===window.location.search.indexOf("__disableBlankScreen")){var on=m("blankScreenAppUaRegex"),an=f();if(!an&&on&&(an=new RegExp(on).test(navigator.userAgent)),an){if("T"===m("openBlankCheckInApp")){var cn=(window.__CORE_SDK__||{}).autoBlankScreenshot;Ht({autoBlankScreenshot:void 0===cn||cn})}}else if("F"!==m("openBlankScreen")){var sn=(window.__CORE_SDK__||{}).autoBlankScreenshot;Ht({autoBlankScreenshot:void 0===sn||sn})}}window[Le]&&!0===window[Le].checked||(window[Le]={init:function(){},checked:!1}),"T"===m("openCheckBot")&&function(){"object"===u(window.__CORE_SDK__)?window.__CORE_SDK__.isBotFeat="F":window.__CORE_SDK__={isBotFeat:"F"};var e,t,n,r=zt();e=function(){Vt=!0,Jt="".concat(Jt,"-click|"),document.removeEventListener("click",e)},t=function(){Vt=!0,Jt="".concat(Jt,"-touchmove|"),document.removeEventListener("touchmove",t)},n=function(){Vt=!0,Jt="".concat(Jt,"-touchstart|"),document.removeEventListener("touchstart",n)},document.addEventListener("click",e),document.addEventListener("touchmove",t),document.addEventListener("touchstart",n),function(){try{var e=window.localStorage.getItem("__CORE_URL__")||"",t=(new Date).getTime();if(e){var n=e.split("@Core_TP@");if(3===n.length){var r=n[2],o=n[1],i=parseInt(n[0])||1;if(r&&o){var a=t-parseInt(o);if("T"===r)a<36e5?(Gt=!0,window.__CORE_SDK__.isBotFeat="T"):Yt(1,t,"F");else{var c=i+1;a<2e3?c>5?(Gt=!0,window.__CORE_SDK__.isBotFeat="T",Yt(c,t,"T")):Yt(c,t,"F"):Yt(1,t,"F")}return}}}Yt(1,t,"F")}catch(e){}}(),(f()||/Wireless|bdmap|baidumap/i.test(navigator.userAgent))&&(r=!1,Vt=!0),r&&(window.__CORE_SDK__.isBotFeat="T"),window.addEventListener("pagehide",(function(){$t(r,Vt,"pagehide")})),window.addEventListener("beforeunload",(function(){$t(r,Vt,"beforeunload")})),setTimeout((function(){$t(r,Vt,"timeout15s")}),15e3)}();var un={};window.isRewrite||"T"!==m("openRewrite")||"T"===(null===(Ut=window.__CORE_SDK__)||void 0===Ut?void 0:Ut.isBotFeat)||(window.isRewrite=!0,function(e){var t=["/bee/collect","getAppConfig","__nextjs_original-stack-frame","/_next/"].concat(c(m("fetchBlackList")||[])),n=["createclientid","getAppConfig","chloro-device","model-poc2"].concat(c(m("xhrBlackList")||[]));try{var r=window.fetch&&window.fetch.toString().includes("[native code]");if(e.isNativeFetch=!!r,r){var o=window.fetch;window.fetch=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n&&n[0]){var i=n[0],a=n[1],c=a&&a._fromWC;"string"!=typeof i||t.some((function(e){return i.includes(e)}))||h({key:"web_core_monitor",data:{api:"fetch",url:i,fromWc:!!c}})}return o.apply(this,n)}}}catch(e){_({module:"monitor",category:"fetch",error:e})}try{var i=XMLHttpRequest&&XMLHttpRequest.prototype.open.toString().includes("[native code]");if(e.isNativeXhr=!!i,i){var a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t&&t[1];return"string"!=typeof o||n.some((function(e){return o.includes(e)}))||h({key:"web_core_monitor",data:{api:"XMLHttpRequest",url:t&&t[1]}}),a.apply(this,t)}}}catch(e){_({module:"monitor",category:"XMLHttpRequest",error:e})}}(un)),h({key:"web_core_detect",data:i({fetch:"function"==typeof window.fetch,indexDB:!!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)},un)}),window.addEventListener("load",(function(){var e,t,n=window.__CORE_SDK__||{},r=n.checkClientId,o=void 0===r||r,i=n.GUIDDomainHook,c=n.selfPerfReport,s=(window.__CORE_SDK__||{}).disablePerfReport;c&&(s=!0,window.__CORE_ResPerf=O,window.__CORE_WebVitals=Ne),nn(s);try{var u;try{var d=document.getElementById("webcore_internal");d&&(window.__CORE_SERVER__=u=JSON.parse(d.textContent))}catch(e){}h({key:"web_core_module_data",data:{module:"web-core",RootMessageId:u&&u.rootMessageId,shark:u&&"T"===u.shark}});for(var l={},f=document.cookie.split("; "),p=0;p<f.length;p++){var m=f[p],v=m.indexOf("="),g=m.substr(0,v)||"",_=m.substr(v+1)||"";l[g]=_.length}h({key:"web_core_store",data:{category:"cookieSize",module:"cookie",length:document.cookie.length,keys:JSON.stringify(l)},value:document.cookie.length});e=/(CtripWireless|sml_wireless|gs_wireless|we_wireless|TieyouWireless|_CFWireless_)/i.test(navigator.userAgent),t=/CTRIPPER|_tripPal_CtripWireless|isInHTApp/i.test(navigator.userAgent),e&&!t||/MicroMessenger/i.test(navigator.userAgent)&&(/miniprogram/i.test(navigator.userAgent)||"undefined"!=typeof window&&"miniprogram"===window.__wxjs_environment)||l.GUID||l._n_cid||!o||B("https://".concat(y(),"/restapi/soa2/10290/createclientid?systemcode=09&createtype=3&contentType=json"),{}).then((function(e){return e.json()})).then((function(e){var t=e&&e.ClientID;if(t){var n=location.hostname;/\.ctrip\.com/.test(location.host)?n=".ctrip.com":/\.trip\.com/.test(location.host)?n=".trip.com":/\.ctripcorp\.com/.test(location.host)&&(n=".ctripcorp.com"),"function"==typeof i&&(n=i(location.host,n));var r=new Date((new Date).getTime()+93312e6);document.cookie="GUID=".concat(t,"; Expires=").concat(r.toGMTString(),"; Path=/; Domain=").concat(n)}})).catch((function(e){console.log(e)}));var w=u&&u.fetchPerf;if(Array.isArray(w))for(var b=0;b<w.length;b++){var S=w[b],T=S.duration,k=S.success,E=S.url,C=a(S,Zt);C.requestHost=E.startsWith("http")?new URL(E).hostname:location.hostname,h({key:k?"o_web_http_success":"o_web_http_fail",value:T,data:C})}}catch(e){}}))}();
